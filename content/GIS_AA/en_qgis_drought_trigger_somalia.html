

<!DOCTYPE html>


<html lang="en" data-content_root="" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>QGIS Trigger Workflow for Somalia &#8212; GIS Resource Training Center</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../_static/styles/theme.css?digest=5b4479735964841361fd" rel="stylesheet" />
<link href="../../_static/styles/bootstrap.css?digest=5b4479735964841361fd" rel="stylesheet" />
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=5b4479735964841361fd" rel="stylesheet" />

  
  <link href="../../_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=5b4479735964841361fd" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" href="../../_static/styles/sphinx-book-theme.css?digest=14f4ca6b54d191a8c7657f6c759bf11a5fb86285" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../_static/scripts/bootstrap.js?digest=5b4479735964841361fd" />
<link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=5b4479735964841361fd" />
  <script src="../../_static/vendor/fontawesome/6.1.2/js/all.min.js?digest=5b4479735964841361fd"></script>

    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/clipboard.min.js"></script>
    <script src="../../_static/copybutton.js"></script>
    <script src="../../_static/scripts/sphinx-book-theme.js?digest=5a5c038af52cf7bc1a1ec88eea08e6366ee68824"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../../_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../../_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../../_static/sphinx-thebe.js"></script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'content/GIS_AA/en_qgis_drought_trigger_somalia';</script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="QGIS Basic Exercise SRCS" href="en_qgis_srcs_basic_ex.html" />
    <link rel="prev" title="Workflow de dÃ©clenchement en QGIS pour Madagascar" href="fr_qgis_cyclone_trigger_madagascar.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <div id="pst-scroll-pixel-helper"></div>

  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>
    Back to top
  </button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>


  <div class="bd-header-announcement container-fluid bd-header-announcement">
    <div class="bd-header-announcement__content">Looking to contribute? Take a look at the contribution guidelines and contact us!</div>
  </div>

  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  

<a class="navbar-brand logo" href="../intro.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../../_static/IFRC_Logo_Horizontal_RGB.svg" class="logo__image only-light" alt="GIS Resource Training Center - Home"/>
    <script>document.write(`<img src="../../_static/IFRC_Logo_Horizontal_RGB.svg" class="logo__image only-dark" alt="GIS Resource Training Center - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item"><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../intro.html">
                    Welcome to the IFRC Network GIS Training Platform
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Modules</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../Module_1/en_module_1_overview.html">1. Introduction to GIS</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-1"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../Module_1/en_qgis_theory.html">1.1. What is GIS?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Module_1/en_qgis_installation.html">1.2. Setting up</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Module_1/en_qgis_start.html">1.3. Getting started with QGIS</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Module_1/en_qgis_module_1_exercises.html">1.4. Exercises for Module 1</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../Module_2/en_module_2_overview.html">2. Working with Geodata</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-2"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../Module_2/en_qgis_geodata_concept.html">2.1. Introduction to geodata and layers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Module_2/en_qgis_projections.html">2.2. Projections</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Module_2/en_qgis_geodata_management.html">2.3. Geodata management</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Module_2/en_qgis_attribute_table.html">2.4. Attribute Table</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Module_2/en_data_sources.html">2.5. Data sources</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Module_2/en_qgis_basemap.html">2.6. Basemaps</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Module_2/en_qgis_module_2_exercises.html">2.7. Exercises for Module 2</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../Module_3/en_module_3_overview.html">3. Basic GIS Operations</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-3"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../Module_3/en_qgis_digitalisation.html">3.1. Digitisation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Module_3/en_qgis_data_queries.html">3.2. Geodata Selection and Queries</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Module_3/en_qgis_data_classification.html">3.3. Geodata Classification</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Module_3/en_qgis_georeferencing.html">3.4. Georeferencing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Module_3/en_qgis_module_3_exercises.html">3.5. Exercises for Module 3</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../Module_4/en_module_4_overview.html">4. Visualisation of Geodata and Map Making</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-4"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../Module_4/en_qgis_map_design_I.html">4.1. Symbology and Colours</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Module_4/en_qgis_styling_vector_data.html">4.2. Styling Vector Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Module_4/en_qgis_labels_vector.html">4.3. Labels for Vector Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Module_4/en_qgis_working_with_styles.html">4.4. Exporting and Importing Styles</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Module_4/en_qgis_symbology_raster.html">4.5. Symbology for Raster Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Module_4/en_qgis_map_design_2.html">4.6. The Print layout</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Module_4/en_qgis_understanding_print_layout.html">4.7. Understanding the Print Layout Composer</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Module_4/en_qgis_map_examples.html">4.8. Good Map Design &amp; Semiological Errors</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Module_4/en_qgis_module_4_exercises.html">4.9. Exercises for Module 4</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../Module_5/en_module_5_overview.html">5. Intermediate GIS Operations</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-5"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../Module_5/en_qgis_spatial_tools.html">5.1. Spatial data processing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Module_5/en_qgis_overlay_operations.html">5.2. Overlay Operations (Clip, Dissolve, Buffer)</a></li>

<li class="toctree-l2"><a class="reference internal" href="../Module_5/en_qgis_centroids.html">5.4. Centroids</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Module_5/en_qgis_non_spatial_tools.html">5.5. Non-Spatial processing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Module_5/en_qgis_module_5_exercises.html">5.6. Exercises for Module 5</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../Module_6/en_module_6_overview.html">6. Data Analysis with QGIS</a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-6"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../Module_6/en_qgis_data_analysis_theory.html">6.1. Data Analysis with QGIS</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Module_6/en_qgis_common_data_analysis.html">6.2. Data Analysis in the Humanitarian Sector</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Module_6/en_qgis_module_6_exercises.html">6.3. Exercises Module 6 - Data Analysis with QGIS</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../Module_7/en_module_7_overview.html">7. Automation with QGIS</a><input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-7"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../Module_7/en_qgis_automation_theory.html">7.1. Automation theory</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Module_7/en_qgis_module_7_exercises.html">7.2. Exercises for Module 7</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../Module_8/en_module_8_overview.html">8. Remote Sensing and Raster Data</a><input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-8"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../Module_8/en_qgis_remote_sensing_raster_theory.html">8.1. Remote Sensing and Raster data theory ð°ï¸</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Module_8/en_qgis_raster_operations.html">8.2. Common Raster Operations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Module_8/en_qgis_remote_sensing_theory.html">8.3. Introduction to Remote Sensing and Remote Sensing Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Module_8/en_qgis_module_8_ex1.html">8.4. Raster data Exercise 1: Basic Assessment of Flood Exposure in the Indus Basin in Pakistan</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../Module_9/en_module_9_overview.html">9. Network Analysis</a><input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-9"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../Module_9/en_qgis_network_analysis_theory.html">9.1. Spatial Network Analysis Theory</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Module_9/en_qgis_openrouteservice_tools.html">9.2. Plugin: Openrouteservice (ORS) tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Module_9/en_qgis_centrality.html">9.3. Network centrality measures and its application in QGIS</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Module_9/en_qgis_module_9_exercises.html">9.4. Exercises Module 9: Network Analysis</a></li>
</ul>
</li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Exercises</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../Exercise_tracks/en_exercise_tracks_overview.html">Exercise Overview</a><input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-10"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../Exercise_tracks/en_larkana_flood_response.html">Exercise Track: Larkana Flood Response</a></li>

<li class="toctree-l2"><a class="reference internal" href="../Exercise_tracks/en_mdg_aa_cyclones.html">Exercise Track: Anticipatory Action Analysis for Cyclones in Madagascar</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Exercise_tracks/fr_mdg_aa_cyclones.html">Piste dâExercice : Analyse dâAction Anticipative pour les Cyclones Ã  Madagascar</a></li>
</ul>
</li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Wiki</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../Wiki/en_qgis_qgis_basics_wiki.html">QGIS Basics</a><input class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-11"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../Wiki/en_qgis_installation_wiki.html">QGIS installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Wiki/en_qgis_interface_wiki.html">QGIS Interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Wiki/en_qgis_projects_folder_structure_wiki.html">Projects and Folder Structure</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Wiki/en_qgis_projections_wiki.html">Projections</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Wiki/en_qgis_basemaps_wiki.html">Basemaps</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Wiki/en_qgis_plugins_wiki.html">Plugins</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Wiki/en_qgis_data_sources_wiki.html">Data sources</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Wiki/en_licensing_data.html">Data Licenses (working with licensed datasets)</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../Wiki/en_qgis_geodata_wiki.html">Geodata</a><input class="toctree-checkbox" id="toctree-checkbox-12" name="toctree-checkbox-12" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-12"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../Wiki/en_qgis_geodata_types_wiki.html">Types of Geodata</a></li>


<li class="toctree-l2"><a class="reference internal" href="../Wiki/en_qgis_import_geodata_wiki.html">Geodata Import in QGIS</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Wiki/en_qgis_OpenStreetMap_wiki.html">OpenStreetMap (OSM) Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Wiki/en_qgis_layer_concept_wiki.html">Layer Concept</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Wiki/en_qgis_attribute_table_wiki.html">Attribute Table in QGIS</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Wiki/en_qgis_digitisation_wiki.html">Digitisation</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../Wiki/en_qgis_data_classification_wiki.html">Geodata Classification</a><input class="toctree-checkbox" id="toctree-checkbox-13" name="toctree-checkbox-13" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-13"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../Wiki/en_qgis_single_symbol_wiki.html">Single symbol classification</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Wiki/en_qgis_categorised_wiki.html">Categorised classification</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Wiki/en_qgis_graduated_wiki.html">Graduated classification</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../Wiki/en_qgis_geoprocessing_wiki.html">Geoprocessing</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../Wiki/en_qgis_queries_wiki.html">Spatial and Non-spatial queries</a><input class="toctree-checkbox" id="toctree-checkbox-14" name="toctree-checkbox-14" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-14"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../Wiki/en_qgis_spatial_queries_wiki.html">Spatial Queries</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Wiki/en_qgis_non_spatial_queries_wiki.html">Non-Spatial Queries</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../Wiki/en_qgis_table_functions_wiki.html">Manipulating the Attribute Table (Table functions)</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../Wiki/en_qgis_joins_wiki.html">Joining Geodata (Spatial and non-spatial joins)</a><input class="toctree-checkbox" id="toctree-checkbox-15" name="toctree-checkbox-15" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-15"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../Wiki/en_qgis_spatial_joins_wiki.html">Spatial Joins</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Wiki/en_qgis_non_spatial_joins_wiki.html">Non-Spatial Joins</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../Wiki/en_qgis_raster_wiki.html">Raster</a><input class="toctree-checkbox" id="toctree-checkbox-16" name="toctree-checkbox-16" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-16"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../Wiki/en_qgis_raster_basic_wiki.html">Basic Raster Operations</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../Wiki/en_qgis_automatisation_wiki.html">Automatisation in QGIS (The Model Builder)</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../Wiki/en_qgis_representation_wiki.html">Visualisation and Map Making in QGIS</a><input class="toctree-checkbox" id="toctree-checkbox-17" name="toctree-checkbox-17" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-17"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../Wiki/en_qgis_visualisation_wiki.html">Visualisation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Wiki/en_qgis_map_making_wiki.html">The Print Layout Composer</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../Wiki/en_qgis_common_errors_and_Issues.html">QGIS common errors and issues <!-- omit from toc --></a></li>

<li class="toctree-l1"><a class="reference internal" href="../Wiki/en_web_and_mobile_apps_wiki.html">Web &amp; mobile GIS applications</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Wiki/en_geodata_management_sharepoint.html">Geodata Management with Sharepoint</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">GIS in Anticipatory Action</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="en_qgis_cyclone_trigger_madagascar.html">QGIS Trigger Workflow for Madagascar</a></li>


<li class="toctree-l1 current active"><a class="current reference internal" href="#">QGIS Trigger Workflow for Somalia</a></li>


<li class="toctree-l1 has-children"><a class="reference internal" href="en_AILAS_madagascar.html">AI Logistic Awareness System (AILAS) Street level image collection Field Experiments</a><input class="toctree-checkbox" id="toctree-checkbox-18" name="toctree-checkbox-18" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-18"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="en_AILAS_madagascar_camera_usage_guide.html">Camera Usage Guide: AILAS Project</a></li>
<li class="toctree-l2"><a class="reference internal" href="en_AILAS_madagascar_picture_upload_and_management.html">Picture upload and management: AILAS Project</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="fr_AILAS_madagascar.html">SystÃ¨me de conscience siuationelle logistique par IA (AILAS): ExpÃ©rimentations de terrain pour la collecte dâimages au niveau de la rue</a><input class="toctree-checkbox" id="toctree-checkbox-19" name="toctree-checkbox-19" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-19"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="fr_AILAS_madagascar_camera_usage_guide.html">Guide dâutilisation de la camÃ©ra: projet AILAS</a></li>
<li class="toctree-l2"><a class="reference internal" href="fr_AILAS_madagascar_picture_upload_and_management.html">TÃ©lÃ©versement et gestion des images : Projet AILAS</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="en_qgis_risk_assessment_plugin.html">Risk Assessment QGIS Plugin</a><input class="toctree-checkbox" id="toctree-checkbox-20" name="toctree-checkbox-20" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-20"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="en_qgis_generate_indicators_for_plugin.html">How to generate Risk Indicators</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="en_qgis_historical_impact_assessment_sudan.html">Historical Impact Assessment (HIA) for Flood in Sudan</a></li>

<li class="toctree-l1"><a class="reference internal" href="en_qgis_GIS_AA_exercises.html">Exercises - GIS in Anticipatory Action</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Mobile Data Collection</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../Mobile_Data_collection/en_SMT.html">Sketch Map Tool</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../Mobile_Data_collection/en_SMT_training.html">Sketch Map Tool Training</a><input class="toctree-checkbox" id="toctree-checkbox-21" name="toctree-checkbox-21" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-21"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../Mobile_Data_collection/en_SMT_ex1_.html">Sketch Map Tool Exercise 1 - Workflow Exercise</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Mobile_Data_collection/en_SMT_ex2_.html">Sketch Map Tool Exercise 2 - Traffic light</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Mobile_Data_collection/en_SMT_ex3_.html">Sketch Map Tool Exercise 3 - Role Play using the Sketch Map Tool in EVCA</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Mobile_Data_collection/en_SMT_ex4_.html">Sketch Map Tool Exercise 4 - Basic Visualization of the results in QGIS &amp; uMAP</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Mobile_Data_collection/en_SMT_ex5_.html">Sketch Map Tool Exercise 5 - Heat Map Visualization</a></li>
</ul>
</li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Trainers corner</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../Trainers_corner/en_TOT_intro.html">Train of trainers introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Trainers_corner/en_how_to_training.html">How to plan a whole GIS Training</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Trainers_corner/en_training_graphical_outline.html">Training Agenda and Handout</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Trainers_corner/en_training_day_structure.html">How to plan and structure a GIS Training Session</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Trainers_corner/en_how_to_teach_GIS.html">How to teach GIS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Trainers_corner/en_how_to_assessment.html">Assessments in GIS Training: A Guide</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">About</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../About/about_1.html">About</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contribution_plan.html">Contribution Plan for the IFRC GIS Training Platform</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Glossary/en_glossary_1.html">Glossary</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/GIScience/gis-training-resource-center" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/GIScience/gis-training-resource-center/issues/new?title=Issue%20on%20page%20%2Fcontent/GIS_AA/en_qgis_drought_trigger_somalia.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../../_sources/content/GIS_AA/en_qgis_drought_trigger_somalia.md" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.md</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>QGIS Trigger Workflow for Somalia</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#">QGIS Trigger Workflow for Somalia</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#background">Background</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#trigger-statement">Trigger Statement</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#trigger-input-data">Trigger Input Data</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#fixed-data">Fixed Data</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#monitoring-data">Monitoring Data</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#what-is-the-standarized-precipitation-index-spi-12">What is the Standarized Precipitation Index (SPI-12)?</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#what-is-ipc-food-security-projection-data">What is IPC Food Security Projection Data?</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#ipc-food-security-projection">IPC Food Security Projection:</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#ipc-population-weighted-index">IPC-Population Weighted Index</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#trigger-workflow-automated">Trigger Workflow Automated</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#step-1-setting-up-folder-structure">Step 1: Setting up folder structure</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#step-2-download-of-the-forecast-data">Step 2: Download of the forecast data</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#spi-12-data">SPI-12 Data</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ipc-data">IPC Data</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#step-3-loading-data-into-qgis">Step 3: Loading data into QGIS</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#step-4-load-the-model-in-the-qgis-model-designer">Step 4: Load the model in the QGIS Model Designer</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#step-5-run-the-model">Step 5: Run the model</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#step-6-visualisation-of-results">Step 6: Visualisation of results</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#step-7-making-the-print-map">Step 7: Making the Print Map</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#step-8-exporting-the-map">Step 8: Exporting the Map</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#troubleshooting-the-model">Troubleshooting the Model</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#trigger-workflow-manually">Trigger Workflow Manually</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id1">Step 1: Setting up folder structure</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id2">Step 2: Download of the forecast data</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id3">SPI-12 Data</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id5">IPC Data</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id7">Step 3: Loading data into QGIS</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#step-4-formatting-the-adm2-names">Step 4: Formatting the ADM2-names</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#step-5-dissolving-admin-2-polygons">Step 5: Dissolving admin 2 polygons</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#step-6-add-population-statistics-to-the-adm2-layer">Step 6: Add population statistics to the adm2 layer</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#step-4-extracting-ml1-and-ml2-from-the-geojson-layer">Step 4: Extracting ML1 and ML2 from the GeoJSON layer</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#step-5-fixing-the-geometries-for-the-ml-1-ml-2-layers">Step 5: Fixing the Geometries for the ML 1 &amp; ML 2 layers</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#step-6-intersection-of-ml-1-ml-2-data-with-the-district-polygons">Step 6: Intersection of ML 1 &amp; ML 2 data with the district polygons</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#step-7-calculation-of-population-per-intersection-polygon">Step 7: Calculation of Population per Intersection Polygon</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#step-8-weighting-of-the-population-based-on-ipc-phase">Step 8: Weighting of the Population based on IPC-Phase</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#step-9-adding-the-total-district-population-to-intersection-polygons">Step 9: Adding the total district population to Intersection Polygons</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#step-10-calculation-of-the-population-proportion-per-intersection-polygon">Step 10: Calculation of the Population Proportion per Intersection Polygon</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#step-11-calculate-the-ipc-index-per-district">Step 11: Calculate the IPC Index per District</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#step-12-join-ml1-and-ml2">Step 12.: Join ML1 and ML2</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#step-13-calculation-of-spi-12-mean-per-district">Step 13: Calculation of SPI-12 Mean per District</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#step-14-join-spi-12-mean-to-the-ipc-index">Step 14: Join SPI-12 Mean to the IPC Index</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#step-15-evaluate-the-trigger-activation">Step 15: Evaluate the Trigger Activation</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#step-16-visualisation-of-results">Step 16: Visualisation of results</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#step-17-making-the-print-map">Step 17: Making the print map</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#step-18-exporting-the-map">Step 18: Exporting the Map</a></li>
</ul>
</li>
</ul>

            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="qgis-trigger-workflow-for-somalia">
<h1>QGIS Trigger Workflow for Somalia<a class="headerlink" href="#qgis-trigger-workflow-for-somalia" title="Permalink to this heading">#</a></h1>
<div class="admonition attention">
<p class="admonition-title">Attention</p>
<p>Due to the changes in the availability of FEWSNET data, we are using IPC food insecurity classification instead of the FEWSNET classification. We are currently updating the documentation for the updated trigger model.</p>
</div>
<p>The QGIS workflow presented in this article was developed in the framework of the Forecast-based-Action (FbF) Project of the Somalia Red Cresent Society (SRCS), the German Red Cross (GRC) and the Heidelberg Institute for Geoinformation Technology (HeiGIT).</p>
<p>The workflow consists of 15 steps of which 9 are automated in the form of a QGIS Model. In this article, we explain how all 15 steps can be done manually. In practice one needs to do only 6 steps manually, the rest is done by the QGSI Model.
The chapter Workflow Automated explains the process and how it is intended in practice. The chapter Workflow Manually is to understand what happens inside of the QGIS Model.</p>
<section id="background">
<h2>Background<a class="headerlink" href="#background" title="Permalink to this heading">#</a></h2>
<p>Setting triggers is one of the cornerstones of the Forecast-based Financing system. For a National Society to have access to automatically released funding for their early actions, their Early Action Protocol needs to clearly define where and when funds will be allocated, and assistance will be provided. In FbF, this is decided according to specific threshold values, so-called triggers, based on weather and climate forecasts, which are defined for each region (see <a class="reference external" href="https://manual.forecast-based-financing.org/en/chapter/set-the-trigger/">FbF Manual</a>).</p>
<p>For the development of the Somaliland-Somalia Drought Trigger mechanism various datasources were thoroughly analysed.
Finally, the main parameters chosen for the trigger based on the historical impact assessment are the twelve month Standard Precipitation Index (SPI12) and the IPC acute food insecurity classification. The exact data used are the documented and forecasted SPI12 (source: ICPAC) and the forecasted IPC classification (8 month forecast, source: FEWSNET), that is used to calculate a population weighted index of food insecurity. The trigger thresholds for both components were optimised towards the most favourable proportion of hit rate and false alarm rate. The emerging thresholds were &lt;-1 for the SPI12 and &gt;=0,7 for the IPC based index. The triggering is done on district level and per district just one trigger initiation per year is possible.</p>
</section>
<section id="trigger-statement">
<h2>Trigger Statement<a class="headerlink" href="#trigger-statement" title="Permalink to this heading">#</a></h2>
<p>When ICPAC issues a SPI-12 forecast of less than -1 for a district AND the current IPC food insecurity projection reaches at least 0.7 in its
derived population weighted index in the same district, then we will act in this district. We expect the lead-time to be 90 days.</p>
</section>
<section id="trigger-input-data">
<h2>Trigger Input Data<a class="headerlink" href="#trigger-input-data" title="Permalink to this heading">#</a></h2>
<p>For the trigger mechanism to work properly we currently use different datasets: data that we assume to be fixed in the near term, and variable data which describe the datasets that will be checked for triggering on a monthly base.</p>
<section id="fixed-data">
<h3>Fixed Data<a class="headerlink" href="#fixed-data" title="Permalink to this heading">#</a></h3>
<p>By fixed data we mean datasets that are needed for the trigger to work, that will most probably not change in the near term. In the long term these datasets can be adapted easily.</p>
<table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Dataset</p></th>
<th class="head"><p>Source</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Administrative boundaries</p></td>
<td><p><a class="reference external" href="https://data.humdata.org/dataset/cod-ab-som?">HDX</a></p></td>
<td><p>The administrative boundaries on level 0-2 for Somalia and Somaliland can be accessed via HDX. For this trigger mechanism we provide the administrative boundaries on level 2 (district level) as a shapefile.</p></td>
</tr>
<tr class="row-odd"><td><p>Population Counts</p></td>
<td><p><a class="reference external" href="https://hub.worldpop.org/doi/10.5258/SOTON/WP00534">Worldpop</a></p></td>
<td><p>The worldpop dataset in <code class="docutils literal notranslate"><span class="pre">.geotif</span></code> raster format provides population estimates per hectar for the year 2020.</p></td>
</tr>
</tbody>
</table>
<!--OUTDATED: admin boundaries (keep in for visualisation?)
"We have added the population number for each district derived from Worldpop."-->
</section>
<section id="monitoring-data">
<h3>Monitoring Data<a class="headerlink" href="#monitoring-data" title="Permalink to this heading">#</a></h3>
<div class="admonition attention">
<p class="admonition-title">Attention</p>
<p>The dataset used for monitoring the food insecurity phase has been updated to the classification and forecast published by the <a class="reference external" href="https://www.ipcinfo.org">Integrated Food Security Phase Classification</a> as of March 2025. Prior to this, the food insecurity forecast published by FEWSNET had been used.</p>
</div>
<p>The drought trigger mechanism is based on two variable monitoring datasets updated monthly: The SPI-12 forecast produced by ICPAC and the Food Insecurity projection produced by FEWSNET. The SPI-12 is used to capture hazard forecasts while the Food Insecurity Projection captures the dynamic vulnerability.
In this way upcoming drought events (SPI) that most probably will lead to food insecurity (IPC) will be captured.</p>
<table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Dataset</p></th>
<th class="head"><p>Source</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>SPI-12 forecast</p></td>
<td><p><a class="reference external" href="https://www.icpac.net/">ICPAC</a></p></td>
<td><p>meteorological drought indicator to monitor precipitation anomalies over 12-month accumulation periods</p></td>
</tr>
<tr class="row-odd"><td><p>IPC Projections</p></td>
<td><p><a class="reference external" href="https://www.ipcinfo.org/ipc-country-analysis/details-map/en/c/1159510/?iso3=SOM">IPC</a></p></td>
<td><p>five-phase scale providing common standards for classifying the severity of acute or anticipated acute food insecurity.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="what-is-the-standarized-precipitation-index-spi-12">
<h3>What is the Standarized Precipitation Index (SPI-12)?<a class="headerlink" href="#what-is-the-standarized-precipitation-index-spi-12" title="Permalink to this heading">#</a></h3>
<p>The Standardized Precipitation Index (SPI) is a widely used index to characterize meteorological drought.
The Standardized Precipitation Index (SPI-12) compares the total rainfall received at a particular location during the last 12 months with the long-term rainfall mean (42 years) for the same period of time at that location.</p>
</section>
<section id="what-is-ipc-food-security-projection-data">
<h3>What is IPC Food Security Projection Data?<a class="headerlink" href="#what-is-ipc-food-security-projection-data" title="Permalink to this heading">#</a></h3>
<p>The IPC is a commonly accepted measure and classification to describe the current and anticipated severity of acute food insecurity.
The classification is based on a convergence of available data and evidence, including indicators related to food consumption, livelihoods, malnutrition and mortality. Food Insecurity is one of the prioritized impacts of droughts in Somalia which is why it is also used for the triggering mechanism, in a population-weighted index.</p>
<table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Colour</p></th>
<th class="head"><p>Phase</p></th>
<th class="head"><p>Descriptions</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><img alt="" src="../../_images/IPC_Class_1.drawio.svg" /></p></td>
<td><p>1. Minimal</p></td>
<td><p>Households are able to meet essential food and non-food needs without engaging in atypical and unsustainable strategies to access food and income.</p></td>
</tr>
<tr class="row-odd"><td><p><img alt="" src="../../_images/IPC_Class_2.drawio.svg" /></p></td>
<td><p>2. Stressed</p></td>
<td><p>Households have minimally adequate food consumption but are unable to afford some essential non-food expenditures without engaging in stress-coping strategies.</p></td>
</tr>
<tr class="row-even"><td><p><img alt="" src="../../_images/IPC_Class_3.drawio.svg" /></p></td>
<td><p>3. Crisis</p></td>
<td><p>Households either have food consumption gaps that are reflected by high or above-usual acute malnutrition <strong>OR</strong> are marginally able to meet minimum food needs but only by depleting essential livelihood assets or through crisis-coping strategies.</p></td>
</tr>
<tr class="row-odd"><td><p><img alt="" src="../../_images/IPC_Class_4.drawio.svg" /></p></td>
<td><p>4. Emergency</p></td>
<td><p>Households either have large food consumption gaps which are reflected in very high acute malnutrition and excess mortality; <strong>OR</strong> are able to mitigate large food consumption gaps but only by employing emergency livelihood strategies and asset liquidation.</p></td>
</tr>
<tr class="row-even"><td><p><img alt="" src="../../_images/IPC_Class_5.drawio.svg" /></p></td>
<td><p>5. Famine</p></td>
<td><p>Households have an extreme lack of food and/or other basic needs even after full employment of coping strategies. Starvation, death, destitution, and extremely critical acute malnutrition levels are evident. (For Famine Classification, area needs to have extreme critical levels of acute malnutrition and mortality.)</p></td>
</tr>
</tbody>
</table>
<section id="ipc-food-security-projection">
<h4>IPC Food Security Projection:<a class="headerlink" href="#ipc-food-security-projection" title="Permalink to this heading">#</a></h4>
<p>Three times a year (February, June, and October) FEWSNET estimates most likely IPC classes for the upcoming 8 month (near-term and mid-term projection), available from 2019-current. The near-term projection is called ML1 and is a projection for the upcoming 4 month, the mid-term projection is called ML2 and projects the IPC classes for the 4 subsequent months. For the triggering ML1 (near-term) as well as ML2 (mid-term) projections will be considered.</p>
<p>Outlook updates are produced almost every month and are also taken into account.</p>
</section>
<section id="ipc-population-weighted-index">
<h4>IPC-Population Weighted Index<a class="headerlink" href="#ipc-population-weighted-index" title="Permalink to this heading">#</a></h4>
<p>To better operationalise the IPC data a simple population-weighted index was developed. Relative population numbers are weighted based on the respective IPC class they falling, in order to give the amount of people in a certain IPC class the importance instead of the IPC class only.
Furthermore, population located in a higher IPC class is more important than population located in a lower class. The index is calculated as follows:</p>
<p><span class="math notranslate nohighlight">\( IPC\ Index =  Weights \times \frac{District\ Pop\ per\ IPC\ Phase}{Total\ District\ Pop}\)</span></p>
<p>Where the weights are defined as:</p>
<table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>IPC Phase</p></th>
<th class="head"><p>Weight</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>IPC 1</p></td>
<td><p>0</p></td>
</tr>
<tr class="row-odd"><td><p>IPC 2</p></td>
<td><p>0</p></td>
</tr>
<tr class="row-even"><td><p>IPC 3</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-odd"><td><p>IPC 4</p></td>
<td><p>3</p></td>
</tr>
<tr class="row-even"><td><p>IPC 5</p></td>
<td><p>6</p></td>
</tr>
</tbody>
</table>
<p>The IPC Index represents low-population districts equal to high-population districts. No under-representation of high food insecurity of small districts occurs.</p>
</section>
</section>
</section>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="trigger-workflow-automated">
<h1>Trigger Workflow Automated<a class="headerlink" href="#trigger-workflow-automated" title="Permalink to this heading">#</a></h1>
<p>As explained in the beginning of this <a class="reference external" href="https://giscience.github.io/gis-training-resource-center/content/GIS_AA/en_qgis_drought_trigger_somalia.html#qgis-trigger-workflow-for-somalia">chapter</a>, the 9 main steps of the developed trigger workflow are done automatically by a QGIS model. In the previous chapters you have learned the purpose and needed tools of each step and how to perform them manually. In this chapter it is explained how to run the automated model.</p>
<p>The <a class="reference external" href="https://giscience.github.io/gis-training-resource-center/content/Wiki/en_qgis_automatisation_wiki.html#the-qgis-model-designer">QGIS Model Designer</a> is a visual tool that allows users to create and edit a workflow with all tools available in QGIS that can be used repeatedly in a simple and time-efficient manner. It provides a graphical interface to build workflows by connecting geoprocessing tools and algorithms. The user can define inputs, outputs, and the flow of data between different processing steps.</p>
<!--The Model designer chapter is completely unfinished. Also, what are the previous chapters? the modules?-->
<div class="note admonition">
<p class="admonition-title">Troubleshooting the model</p>
<p>When updating the monitoring, make sure you compare the new input layers with the previous input layers.
It can happen that the data structure from FEWSNET or ICPAC changes. For example, the attribute columns are called differently, or the values for the classes change. In these cases, the model can break and output error messages.</p>
<p>To fix these issues, take a look at the subsection on <a class="reference external" href="https://giscience.github.io/gis-training-resource-center/content/GIS_AA/en_qgis_drought_trigger_somalia.html#troubleshooting-the-model">Troubleshooting the model</a>.</p>
</div>
<section id="step-1-setting-up-folder-structure">
<h2>Step 1: Setting up folder structure<a class="headerlink" href="#step-1-setting-up-folder-structure" title="Permalink to this heading">#</a></h2>
<figure class="align-center">
<a class="reference internal image-reference" href="../../_images/Drought_EAP_Worklow_Step_1_1.png"><img alt="../../_images/Drought_EAP_Worklow_Step_1_1.png" src="../../_images/Drought_EAP_Worklow_Step_1_1.png" style="width: 1000px;" /></a>
</figure>
<p><strong>Purpose:</strong> In this step we set up the correct folder structure to make the analysis easier and to ensure consistent results.</p>
<p><strong>Tool:</strong> No special tools or programs are needed</p>
<table class="table">
<colgroup>
<col style="width: 29%" />
<col style="width: 71%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Instruction</p></th>
<th class="head"><p>Folder Structure</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><ol class="arabic simple">
<li><p>Open the Folder âFbF_Drought_Monitoring_Triggerâ</p></li>
<li><p>Open the subfolder âMonitoringâ</p></li>
<li><p>Copy the Template folder âTEMPLATE_Year_Monthâ and change the name to the current year and month. The result could be the folder â2022_05â</p></li>
</ol>
</td>
<td><figure class="align-center">
<a class="reference internal image-reference" href="../../_images/Folder_structure_FbF_Drought_Monitoring_Trigger.drawio.svg"><img alt="../../_images/Folder_structure_FbF_Drought_Monitoring_Trigger.drawio.svg" src="../../_images/Folder_structure_FbF_Drought_Monitoring_Trigger.drawio.svg" width="450px" /></a>
</figure>
</td>
</tr>
</tbody>
</table>
<p>The Video below shows the process for setting up the folder for december 2023.</p>
<details class="sd-sphinx-override sd-dropdown sd-card sd-mb-3">
<summary class="sd-summary-title sd-card-header">
Video: Setting up folder structure <div class="sd-summary-down docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-down" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M5.22 8.72a.75.75 0 000 1.06l6.25 6.25a.75.75 0 001.06 0l6.25-6.25a.75.75 0 00-1.06-1.06L12 14.44 6.28 8.72a.75.75 0 00-1.06 0z"></path></svg></div>
<div class="sd-summary-up docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-up" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M18.78 15.28a.75.75 0 000-1.06l-6.25-6.25a.75.75 0 00-1.06 0l-6.25 6.25a.75.75 0 101.06 1.06L12 9.56l5.72 5.72a.75.75 0 001.06 0z"></path></svg></div>
</summary><div class="sd-summary-content sd-card-body docutils">
<p class="sd-card-text"><video width="100%" controls muted src="https://github.com/GIScience/gis-training-resource-center/raw/main/fig/SRCS_Trigger_folder_setup.mp4"></video></p>
</div>
</details></section>
<section id="step-2-download-of-the-forecast-data">
<h2>Step 2: Download of the forecast data<a class="headerlink" href="#step-2-download-of-the-forecast-data" title="Permalink to this heading">#</a></h2>
<figure class="align-center" id="som-drought-eap-step-2">
<a class="reference internal image-reference" href="../../_images/Drought_EAP_Worklow_Step_2_2.png"><img alt="../../_images/Drought_EAP_Worklow_Step_2_2.png" src="../../_images/Drought_EAP_Worklow_Step_2_2.png" style="width: 1000px;" /></a>
</figure>
<p><strong>Tool:</strong> FileZilla and Internet Browser</p>
<p>The current plans provide that ICPAC will monthly provide the SPI-12 forecast whereas the IPC data will be pulled from the FEWSNET website. FEWS NET publishes IPC data on its website.
The main data publications plus the updates of the IPC data amount to the publication of new data almost monthly.</p>
<section id="spi-12-data">
<h3>SPI-12 Data<a class="headerlink" href="#spi-12-data" title="Permalink to this heading">#</a></h3>
<p>ICPAC will provide the SPI-12 forecasts on their FTP (File Transfer Protocol). There are different ways to access the FTP-Server. We recommend to install and once set up <a class="reference external" href="https://filezilla-project.org/download.php?platform=win64">FileZilla</a>. This will make your work easily repeatable on a monthly basis.</p>
<ol class="arabic simple">
<li><p>Download Filezilla <a class="reference external" href="https://filezilla-project.org/download.php?platform=win64">here</a>.</p></li>
<li><p>Install the <code class="docutils literal notranslate"><span class="pre">.exe</span></code> file you have downloaded</p></li>
<li><p>Open FileZilla</p></li>
<li><p>Establish a connection to the FTP Server by inserting the credentials you have been passed (Host, Username and Password) and clicking <code class="docutils literal notranslate"><span class="pre">Quickconnect</span></code>.</p></li>
</ol>
<p>In FileZilla you have four windows. On the left hand side you will see the folder on your computer in the upper window. By clicking on a folder, the documents in the folder will be shown in the lower left window.
On the right hand side, you will see in the upper window the FTP data folder and by clicking on it, the data will be shown in the lower right window.</p>
<p>In order to pass the data from the FTP Server to your own machine you can simply drag and drop the folder or data from the right hand side windows (FTP-Server) to the left hand side windows (your Computer). To do so, firstly navigate to your folder where you need the latest SPI-12 data to be located <code class="docutils literal notranslate"><span class="pre">.../FbF_Drought_Monitoring_Trigger/Monitoring/Year_Month_template/SPI_12</span></code>. Then drag and drop the latest SPI-12 into the folder.</p>
<figure class="align-center" id="filezilla-interface">
<a class="reference internal image-reference" href="../../_images/FileZilla.PNG"><img alt="../../_images/FileZilla.PNG" src="../../_images/FileZilla.PNG" style="height: 400px;" /></a>
</figure>
</section>
<section id="ipc-data">
<h3>IPC Data<a class="headerlink" href="#ipc-data" title="Permalink to this heading">#</a></h3>
<p>The IPC Projection data is provided and regularly updated on the <a class="reference external" href="https://www.ipcinfo.org/ipc-country-analysis/details-map/en/c/1159510/?iso3=SOM">IPC Website</a>.
To navigate to the latest IPC Projection data on Somalia, navigate to <code class="docutils literal notranslate"><span class="pre">Latest</span> <span class="pre">Analyses</span></code> in the top bar &gt; <code class="docutils literal notranslate"><span class="pre">IPC</span> <span class="pre">Analyses</span></code> &gt; <code class="docutils literal notranslate"><span class="pre">Acute</span> <span class="pre">Food</span> <span class="pre">Insecurity</span> <span class="pre">Classification</span></code>. Here you look for the latest analysis for Somalia.</p>
<!---```{Warning}
The FEWSNET pages change often!
```

```{admonition} Updates to FEWSNET
:class: warning

As of December 2024, the FEWSNET Website does not offer the IPC data for ML1 and ML2 as two distinct shapefiles contained in a zip-file. Instead, you can download the GeoJSON-file, which contains a polygon layer with both the ML1 and ML2 polygons. The model and the documentation has been updated to work with the GeoJSON-file.

```
-->
<ol class="arabic simple">
<li><p>Go to the <a class="reference external" href="https://www.ipcinfo.org">IPC website</a></p></li>
<li><p>In the top bar, navigate to <code class="docutils literal notranslate"><span class="pre">Latest</span> <span class="pre">Analyses</span></code> &gt; <code class="docutils literal notranslate"><span class="pre">IPC</span> <span class="pre">Analyses</span></code> &gt; <code class="docutils literal notranslate"><span class="pre">Acute</span> <span class="pre">Food</span> <span class="pre">Insecurity</span> <span class="pre">Classification</span></code>.</p></li>
<li><p>On the new website, select Somalia as a country and select the newest dataset.</p></li>
<li><p>On this website, you will see both a map of the current and the projected IPC phase classifications, as well as some metadata. On the right side of the map, click on the button <code class="docutils literal notranslate"><span class="pre">Download</span> <span class="pre">GIS</span> <span class="pre">format</span></code>. This will download the analysis in a GeoJSON format, containing polygons for the administrative boundaries and IPC phases, as well as points for the IPC phase classification for IDP camps.</p></li>
</ol>
<figure class="align-center" id="ipcinfo-download-projections">
<a class="reference internal image-reference" href="../../_images/en_IPCinfo_website_dl_som.png"><img alt="../../_images/en_IPCinfo_website_dl_som.png" src="../../_images/en_IPCinfo_website_dl_som.png" style="height: 350px;" /></a>
</figure>
<ol class="arabic simple" start="4">
<li><p>Download the <strong>GeoJSON file</strong>. The filename is composed of the country name, the analysis type, and Year and month of publication. E.g., <code class="docutils literal notranslate"><span class="pre">Somalia-Acute</span> <span class="pre">Food</span> <span class="pre">Insecurity</span> <span class="pre">January</span> <span class="pre">2025.geoJSON</span></code></p></li>
</ol>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>In some cases, your operating system (Windows) misidentifies the GeoJSON-file as a <code class="docutils literal notranslate"><span class="pre">.customization</span></code>-file. This does not change anything and can be loaded into your QGIS-project.</p>
</div>
<ol class="arabic simple" start="5">
<li><p>Copy the GeoJSON-file into the input monitoring folder.</p></li>
</ol>
<ul class="simple">
<li><p>Example path: <code class="docutils literal notranslate"><span class="pre">/FbF_Drought_Monitoring_Trigger/Input_monitoring/Year_Month_template/Somalia-Acute</span> <span class="pre">Food</span> <span class="pre">Insecurity</span> <span class="pre">January</span> <span class="pre">2025.geoJSON</span></code></p></li>
</ul>
<!---
::::::{dropdown} Download workflow for shapefiles (if available)

4. Download the one with the __ZIP__ Data
5. When you have downloaded the data, right-click on the file and click on `Extract all` -> `Extract`
6. Open the extracted folder and copy the ML1 data in the IPC_ML1 folder you have created in step 1. 
  * The filename is composed of "SO" for Somalia, year and month of the report month e.g `SO_202308_ML1.shp`
  Example path: `.../FbF_Drought_Monitoring_Trigger/Monitoring/Year_Month_template/IPC_ML1`
7. Copy the ML2 data into IPC_ML2 folder you have created in step 1.
  * The filename is composed of "SO" for Somalia, year and month of the report month e.g `SO_202308_ML2.shp`
  Example path: `.../FbF_Drought_Monitoring_Trigger/Monitoring/Year_Month_template/IPC_ML2`
```{Warning}
Make sure to not use the ML1_IDP data which comes in the .zip folder as well!
```

::::{Warning}
Remember that you need to copy over all components that the respective [shapefile](https://giscience.github.io/gis-training-resource-center/content/Wiki/en_qgis_geodata_types_wiki.html#vector-data) is composed of. Most probably it has 5 components: .cpg, .dbf, .prj, .shp, and .shx.

```{figure} /fig/IPC_zip.PNG
---
height: 300px
name: Content of .zip file downloaded containing ML1 and ML2 IPC projections
align: center
---
```

::::

:::::
--->
<!---
```{tip}
On the [main FEWSNET page](https://fews.net/) you can also sign up for information on latest updates via email. For this option scroll down to the end of the page and click on `Sign up for Emails`. You will then get the option to choose updates only for Somalia.

```{figure} /fig/IPC_Newsletter.png
---
height: 60px
name: FEWSNET Newsletter
align: center
---
```
--->
</section>
</section>
<section id="step-3-loading-data-into-qgis">
<h2>Step 3: Loading data into QGIS<a class="headerlink" href="#step-3-loading-data-into-qgis" title="Permalink to this heading">#</a></h2>
<figure class="align-center">
<a class="reference internal image-reference" href="../../_images/Drought_EAP_Worklow_Step_3_1.png"><img alt="../../_images/Drought_EAP_Worklow_Step_3_1.png" src="../../_images/Drought_EAP_Worklow_Step_3_1.png" style="width: 1000px;" /></a>
</figure>
<p><strong>Purpose:</strong> In this step, all the data needed will be loaded into QGIS.</p>
<p><strong>Tool:</strong> No specific tools are needed, only QGIS.</p>
<ol class="arabic simple">
<li><p>Open QGIS and create a <a class="reference external" href="https://giscience.github.io/gis-training-resource-center/content/Wiki/en_qgis_projects_folder_structure_wiki.html#step-by-step-setting-up-a-new-qgis-project-from-scratch">new project</a> by clicking on <code class="docutils literal notranslate"><span class="pre">Project</span></code> -&gt; <code class="docutils literal notranslate"><span class="pre">New</span></code></p></li>
<li><p>Once the project is created save the project in the folder you created in Step 1 (e.g. 2022_05). To do that click on <code class="docutils literal notranslate"><span class="pre">Project</span></code> -&gt; <code class="docutils literal notranslate"><span class="pre">Save</span> <span class="pre">as</span></code> and navigate to the folder. Give the project the same name as the folder you created (e.g. 2022_05). Then click <code class="docutils literal notranslate"><span class="pre">Save</span></code></p></li>
<li><p>Load all input data in QGIS by <a class="reference external" href="https://giscience.github.io/gis-training-resource-center/content/Wiki/en_qgis_import_geodata_wiki.html#open-raster-data-via-drag-and-drop">drag and drop</a>. Click on <code class="docutils literal notranslate"><span class="pre">Project</span></code> -&gt; <code class="docutils literal notranslate"><span class="pre">Save</span></code></p></li>
</ol>
<ul class="simple">
<li><p>From the input monitoring folder you created in step 1:</p>
<ul>
<li><p>IPC Phase Classification</p></li>
<li><p>SPI-12</p></li>
</ul>
</li>
<li><p>From the <code class="docutils literal notranslate"><span class="pre">Fixed_data</span></code> folder:</p>
<ul>
<li><p>district_pop_som</p></li>
<li><p>Regions</p></li>
<li><p>risk_assessment.gpkg</p></li>
<li><p>WorldPop_som.tif</p></li>
</ul>
</li>
</ul>
<p><strong>Result:</strong> QGIS project with all necessary data ready to be analysed.</p>
<p>This video shows how to setup the QGIS project for April 2022 and how to import all data into the project.</p>
<details class="sd-sphinx-override sd-dropdown sd-card sd-mb-3">
<summary class="sd-summary-title sd-card-header">
Video: Loading data into QGIS<div class="sd-summary-down docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-down" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M5.22 8.72a.75.75 0 000 1.06l6.25 6.25a.75.75 0 001.06 0l6.25-6.25a.75.75 0 00-1.06-1.06L12 14.44 6.28 8.72a.75.75 0 00-1.06 0z"></path></svg></div>
<div class="sd-summary-up docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-up" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M18.78 15.28a.75.75 0 000-1.06l-6.25-6.25a.75.75 0 00-1.06 0l-6.25 6.25a.75.75 0 101.06 1.06L12 9.56l5.72 5.72a.75.75 0 001.06 0z"></path></svg></div>
</summary><div class="sd-summary-content sd-card-body docutils">
<p class="sd-card-text"><video width="100%" controls muted src="https://github.com/GIScience/gis-training-resource-center/raw/main/fig/SRCS_Trigger_step_3.mp4"></video></p>
</div>
</details></section>
<section id="step-4-load-the-model-in-the-qgis-model-designer">
<h2>Step 4: Load the model in the QGIS Model Designer<a class="headerlink" href="#step-4-load-the-model-in-the-qgis-model-designer" title="Permalink to this heading">#</a></h2>
<figure class="align-center">
<a class="reference internal image-reference" href="../../_images/Drought_EAP_Worklow_Step_4_1_automated_model.png"><img alt="../../_images/Drought_EAP_Worklow_Step_4_1_automated_model.png" src="../../_images/Drought_EAP_Worklow_Step_4_1_automated_model.png" style="width: 1000px;" /></a>
</figure>
<ol class="arabic simple">
<li><p>Open the tool under <code class="docutils literal notranslate"><span class="pre">Processing</span></code> -&gt; <code class="docutils literal notranslate"><span class="pre">Graphical</span> <span class="pre">Modeler</span></code></p></li>
<li><p>In the upper panel click <code class="docutils literal notranslate"><span class="pre">Model</span></code> -&gt; <code class="docutils literal notranslate"><span class="pre">Open</span> <span class="pre">Model</span></code> and navigate to your folder âFbF_Drought_Monitoring_Triggerâ, mark the âTriggermodel_Somalia.model3â (or the updated model: âIPC_Som_drought_revision_2.1.model3â) file an click on <code class="docutils literal notranslate"><span class="pre">Open</span></code>. The model will open and you will see yellow, white and green boxes.</p></li>
</ol>
<details class="sd-sphinx-override sd-dropdown sd-card sd-mb-3">
<summary class="sd-summary-title sd-card-header">
Video: Open Model<div class="sd-summary-down docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-down" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M5.22 8.72a.75.75 0 000 1.06l6.25 6.25a.75.75 0 001.06 0l6.25-6.25a.75.75 0 00-1.06-1.06L12 14.44 6.28 8.72a.75.75 0 00-1.06 0z"></path></svg></div>
<div class="sd-summary-up docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-up" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M18.78 15.28a.75.75 0 000-1.06l-6.25-6.25a.75.75 0 00-1.06 0l-6.25 6.25a.75.75 0 101.06 1.06L12 9.56l5.72 5.72a.75.75 0 001.06 0z"></path></svg></div>
</summary><div class="sd-summary-content sd-card-body docutils">
<p class="sd-card-text"><video width="100%" controls muted src="https://github.com/GIScience/gis-training-resource-center/raw/main/fig/load_model.mp4"></video></p>
</div>
</details><figure class="align-center" id="triggermodel-somalia-3">
<a class="reference internal image-reference" href="../../_images/SOM_model_designer_2.1.png"><img alt="../../_images/SOM_model_designer_2.1.png" src="../../_images/SOM_model_designer_2.1.png" style="width: 700px;" /></a>
</figure>
<table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Box</p></th>
<th class="head"><p>Significance</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Yellow</p></td>
<td><p>Model Input</p></td>
<td><p>Definition of the input data for the model the model will perform on</p></td>
</tr>
<tr class="row-odd"><td><p>White</p></td>
<td><p>Algorithms</p></td>
<td><p>Algorithms or Tools are specific geoprocessing steps that perform specific tasks, such as clipping, reprojecting or buffering.</p></td>
</tr>
<tr class="row-even"><td><p>Green</p></td>
<td><p>Model Output</p></td>
<td><p>The results created by the model (Output layers) are automatically added to your layers panel in your QGIS project interface</p></td>
</tr>
</tbody>
</table>
</section>
<section id="step-5-run-the-model">
<h2>Step 5: Run the model<a class="headerlink" href="#step-5-run-the-model" title="Permalink to this heading">#</a></h2>
<figure class="align-center">
<a class="reference internal image-reference" href="../../_images/Drought_EAP_Worklow_Step_5_1_automated_model.png"><img alt="../../_images/Drought_EAP_Worklow_Step_5_1_automated_model.png" src="../../_images/Drought_EAP_Worklow_Step_5_1_automated_model.png" style="width: 1000px;" /></a>
</figure>
<p><strong>Model Input &amp; Output</strong></p>
<div class="admonition attention">
<p class="admonition-title">Attention</p>
<p>In the dropdown list, only layers that are currently loaded in your QGIS Project will be displayed.</p>
</div>
<p>For each of these mandatory inputs, you click on the dropdown arrow and choose the respective file.</p>
<ol class="arabic">
<li><p>In the upper panel click on <code class="docutils literal notranslate"><span class="pre">Model</span></code> -&gt; <code class="docutils literal notranslate"><span class="pre">Run</span> <span class="pre">Model</span></code>. A window will open where you need to define the model input and output.</p></li>
<li><p>The model needs the following 3 inputs:</p>
<ol class="arabic simple">
<li><p><code class="docutils literal notranslate"><span class="pre">Somalia-Acute</span> <span class="pre">Food</span> <span class="pre">Insecurity</span> <span class="pre">January</span> <span class="pre">2025</span></code>: IPC Projection</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">SPI12</span></code> (SPI12 forecast): SPI-12 raster data</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Worldpop</span></code> (Population Raster data): Worldpop raster data</p></li>
</ol>
</li>
<li><p>Further down, you have to specify where to save the output:</p>
<ol class="arabic simple">
<li><p><code class="docutils literal notranslate"><span class="pre">Trigger_activation</span></code>: Click on the three points <img alt="" src="../../_images/Three_points.png" />-&gt; <code class="docutils literal notranslate"><span class="pre">Save</span> <span class="pre">to</span> <span class="pre">File</span></code> and navigate to <code class="docutils literal notranslate"><span class="pre">Results</span></code>folder in the folder you created in step 1 (Year_month). Give the output the name:</p></li>
</ol>
<div class="highlight-md notranslate"><div class="highlight"><pre><span></span>Trigger_activation
</pre></div>
</div>
<ol class="arabic simple" start="2">
<li><p><code class="docutils literal notranslate"><span class="pre">Indices</span></code>: Click on the three points <img alt="" src="../../_images/Three_points.png" />-&gt; <code class="docutils literal notranslate"><span class="pre">Save</span> <span class="pre">to</span> <span class="pre">File</span></code> and navigate to <code class="docutils literal notranslate"><span class="pre">Results</span></code>folder in the folder you created in step 1 (Year_month). Give the output the name:</p></li>
</ol>
<div class="highlight-md notranslate"><div class="highlight"><pre><span></span>Indices
</pre></div>
</div>
<ol class="arabic simple" start="3">
<li><p><code class="docutils literal notranslate"><span class="pre">IPC_Phase_C</span></code>:Click on the three points <img alt="" src="../../_images/Three_points.png" />-&gt; <code class="docutils literal notranslate"><span class="pre">Save</span> <span class="pre">to</span> <span class="pre">File</span></code> and navigate to <code class="docutils literal notranslate"><span class="pre">Results</span></code>folder in the folder you created in step 1 (Year_month). Give the output the name:</p></li>
</ol>
<div class="highlight-md notranslate"><div class="highlight"><pre><span></span>IPC_Phase_C
</pre></div>
</div>
<ol class="arabic simple" start="4">
<li><p><code class="docutils literal notranslate"><span class="pre">IPC_Phase_P</span></code>:Click on the three points <img alt="" src="../../_images/Three_points.png" />-&gt; <code class="docutils literal notranslate"><span class="pre">Save</span> <span class="pre">to</span> <span class="pre">File</span></code> and navigate to <code class="docutils literal notranslate"><span class="pre">Results</span></code>folder in the folder you created in step 1 (Year_month). Give the output the name:</p></li>
</ol>
<div class="highlight-md notranslate"><div class="highlight"><pre><span></span>IPC_Phase_P
</pre></div>
</div>
</li>
<li><p>Click <code class="docutils literal notranslate"><span class="pre">Run</span></code>. Your results layer will appear in the main QGIS window. You can close the graphical modeller window.</p></li>
</ol>
<details class="sd-sphinx-override sd-dropdown sd-card sd-mb-3">
<summary class="sd-summary-title sd-card-header">
Video: Input and output Model<div class="sd-summary-down docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-down" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M5.22 8.72a.75.75 0 000 1.06l6.25 6.25a.75.75 0 001.06 0l6.25-6.25a.75.75 0 00-1.06-1.06L12 14.44 6.28 8.72a.75.75 0 00-1.06 0z"></path></svg></div>
<div class="sd-summary-up docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-up" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M18.78 15.28a.75.75 0 000-1.06l-6.25-6.25a.75.75 0 00-1.06 0l-6.25 6.25a.75.75 0 101.06 1.06L12 9.56l5.72 5.72a.75.75 0 001.06 0z"></path></svg></div>
</summary><div class="sd-summary-content sd-card-body docutils">
<p class="sd-card-text"><video width="100%" controls muted src="https://github.com/GIScience/gis-training-resource-center/raw/main/fig/model_input_output.mp4"></video></p>
</div>
</details><figure class="align-center">
<a class="reference internal image-reference" href="../../_images/SRCS_Model_input.png"><img alt="../../_images/SRCS_Model_input.png" src="../../_images/SRCS_Model_input.png" style="width: 500px;" /></a>
</figure>
<!---
::::{dropdown} Workflow for the old model (with shapefiles)

```{figure} /fig/Model_Designer.PNG
---
width: 700px
name: Triggermodel_Somalia_1
align: center
---
```

2. The model needs these 5 inputs:
    1. `IPC_Projection_ML1`: ML 1 data
    2. `IPC_Projection_ML2`: ML 2 data
    3. `Pop_per_district`: district_pop_sum
    4. `SPI12` (SPI12 forecast): SPI-12 data
    5. `Worldpop` (Population Raster data): Worldpop data
3. Further down, you have to specify where to save the output: 
    1. `Trigger_activation`: Click on the three points ![](/fig/Three_points.png)-> `Save to File` and navigate to `Results`folder in the folder you created in step 1 (Year_month). Give the output the name: 
    ```md
    Trigger_activation
    ```

    2. `ML2_ML1_Indices_joined`: Click on the three points ![](/fig/Three_points.png)-> `Save to File` and navigate to `Results`folder in the folder you created in step 1 (Year_month). Give the output the name: 
    ```md
    ML2_ML1_Indices_joined
    ```

    3. `SPI12_mean_IPC_Indices_joined`:Click on the three points ![](/fig/Three_points.png)-> `Save to File` and navigate to `Results`folder in the folder you created in step 1 (Year_month). Give the output the name: 
    ```md
    SPI12_mean_IPC_Indices_joined
    ```
4. Click `Run`. Your results layer will appear in the main QGIS window. You can close the graphical modeller window.

```{dropdown} Video: Input and output Model
<video width="100%" controls muted src="https://github.com/GIScience/gis-training-resource-center/raw/main/fig/model_input_output.mp4"></video>
```

```{figure} /fig/SRCS_Model_input.png
---
width: 500px
name: 
align: center
---
```

::::
-->
</section>
<section id="step-6-visualisation-of-results">
<h2>Step 6: Visualisation of results<a class="headerlink" href="#step-6-visualisation-of-results" title="Permalink to this heading">#</a></h2>
<figure class="align-center">
<a class="reference internal image-reference" href="../../_images/Drought_EAP_Worklow_Step_14_1.png"><img alt="../../_images/Drought_EAP_Worklow_Step_14_1.png" src="../../_images/Drought_EAP_Worklow_Step_14_1.png" style="width: 1000px;" /></a>
</figure>
<p><strong>Purpose:</strong> Definition of how features are represented visually on the map.</p>
<p><strong>Tool:</strong> <a class="reference external" href="https://giscience.github.io/gis-training-resource-center/content/Module_4/en_qgis_map_design_I.html#symbology-for-vector-data">Symbology tab</a></p>
<p><strong>Trigger Activation</strong></p>
<ol class="arabic simple">
<li><p>Right click on the âTrigger_activationâ layer -&gt; <code class="docutils literal notranslate"><span class="pre">Properties</span></code> -&gt; <code class="docutils literal notranslate"><span class="pre">Symbology</span></code></p></li>
<li><p>In the down left corner click on <code class="docutils literal notranslate"><span class="pre">Style</span></code> -&gt; <code class="docutils literal notranslate"><span class="pre">Load</span> <span class="pre">Style</span></code></p></li>
<li><p>In the new window click on the three points <img alt="" src="../../_images/Three_points.png" />. Navigate to the âFbF_Drought_Monitoring_Trigger/layer_stylesâ folder and select the file <strong>âStyle_Trigger_Activation.qmlâ</strong>.</p></li>
<li><p>Click <code class="docutils literal notranslate"><span class="pre">Open</span></code>. Then click on <code class="docutils literal notranslate"><span class="pre">Load</span> <span class="pre">Style</span></code></p></li>
<li><p>Back in the âLayer Propertiesâ Window click <code class="docutils literal notranslate"><span class="pre">Apply</span></code> and <code class="docutils literal notranslate"><span class="pre">OK</span></code></p></li>
</ol>
<details class="sd-sphinx-override sd-dropdown sd-card sd-mb-3">
<summary class="sd-summary-title sd-card-header">
Info: Trigger Activation Layer<div class="sd-summary-down docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-down" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M5.22 8.72a.75.75 0 000 1.06l6.25 6.25a.75.75 0 001.06 0l6.25-6.25a.75.75 0 00-1.06-1.06L12 14.44 6.28 8.72a.75.75 0 00-1.06 0z"></path></svg></div>
<div class="sd-summary-up docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-up" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M18.78 15.28a.75.75 0 000-1.06l-6.25-6.25a.75.75 0 00-1.06 0l-6.25 6.25a.75.75 0 101.06 1.06L12 9.56l5.72 5.72a.75.75 0 001.06 0z"></path></svg></div>
</summary><div class="sd-summary-content sd-card-body docutils">
<p class="sd-card-text">You will now see districts where no trigger is activated in green and districts with trigger activation in pink.</p>
<p class="sd-card-text">The âStyle_Trigger_Activation.qmlâ style layer is configured to show the district names only where the trigger is actually activated. If there is no trigger activation you can activate the admin 1 boundary layer for better map orientation (see <strong>Administrative 2 Boundaries</strong> below)</p>
<figure class="align-center">
<a class="reference internal image-reference" href="../../_images/Map_yes_trigger.PNG"><img alt="../../_images/Map_yes_trigger.PNG" src="../../_images/Map_yes_trigger.PNG" style="width: 1000px;" /></a>
</figure>
</div>
</details><p><strong>Risk Assessment</strong></p>
<ol class="arabic simple" start="7">
<li><p>Right click on the ârisk_assessment_districtsâ layer -&gt; <code class="docutils literal notranslate"><span class="pre">Properties</span></code> -&gt; <code class="docutils literal notranslate"><span class="pre">Symbology</span></code></p></li>
<li><p>In the down left corner click on <code class="docutils literal notranslate"><span class="pre">Style</span></code> -&gt; <code class="docutils literal notranslate"><span class="pre">Load</span> <span class="pre">Style</span></code></p></li>
<li><p>In the new window click on the three points <img alt="" src="../../_images/Three_points.png" />. Navigate to the âFbF_Drought_Monitoring_Trigger/layer_stylesâ folder and select the file <strong>âsomalia_risk_assessment_style.qmlâ</strong> style layer.</p></li>
<li><p>Move the ârisk_assessment_districtâ layer <strong>below</strong> âTrigger_Activationâ layer (<a class="reference external" href="https://giscience.github.io/gis-training-resource-center/content/Module_2/en_qgis_geodata_concept.html?highlight=layer#layer-concept">Layer Concept</a>).</p></li>
<li><p>Back in the âLayer Propertiesâ Window click <code class="docutils literal notranslate"><span class="pre">Apply</span></code> and <code class="docutils literal notranslate"><span class="pre">OK</span></code></p></li>
</ol>
<details class="sd-sphinx-override sd-dropdown sd-card sd-mb-3">
<summary class="sd-summary-title sd-card-header">
Info: Risk Assessment Layer<div class="sd-summary-down docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-down" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M5.22 8.72a.75.75 0 000 1.06l6.25 6.25a.75.75 0 001.06 0l6.25-6.25a.75.75 0 00-1.06-1.06L12 14.44 6.28 8.72a.75.75 0 00-1.06 0z"></path></svg></div>
<div class="sd-summary-up docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-up" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M18.78 15.28a.75.75 0 000-1.06l-6.25-6.25a.75.75 0 00-1.06 0l-6.25 6.25a.75.75 0 101.06 1.06L12 9.56l5.72 5.72a.75.75 0 001.06 0z"></path></svg></div>
</summary><div class="sd-summary-content sd-card-body docutils">
<p class="sd-card-text">For the creation of an <strong>Intervention Map</strong> we will have to add the risk assessment data and the respective style file.
For this first of all load from âFbF_Drought_Monitoring_Trigger/Fixed_data/Risk_Assessmentâ the file ârisk_assessment_districts.gpkgâ. This file is the output of the conducted risk assessment and contains a risk value for each district of Somaliland and Somalia.  In order to visualize it</p>
</div>
</details><p><strong>Administrative 2 Boundaries (Regions)</strong></p>
<ol class="arabic simple" start="12">
<li><p>Right click on the âSom_Admbnda_Adm1_UNDPâ (Regiond) layer -&gt; <code class="docutils literal notranslate"><span class="pre">Properties</span></code> -&gt; <code class="docutils literal notranslate"><span class="pre">Symbology</span></code></p></li>
<li><p>In the down left corner click on <code class="docutils literal notranslate"><span class="pre">Style</span></code> -&gt; <code class="docutils literal notranslate"><span class="pre">Load</span> <span class="pre">Style</span></code></p></li>
<li><p>In the new window click on the three points <img alt="" src="../../_images/Three_points.png" />. Navigate to the âFbF_Drought_Monitoring_Trigger/layer_stylesâ folder and select the file <strong>âsomalia_risk_assessment_style.qmlâ</strong>.</p></li>
<li><p>Click <code class="docutils literal notranslate"><span class="pre">Open</span></code>. Then click on <code class="docutils literal notranslate"><span class="pre">Load</span> <span class="pre">Style</span></code></p></li>
<li><p>Back in the âLayer Propertiesâ Window click <code class="docutils literal notranslate"><span class="pre">Apply</span></code> and <code class="docutils literal notranslate"><span class="pre">OK</span></code></p></li>
<li><p>Add a the OpenStreetMap basemap by clicking on <code class="docutils literal notranslate"><span class="pre">Layer</span></code> -&gt; <code class="docutils literal notranslate"><span class="pre">Add</span> <span class="pre">Layer</span></code> -&gt; <code class="docutils literal notranslate"><span class="pre">Add</span> <span class="pre">XYZ</span> <span class="pre">layer...</span></code> -&gt; Select the OpenStreetMap. Click <code class="docutils literal notranslate"><span class="pre">Add</span></code>. (<a class="reference external" href="https://giscience.github.io/gis-training-resource-center/content/Wiki/en_qgis_basemaps_wiki.html?highlight=osm#basemaps">Wiki basemap</a>)</p></li>
<li><p>Place the OpenStreetMap basemap on the bottom.</p></li>
<li><p>Delet all layers exept:</p>
<ul class="simple">
<li><p>Trigger_activation</p></li>
<li><p>risk_assessment_districts</p></li>
<li><p>Som_Admbnda_Adm1_UNDP</p></li>
<li><p>OpenStreetMap</p></li>
</ul>
</li>
</ol>
<details class="sd-sphinx-override sd-dropdown sd-card sd-mb-3">
<summary class="sd-summary-title sd-card-header">
Video: Visualisation of results<div class="sd-summary-down docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-down" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M5.22 8.72a.75.75 0 000 1.06l6.25 6.25a.75.75 0 001.06 0l6.25-6.25a.75.75 0 00-1.06-1.06L12 14.44 6.28 8.72a.75.75 0 00-1.06 0z"></path></svg></div>
<div class="sd-summary-up docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-up" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M18.78 15.28a.75.75 0 000-1.06l-6.25-6.25a.75.75 0 00-1.06 0l-6.25 6.25a.75.75 0 101.06 1.06L12 9.56l5.72 5.72a.75.75 0 001.06 0z"></path></svg></div>
</summary><div class="sd-summary-content sd-card-body docutils">
<p class="sd-card-text"><video width="100%" controls muted src="https://github.com/GIScience/gis-training-resource-center/raw/main/fig/Trigger_model_style.mp4"></video></p>
</div>
</details><table class="table">
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Intervention Map <strong>without</strong> Trigger activation</p></th>
<th class="head"><p>Intervention Map <strong>with</strong> Trigger activation</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><figure class="align-center">
<a class="reference internal image-reference" href="../../_images/Map_no_trigger.PNG"><img alt="../../_images/Map_no_trigger.PNG" src="../../_images/Map_no_trigger.PNG" style="width: 1000px;" /></a>
</figure>
</td>
<td><figure class="align-center">
<a class="reference internal image-reference" href="../../_images/Map_yes_trigger.PNG"><img alt="../../_images/Map_yes_trigger.PNG" src="../../_images/Map_yes_trigger.PNG" style="width: 450px;" /></a>
</figure>
</td>
</tr>
</tbody>
</table>
<div class="admonition attention">
<p class="admonition-title">Attention</p>
<p>Remember the <a class="reference external" href="https://giscience.github.io/gis-training-resource-center/content/Module_2/en_qgis_geodata_concept.html?highlight=layer#layer-concept">layer concept</a> and make sure the basemap layer is at the bottom of your layers panel.</p>
</div>
</section>
<section id="step-7-making-the-print-map">
<h2>Step 7: Making the Print Map<a class="headerlink" href="#step-7-making-the-print-map" title="Permalink to this heading">#</a></h2>
<figure class="align-center">
<a class="reference internal image-reference" href="../../_images/Drought_EAP_Worklow_Step_15_1.png"><img alt="../../_images/Drought_EAP_Worklow_Step_15_1.png" src="../../_images/Drought_EAP_Worklow_Step_15_1.png" style="width: 1000px;" /></a>
</figure>
<p><strong>Purpose:</strong> Viualisation of the map features in a printable map layout</p>
<p><strong>Tool:</strong>  <a class="reference external" href="https://giscience.github.io/gis-training-resource-center/content/Module_4/en_qgis_map_design_2.html?highlight=print+layout#print-layout">Print Layout</a></p>
<ol class="arabic simple">
<li><p>If not done before, delet all layers expect <strong>Trigger_activation</strong>, <strong>risk_assessment_districts</strong> and <strong>OpenStreetMap</strong></p></li>
<li><p>Open a new print layout by clicking on <code class="docutils literal notranslate"><span class="pre">Project</span></code> -&gt; <code class="docutils literal notranslate"><span class="pre">New</span> <span class="pre">Print</span> <span class="pre">Layout</span></code> -&gt; enter the name of your current Project e.g â2022_04â.</p></li>
<li><p>Go the the <strong>FbF_Drought_Monitoring_Trigger</strong><code class="docutils literal notranslate"><span class="pre">folder</span> <span class="pre">and</span> <span class="pre">drag</span> <span class="pre">and</span> <span class="pre">drop</span> <span class="pre">the</span> <span class="pre">file</span></code>Trigger_activation_Intervention_map.qpt` in the print layout</p></li>
<li><p>Change the date to the current date by clicking on âFurther map infoâ¦â in the items panel. Click on the <code class="docutils literal notranslate"><span class="pre">Item</span> <span class="pre">Properties</span></code> tab and scroll down. Here you can change the date in the <code class="docutils literal notranslate"><span class="pre">Main</span> <span class="pre">Properties</span></code> field.</p></li>
<li><p>Adjust the Lgend by clicking on the legend in the  <code class="docutils literal notranslate"><span class="pre">Item</span> <span class="pre">Properties</span></code> tab and scroll down until you see the <code class="docutils literal notranslate"><span class="pre">Legend</span> <span class="pre">items</span></code> field. If it is not there check if you have to open the dropdown. Make sure <code class="docutils literal notranslate"><span class="pre">Auto</span> <span class="pre">update</span></code> is not checked.</p>
<ul class="simple">
<li><p>Remove all itemes in the legend be clicking on the item and then on the red minus icon below.</p></li>
<li><p>Add <strong>Trigger_activation</strong> and <strong>risk_assessment_districts</strong> to the legend by clicking on the green plus and click on the layer and click <code class="docutils literal notranslate"><span class="pre">ok</span></code></p></li>
</ul>
</li>
</ol>
<details class="sd-sphinx-override sd-dropdown sd-card sd-mb-3">
<summary class="sd-summary-title sd-card-header">
Video: Making print map<div class="sd-summary-down docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-down" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M5.22 8.72a.75.75 0 000 1.06l6.25 6.25a.75.75 0 001.06 0l6.25-6.25a.75.75 0 00-1.06-1.06L12 14.44 6.28 8.72a.75.75 0 00-1.06 0z"></path></svg></div>
<div class="sd-summary-up docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-up" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M18.78 15.28a.75.75 0 000-1.06l-6.25-6.25a.75.75 0 00-1.06 0l-6.25 6.25a.75.75 0 101.06 1.06L12 9.56l5.72 5.72a.75.75 0 001.06 0z"></path></svg></div>
</summary><div class="sd-summary-content sd-card-body docutils">
<p class="sd-card-text"><video width="100%" controls muted src="https://github.com/GIScience/gis-training-resource-center/raw/main/fig/SRCS_Trigger_print_map.mp4"></video></p>
</div>
</details><div class="admonition attention">
<p class="admonition-title">Attention</p>
<p>Make sure you edit the Map Information on the template, e.g. current date. Also make sure to check the legend items: Remove unnecessary items and eventually change the names to meaning descriptions.</p>
</div>
<p>In order to easily visualize the output of the trigger analysis we provide you with a
<a class="reference external" href="https://giscience.github.io/gis-training-resource-center/content/Module_4/en_qgis_map_design_2.html#map-templates">map template</a> that can be used as a base for your visualization. You can find the template in the following directory: ââ¦/FbF_Drought_Monitoring_Trigger/maps_somalia_template_risk_assessment.qptâ.</p>
<p>You can also adapt the template to your needs and preferences. You can find help <a class="reference external" href="https://giscience.github.io/gis-training-resource-center/content/Module_4/en_qgis_map_design_2.html#print-layout">here</a>.</p>
<div class="admonition attention">
<p class="admonition-title">Attention</p>
<p>Make sure you edit the Map Information on the template, e.g. current date. Also make sure to check the legend items: Remove unnecessary items and eventually change the names to meaning descriptions.</p>
</div>
</section>
<section id="step-8-exporting-the-map">
<h2>Step 8: Exporting the Map<a class="headerlink" href="#step-8-exporting-the-map" title="Permalink to this heading">#</a></h2>
<figure class="align-center">
<a class="reference internal image-reference" href="../../_images/Drought_EAP_Worklow_Step_16_1.png"><img alt="../../_images/Drought_EAP_Worklow_Step_16_1.png" src="../../_images/Drought_EAP_Worklow_Step_16_1.png" style="width: 1000px;" /></a>
</figure>
<p><strong>Purpose:</strong> Export the designed and finalized map layout in order tp print it as a pdf or format of your choice.</p>
<p><strong>Tool:</strong> <a class="reference external" href="https://giscience.github.io/gis-training-resource-center/content/Module_4/en_qgis_map_design_2.html?highlight=print+layout#print-layout">Print Layout</a></p>
<p>When you have finished the design of you map you can export it as pdf or image file in different datafromats.</p>
<p><strong>Export as Image</strong></p>
<ol class="arabic simple">
<li><p>In the print layout click on <code class="docutils literal notranslate"><span class="pre">Layer</span></code> -&gt; <code class="docutils literal notranslate"><span class="pre">Export</span> <span class="pre">as</span> <span class="pre">Image</span></code></p></li>
<li><p>Chose the <strong>Result</strong> folder in the folder you have created in step 1. Give the file the name of the project e.g 2022_04</p></li>
<li><p>Click on <code class="docutils literal notranslate"><span class="pre">Save</span></code></p></li>
<li><p>The window âImage Export Optionsâ will appear. Click <code class="docutils literal notranslate"><span class="pre">Save</span></code>
Now the image can be found in the result folder in the folder you created in Step 1</p></li>
</ol>
<p><strong>Export as PDF</strong></p>
<ol class="arabic simple">
<li><p>In the print layout click on <code class="docutils literal notranslate"><span class="pre">Layer</span></code> -&gt; <code class="docutils literal notranslate"><span class="pre">Export</span> <span class="pre">as</span> <span class="pre">PDF</span></code></p></li>
<li><p>Chose the <strong>Result</strong> folder in the folder you have created in step 1. Give the file the name of the project e.g 2022_04</p></li>
<li><p>Click on <code class="docutils literal notranslate"><span class="pre">Save</span></code></p></li>
<li><p>The window âPDF Export Optionsâ will appear.  For the best results, select the <code class="docutils literal notranslate"><span class="pre">lossless</span></code> image compression.</p></li>
<li><p>Click <code class="docutils literal notranslate"><span class="pre">Save</span></code>
Now the image can be found in the result folder in the folder you created in Step 1</p></li>
</ol>
<details class="sd-sphinx-override sd-dropdown sd-card sd-mb-3">
<summary class="sd-summary-title sd-card-header">
Video: Export image and PDF<div class="sd-summary-down docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-down" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M5.22 8.72a.75.75 0 000 1.06l6.25 6.25a.75.75 0 001.06 0l6.25-6.25a.75.75 0 00-1.06-1.06L12 14.44 6.28 8.72a.75.75 0 00-1.06 0z"></path></svg></div>
<div class="sd-summary-up docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-up" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M18.78 15.28a.75.75 0 000-1.06l-6.25-6.25a.75.75 0 00-1.06 0l-6.25 6.25a.75.75 0 101.06 1.06L12 9.56l5.72 5.72a.75.75 0 001.06 0z"></path></svg></div>
</summary><div class="sd-summary-content sd-card-body docutils">
<p class="sd-card-text"><video width="100%" controls muted src="https://github.com/GIScience/gis-training-resource-center/raw/main/fig/SRCS_trigger_export_image_pdf.mp4"></video></p>
</div>
</details><figure class="align-center">
<a class="reference internal image-reference" href="../../_images/map_output_example2.png"><img alt="../../_images/map_output_example2.png" src="../../_images/map_output_example2.png" style="width: 1000px;" /></a>
</figure>
</section>
<section id="troubleshooting-the-model">
<h2>Troubleshooting the Model<a class="headerlink" href="#troubleshooting-the-model" title="Permalink to this heading">#</a></h2>
<p>In some cases, for example when the data structure of the input layers change, the model can break. To make sure that the model functions correctly, follow these troubleshooting steps. In most cases, the problems are happening at the input stage (yellow boxes).</p>
<ol class="arabic simple">
<li><p>When monitoring the trigger, take a closer look at the new data downloaded from FEWSNET or ICPAC. Are there any changes in the names of the columns or values?</p></li>
<li><p>If you get an error message, read the error message. Which input or which step is producing the error?</p></li>
<li><p>Take a look at the attribute table of the input layer that is responsible for this layer and at the processing algorithm (white boxes) this layer is feeding into. You can open the parameters for the algorithms by clicking on the <code class="docutils literal notranslate"><span class="pre">...</span></code> in the algorithm box. A new window will open with the parameters for the algorithm. What value is the algorithm expecting? What values or data is available in the input layer?</p></li>
<li><p>Adjust the values the algorithms is expecting or preprocess the input layer so the columns and values are exactly what the algorithm expects.</p></li>
</ol>
<p><strong>For example</strong>,</p>
<p>FEWSNET changed the structure of the IPC Food Security Projection Data:</p>
<ul class="simple">
<li><p>The data for ML1 and ML2 is no longer available as two distinct shapefiles, but the (overlapping) polygons for both scenarios are contained in a single geojson file.</p></li>
<li><p>Furthermore, the values for the <a class="reference external" href="https://giscience.github.io/gis-training-resource-center/content/GIS_AA/en_qgis_drought_trigger_somalia.html#what-is-ipc-food-security-projection-data">different food insecurity phase</a> (1 to 5: Minimal, Stressed, Crisis, Emergency, Famine) are no longer in a column called âML1â and âML2â respectively, but in a column with the name <strong>âvalueâ</strong>.</p></li>
<li><p>The model components âweighing pop-sum based on IPC phaseâ are expecting a column with the name âML1â and âML2â, but the columns with this information (IPC Phase) with the new input layers are no longer called âML1â and âML2â and are called âvalueâ.</p></li>
</ul>
<p>To fix the model, we need to do the following:</p>
<ul class="simple">
<li><p>Extract the âML1â and âML2â polygons as two separate vector layers. We can use the tool âExtract by Attributeâ.</p></li>
<li><p>In the field calculator, we need to adjust the expression so it includes the correct column. Change âML1â and âML2â into âvalueâ respectively.</p></li>
</ul>
</section>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="trigger-workflow-manually">
<h1>Trigger Workflow Manually<a class="headerlink" href="#trigger-workflow-manually" title="Permalink to this heading">#</a></h1>
<div class="admonition attention">
<p class="admonition-title">Attention</p>
<p>As of may 2025, the trigger model uses the IPC Phase Classification analysis by the IPC and no longer by FEWSNET.
The data format has changed and the manual workflow no longer works as described below.
Due to differences in the data structure as well as the extent of the geometries, the manual workflow has changed considerably.</p>
</div>
<section id="id1">
<h2>Step 1: Setting up folder structure<a class="headerlink" href="#id1" title="Permalink to this heading">#</a></h2>
<figure class="align-center">
<a class="reference internal image-reference" href="../../_images/Drought_EAP_Worklow_Step_1_1.png"><img alt="../../_images/Drought_EAP_Worklow_Step_1_1.png" src="../../_images/Drought_EAP_Worklow_Step_1_1.png" style="width: 1000px;" /></a>
</figure>
<p><strong>Purpose:</strong> In this step we set up the correct folder structure to make the analysis easier and to ensure consitent results.</p>
<p><strong>Tool:</strong> No special tools or programs are needed.</p>
<table class="table">
<colgroup>
<col style="width: 29%" />
<col style="width: 71%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Instruction</p></th>
<th class="head"><p>Folder Structure</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><ol class="arabic simple">
<li><p>Open the Folder âFbF_Drought_Monitoring_Triggerâ</p></li>
<li><p>Open the subfolder âMonitoringâ</p></li>
<li><p>Copy the Template folder âTEMPLATE_Year_Monthâ and change the name to the current year and month. The result could be the folder â2022_05â</p></li>
</ol>
</td>
<td><figure class="align-center">
<a class="reference internal image-reference" href="../../_images/Folder_structure_FbF_Drought_Monitoring_Trigger.drawio.svg"><img alt="../../_images/Folder_structure_FbF_Drought_Monitoring_Trigger.drawio.svg" src="../../_images/Folder_structure_FbF_Drought_Monitoring_Trigger.drawio.svg" width="450px" /></a>
</figure>
</td>
</tr>
</tbody>
</table>
<p>The Video below shows the process for setting up the folder for decmber 2023.</p>
<details class="sd-sphinx-override sd-dropdown sd-card sd-mb-3">
<summary class="sd-summary-title sd-card-header">
Video: Setting up folder structure <div class="sd-summary-down docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-down" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M5.22 8.72a.75.75 0 000 1.06l6.25 6.25a.75.75 0 001.06 0l6.25-6.25a.75.75 0 00-1.06-1.06L12 14.44 6.28 8.72a.75.75 0 00-1.06 0z"></path></svg></div>
<div class="sd-summary-up docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-up" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M18.78 15.28a.75.75 0 000-1.06l-6.25-6.25a.75.75 0 00-1.06 0l-6.25 6.25a.75.75 0 101.06 1.06L12 9.56l5.72 5.72a.75.75 0 001.06 0z"></path></svg></div>
</summary><div class="sd-summary-content sd-card-body docutils">
<p class="sd-card-text"><video width="100%" controls muted src="https://github.com/GIScience/gis-training-resource-center/raw/main/fig/SRCS_Trigger_folder_setup.mp4"></video></p>
</div>
</details></section>
<section id="id2">
<h2>Step 2: Download of the forecast data<a class="headerlink" href="#id2" title="Permalink to this heading">#</a></h2>
<figure class="align-center">
<a class="reference internal image-reference" href="../../_images/Drought_EAP_Worklow_Step_2_2.png"><img alt="../../_images/Drought_EAP_Worklow_Step_2_2.png" src="../../_images/Drought_EAP_Worklow_Step_2_2.png" style="width: 1000px;" /></a>
</figure>
<p><strong>Tool:</strong> FileZilla and Interent Browser</p>
<p>The current plans provide that ICPAC will monthly provide the SPI-12 forcast whereas the IPC data will be pulled from the FEWSNET website. FEWS NET publishes IPC data on its website.
The main data publications plus the updates of the IPC data amount to the publication of new data almost monthly.</p>
<section id="id3">
<h3>SPI-12 Data<a class="headerlink" href="#id3" title="Permalink to this heading">#</a></h3>
<p>ICPAC will provide the SPI-12 forecasts on their FTP (File Transfer Protocol). There are different ways to access the FTP-Server. We recommend to install and once set up <a class="reference external" href="https://filezilla-project.org/download.php?platform=win64">FileZilla</a>. This will make your work easily repeatable on a monthly basis.</p>
<ol class="arabic simple">
<li><p>Download Filezilla <a class="reference external" href="https://filezilla-project.org/download.php?platform=win64">here</a>.</p></li>
<li><p>Install the <code class="docutils literal notranslate"><span class="pre">.exe</span></code> file you have downloaded.</p></li>
<li><p>Open FileZilla.</p></li>
<li><p>Establish a connection to the FTP Server by insterting the credentials you have been passed (Host, Username and Password) and clicking <code class="docutils literal notranslate"><span class="pre">Quickconnect</span></code>.</p></li>
</ol>
<p>In FileZilla you have four windows. On the left hand side you will see the folder on your computer in the upper window. By clicking on a folder, the documents in the folder will be shown in the lower left window.
On the right hand side, you will see in the upper window the FTP data folder and by clicking on it, the data will be shown in the lower right window.</p>
<p>In order to pass the data from the FTP Server to your own machine you can simply drag and drop the folder or data from the righthandside windows (FTP-Server) to the lefthandside windows (your Computer). To do so, firstly navigate to your folder where you wneed the latest SPI-12 data to be located <code class="docutils literal notranslate"><span class="pre">.../FbF_Drought_Monitoring_Trigger/Monitoring/Year_Month_template/SPI_12</span></code>. Then drag and drop the latest SPI-12 into the folder.</p>
<figure class="align-center" id="id4">
<a class="reference internal image-reference" href="../../_images/FileZilla.PNG"><img alt="../../_images/FileZilla.PNG" src="../../_images/FileZilla.PNG" style="height: 400px;" /></a>
</figure>
</section>
<section id="id5">
<h3>IPC Data<a class="headerlink" href="#id5" title="Permalink to this heading">#</a></h3>
<p>The IPC Projection data is provided and regularly updated on the <a class="reference external" href="https://www.ipcinfo.org/ipc-country-analysis/details-map/en/c/1159510/?iso3=SOM">IPC Website</a>.
To navigate to the latest IPC Projection data on Somalia, navigate to <code class="docutils literal notranslate"><span class="pre">Latest</span> <span class="pre">Analyses</span></code> in the top bar &gt; <code class="docutils literal notranslate"><span class="pre">IPC</span> <span class="pre">Analyses</span></code> &gt; <code class="docutils literal notranslate"><span class="pre">Acute</span> <span class="pre">Food</span> <span class="pre">Insecurity</span> <span class="pre">Classification</span></code>. Here you look for the latest analysis for Somalia.</p>
<!---```{Warning}
The FEWSNET pages change often!
```

```{admonition} Updates to FEWSNET
:class: warning

As of December 2024, the FEWSNET Website does not offer the IPC data for ML1 and ML2 as two distinct shapefiles contained in a zip-file. Instead, you can download the GeoJSON-file, which contains a polygon layer with both the ML1 and ML2 polygons. The model and the documentation has been updated to work with the GeoJSON-file.

```
-->
<ol class="arabic simple">
<li><p>Go to the <a class="reference external" href="https://www.ipcinfo.org">IPC website</a></p></li>
<li><p>In the top bar, navigate to <code class="docutils literal notranslate"><span class="pre">Latest</span> <span class="pre">Analyses</span></code> &gt; <code class="docutils literal notranslate"><span class="pre">IPC</span> <span class="pre">Analyses</span></code> &gt; <code class="docutils literal notranslate"><span class="pre">Acute</span> <span class="pre">Food</span> <span class="pre">Insecurity</span> <span class="pre">Classification</span></code>.</p></li>
<li><p>On the new website, select Somalia as a country and select the newest dataset.</p></li>
<li><p>On this website, you will see both a map of the current and the projected IPC phase classifications, as well as some metadata. On the right side of the map, click on the button <code class="docutils literal notranslate"><span class="pre">Download</span> <span class="pre">GIS</span> <span class="pre">format</span></code>. This will download the analysis in a GeoJSON format, containing polygons for the administrative boundaries and IPC phases, as well as points for the IPC phase classification for IDP camps.</p></li>
</ol>
<figure class="align-center" id="id6">
<a class="reference internal image-reference" href="../../_images/en_IPCinfo_website_dl_som.png"><img alt="../../_images/en_IPCinfo_website_dl_som.png" src="../../_images/en_IPCinfo_website_dl_som.png" style="height: 350px;" /></a>
</figure>
<ol class="arabic simple" start="4">
<li><p>Download the <strong>GeoJSON file</strong>. The filename is composed of the country name, the analysis type, and Year and month of publication. E.g., <code class="docutils literal notranslate"><span class="pre">Somalia-Acute</span> <span class="pre">Food</span> <span class="pre">Insecurity</span> <span class="pre">January</span> <span class="pre">2025.geoJSON</span></code></p></li>
</ol>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>In some cases, your operating system (Windows) misidentifies the GeoJSON-file as a <code class="docutils literal notranslate"><span class="pre">.customization</span></code>-file. This does not change anything and can be loaded into your QGIS-project.</p>
</div>
<ol class="arabic simple" start="5">
<li><p>Copy the GeoJSON-file into the input monitoring folder.</p></li>
</ol>
<ul class="simple">
<li><p>Example path: <code class="docutils literal notranslate"><span class="pre">/FbF_Drought_Monitoring_Trigger/Input_monitoring/Year_Month_template/Somalia-Acute</span> <span class="pre">Food</span> <span class="pre">Insecurity</span> <span class="pre">January</span> <span class="pre">2025.geoJSON</span></code></p></li>
</ul>
<!--- REMOVED OLD WORKFLOW WITH FEWSNET DATA

The IPC Projection data is provided and regulary updated on the [FEWSNET Website](https://fews.net/).
On the website you will have to click on Somalia to acess the data. Alternativley, you can  navigate through `Data` -> `Acute Food Insecurity Data` and enter âSomalia". In the menu you will see different dataformats for different timestamps. Once you find out which timestamp is the most current one find the ZIP download. We need the data in shapefile (.shp) format, which is only included in the ZIP file and not provided as single download file. 


```{Warning}
The FEWSNET pages change often!
```

```{admonition} Updates to FEWSNET
:class: warning

As of December 2024, the FEWSNET Website does not offer the IPC data for ML1 and ML2 as two distinct shapefiles contained in a zip-file. Instead, you can download the GeoJSON-file, which contains a polygon layer with both the ML1 and ML2 polygons. The model and the documentation has been updated to work with the GeoJSON-file.

```


1. Go to [FEWSNET Website](https://fews.net/). Click on `Data` -> `Acute Food Insecurity`.
2. Scroll down. In `Geograhic Area` typ in âSomaliaâ and click `Apply`
3. Choose the newest dataset.

```{figure} /fig/IPC_Projections_website.png
---
height: 250px
name: FEWSNET IPC - Download IPC Projections
align: center
---
```

4. Download the GeoJSON file. The filename is composed of "SO" for Somalia, year and month of the report, as well as the projection type. E.g., `SO_202412_ML1ML2.geojson`
5. Copy the GeoJSON-file into the input monitoring folder.
  * Example path: `/FbF_Drought_Monitoring_Trigger/Input_monitoring/Year_Month_template/IPC_ML1ML2`


:::::{dropdown} Download workflow for shapefiles (if available)

4. Download the one with the __ZIP__ Data
5. When you have downloaded the data, right-click on the file and click on `Extract all` -> `Extract`
6. Open the extracted folder and copy the ML1 data in the IPC_ML1 folder you have created in step 1. 
  * The filename is composed of "SO" for Somalia, year and month of the report month e.g `SO_202308_ML1.shp`
  Example path: `.../FbF_Drought_Monitoring_Trigger/Monitoring/Year_Month_template/IPC_ML1`
7. Copy the ML2 data into IPC_ML2 folder you have created in step 1.
  * The filename is composed of "SO" for Somalia, year and month of the report month e.g `SO_202308_ML2.shp`
  Example path: `.../FbF_Drought_Monitoring_Trigger/Monitoring/Year_Month_template/IPC_ML2`
```{Warning}
Make sure to not use the ML1_IDP data which comes in the .zip folder as well!
```

```{Warning}
Remember that you need to copy over all components that the respective [shapefile](https://giscience.github.io/gis-training-resource-center/content/Wiki/en_qgis_geodata_types_wiki.html#vector-data) is composed of. Most probably it has 5 components: .cpg, .dbf, .prj, .shp, and .shx.
```{figure} /fig/IPC_zip.PNG
---
height: 300px
name: Content of .zip file downloaded containing ML1 and ML2 IPC projections
align: center
---
```

:::::

```{tip}
On the [main FEWSNET page](https://fews.net/) you can also sign up for information on latest updates via email. For this option scroll down to the end of the page and click on `Sign up for Emails`. You will then get the option to choose updates only for Somalia.

```{figure} /fig/IPC_Newsletter.png
---
height: 60px
name: FEWSNET Newsletter
align: center
---
```
-->
</section>
</section>
<section id="id7">
<h2>Step 3: Loading data into QGIS<a class="headerlink" href="#id7" title="Permalink to this heading">#</a></h2>
<figure class="align-center">
<a class="reference internal image-reference" href="../../_images/Drought_EAP_Worklow_Step_3_1.png"><img alt="../../_images/Drought_EAP_Worklow_Step_3_1.png" src="../../_images/Drought_EAP_Worklow_Step_3_1.png" style="width: 1000px;" /></a>
</figure>
<p><strong>Purpose:</strong> In this step, all the data needed will be loaded into QGIS.</p>
<p><strong>Tool:</strong> No specific tools are needed, only QGIS.</p>
<ol class="arabic simple">
<li><p>Open QGIS and create a <a class="reference external" href="https://giscience.github.io/gis-training-resource-center/content/Wiki/en_qgis_projects_folder_structure_wiki.html#step-by-step-setting-up-a-new-qgis-project-from-scratch">new project</a> by clicking on <code class="docutils literal notranslate"><span class="pre">Project</span></code> -&gt; <code class="docutils literal notranslate"><span class="pre">New</span></code></p></li>
<li><p>Once the project is created save the project in the folder you created in Step 1 (e.g. 2022_05). To do that click on <code class="docutils literal notranslate"><span class="pre">Project</span></code> -&gt; <code class="docutils literal notranslate"><span class="pre">Save</span> <span class="pre">as</span></code> and navigate to the folder. Give the project the same name as the folder you created (e.g. 2022_05). Then click <code class="docutils literal notranslate"><span class="pre">Save</span></code></p></li>
<li><p>Load all input data in QGIS by <a class="reference external" href="https://giscience.github.io/gis-training-resource-center/content/Wiki/en_qgis_import_geodata_wiki.html#open-raster-data-via-drag-and-drop">drag and drop</a>. Click on <code class="docutils literal notranslate"><span class="pre">Project</span></code> -&gt; <code class="docutils literal notranslate"><span class="pre">Save</span></code></p></li>
</ol>
<ul class="simple">
<li><p>From the folder you created in step 1</p>
<ul>
<li><p>IPC Phase Classification</p></li>
<li><p>SPI-12</p></li>
</ul>
</li>
<li><p>From the <code class="docutils literal notranslate"><span class="pre">Fixed_data</span></code> folder:</p>
<ul>
<li><p>district_pop_som</p></li>
<li><p>Regions</p></li>
<li><p>risk_assessment.gpkg</p></li>
<li><p>WorldPop_som.tif</p></li>
</ul>
</li>
</ul>
<p><strong>Result:</strong> QGIS project with all necessary data ready to be analysed.</p>
<p>This video shows how to setup the QGIS project for April 2022 and how to import all data into the project.</p>
<details class="sd-sphinx-override sd-dropdown sd-card sd-mb-3">
<summary class="sd-summary-title sd-card-header">
Video: Loading data into QGIS<div class="sd-summary-down docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-down" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M5.22 8.72a.75.75 0 000 1.06l6.25 6.25a.75.75 0 001.06 0l6.25-6.25a.75.75 0 00-1.06-1.06L12 14.44 6.28 8.72a.75.75 0 00-1.06 0z"></path></svg></div>
<div class="sd-summary-up docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-up" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M18.78 15.28a.75.75 0 000-1.06l-6.25-6.25a.75.75 0 00-1.06 0l-6.25 6.25a.75.75 0 101.06 1.06L12 9.56l5.72 5.72a.75.75 0 001.06 0z"></path></svg></div>
</summary><div class="sd-summary-content sd-card-body docutils">
<p class="sd-card-text"><video width="100%" controls muted src="https://github.com/GIScience/gis-training-resource-center/raw/main/fig/SRCS_Trigger_step_3.mp4"></video></p>
</div>
</details></section>
<section id="step-4-formatting-the-adm2-names">
<h2>Step 4: Formatting the ADM2-names<a class="headerlink" href="#step-4-formatting-the-adm2-names" title="Permalink to this heading">#</a></h2>
<p><strong>Purpose:</strong> The GeoJSON file from IPC contains a polygon layer that contains the administrative boundaries and the IPC phase for the current analysis (C) and the projection (P). However, it is all contained in one layer. To be able to perform our analysis steps, we need to prepare the data. In the column where the adm2-names are saved, there are several polygons with the same adm names, but have a â(1)â or â(2)â added at the end. We need to remove number in the parantheses so we can dissolve the polygons in the next step.</p>
<p><strong>Tool:</strong> Field Calculator</p>
<table class="table">
<colgroup>
<col style="width: 44%" />
<col style="width: 56%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Instruction</p></th>
<th class="head"><p>Field Calculator</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><ol class="arabic simple">
<li><p>Select the IPC Phase classification layer and open the <a class="reference external" href="https://giscience.github.io/gis-training-resource-center/content/Module_5/en_qgis_non_spatial_tools.html#calculate-field">field calculator</a></p></li>
<li><p>Check the box <code class="docutils literal notranslate"><span class="pre">Update</span> <span class="pre">existing</span> <span class="pre">field</span></code> and select the field âareaâ.</p></li>
<li><p>Enter the following expression in the expression box:</p></li>
</ol>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">replace</span><span class="p">(</span>
    <span class="n">replace</span><span class="p">(</span>
        <span class="n">replace</span><span class="p">(</span>
            <span class="n">replace</span><span class="p">(</span>
                <span class="n">replace</span><span class="p">(</span><span class="s2">&quot;area&quot;</span><span class="p">,</span> <span class="s1">&#39; (1)&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">),</span>
                <span class="s1">&#39; (2)&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span>
            <span class="p">),</span>
            <span class="s1">&#39; (3)&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span>
        <span class="p">),</span>
        <span class="s1">&#39; (4)&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span>
    <span class="p">),</span>
    <span class="s1">&#39; (5)&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span>
<span class="p">)</span>
</pre></div>
</div>
<ol class="arabic simple" start="4">
<li><p>Click <code class="docutils literal notranslate"><span class="pre">Ok</span></code>.</p></li>
</ol>
</td>
<td><figure class="align-default">
<img alt="../../_images/drought_EAP_workflow_step_4_march2025.png" src="../../_images/drought_EAP_workflow_step_4_march2025.png" />
</figure>
</td>
</tr>
</tbody>
</table>
</section>
<section id="step-5-dissolving-admin-2-polygons">
<h2>Step 5: Dissolving admin 2 polygons<a class="headerlink" href="#step-5-dissolving-admin-2-polygons" title="Permalink to this heading">#</a></h2>
<p><strong>Purpose:</strong> To get a layer of the administrative boundaries for the district, we need to dissolve the polygons  from the formatted layer from the previous step using the field âareaâ. This will output one polygon per distinct âareaâ value. In other words a layer withe adm2 boundaries.</p>
<p><strong>Tool:</strong> Dissolve</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>We cannot use a different polygon layer with the adm2 boundaries as we are calculating the population per polygon in the following steps and the polygons need to match exactly in order to get the correct population weighing.</p>
</div>
<table class="table">
<colgroup>
<col style="width: 44%" />
<col style="width: 56%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Instruction</p></th>
<th class="head"><p>Dissolve</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><ol class="arabic simple">
<li><p>In the <span class="xref myst">processing toolbox</span>, search for âDissolveâ. Click on it.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Input</span> <span class="pre">Layer</span></code>: IPC Phase Classification (formatted as in step 4)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Dissolve</span> <span class="pre">field(s)</span></code>: âareaâ</p></li>
<li><p>Click <code class="docutils literal notranslate"><span class="pre">Run</span></code>. A new layer called âDissolvedâ will appear in your layers panel.</p></li>
</ol>
</td>
<td><figure class="align-center">
<a class="reference internal image-reference" href="../../_images/drought_EAP_workflow_step_5_march2025.png"><img alt="../../_images/drought_EAP_workflow_step_5_march2025.png" src="../../_images/drought_EAP_workflow_step_5_march2025.png" style="width: 450px;" /></a>
</figure>
</td>
</tr>
</tbody>
</table>
</section>
<section id="step-6-add-population-statistics-to-the-adm2-layer">
<h2>Step 6: Add population statistics to the adm2 layer<a class="headerlink" href="#step-6-add-population-statistics-to-the-adm2-layer" title="Permalink to this heading">#</a></h2>
<p><strong>Purpose:</strong> For the calculation of the IPC index, we need to have the population per adm2 polygon. Using the worldpop raster layer, we can calculate the population inside each district using the output from the previous step</p>
</section>
<section id="step-4-extracting-ml1-and-ml2-from-the-geojson-layer">
<h2>Step 4: Extracting ML1 and ML2 from the GeoJSON layer<a class="headerlink" href="#step-4-extracting-ml1-and-ml2-from-the-geojson-layer" title="Permalink to this heading">#</a></h2>
<figure class="align-center">
<a class="reference internal image-reference" href="../../_images/Drought_EAP_Worklow_Step_4_1_NEW.png"><img alt="../../_images/Drought_EAP_Worklow_Step_4_1_NEW.png" src="../../_images/Drought_EAP_Worklow_Step_4_1_NEW.png" style="width: 1000px;" /></a>
</figure>
<p><strong>Purpose:</strong> The GeoJSON file from FEWSNET with the IPC data contains both the ML1 and ML2 polygons in the same layer. In order to process these polygons separately in the next step, we need to extract and save them as new layers.</p>
<p><strong>Tool:</strong> âExtract by Attributesâ</p>
<table class="table">
<colgroup>
<col style="width: 44%" />
<col style="width: 56%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Instruction</p></th>
<th class="head"><p>Extract by Attribute</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><ol class="arabic simple">
<li><p>In the <span class="xref myst">processing toolbox</span>, search for âExtract by attributeâ. Click on it.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Input</span> <span class="pre">Layer</span></code>: ML1 and ML2 geojson (<code class="docutils literal notranslate"><span class="pre">Year_Month_ML1ML2</span></code>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Selection</span> <span class="pre">attribute</span></code>: scenario</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Value</span></code>: ML1</p></li>
<li><p>Under <code class="docutils literal notranslate"><span class="pre">Extraced</span> <span class="pre">(Attribute)</span></code>, click on the three points <img alt="" src="../../_images/Three_points.png" /> -&gt; <code class="docutils literal notranslate"><span class="pre">Save</span> <span class="pre">to</span> <span class="pre">File</span></code> and navigate to your monitoring folder [Year_Month]. Give the output the name âIPC_Year_Month_ML1â and click <code class="docutils literal notranslate"><span class="pre">Save</span></code>.</p></li>
<li><p>Under <code class="docutils literal notranslate"><span class="pre">Extracted</span> <span class="pre">(non-matching)</span></code>, click on the three points <img alt="" src="../../_images/Three_points.png" /> -&gt; <code class="docutils literal notranslate"><span class="pre">Save</span> <span class="pre">to</span> <span class="pre">File</span></code> and navigate to your monitoring folder [Year_Month]. Give the output the name âIPC_Year_Month_ML2â and click <code class="docutils literal notranslate"><span class="pre">Save</span></code>.</p></li>
<li><p>Click <code class="docutils literal notranslate"><span class="pre">Run</span></code></p></li>
</ol>
</td>
<td><figure class="align-center">
<a class="reference internal image-reference" href="../../_images/SRCS_Trigger_step_4_Extract_by_attribute.png"><img alt="../../_images/SRCS_Trigger_step_4_Extract_by_attribute.png" src="../../_images/SRCS_Trigger_step_4_Extract_by_attribute.png" style="width: 450px;" /></a>
</figure>
</td>
</tr>
</tbody>
</table>
</section>
<section id="step-5-fixing-the-geometries-for-the-ml-1-ml-2-layers">
<h2>Step 5: Fixing the Geometries for the ML 1 &amp; ML 2 layers<a class="headerlink" href="#step-5-fixing-the-geometries-for-the-ml-1-ml-2-layers" title="Permalink to this heading">#</a></h2>
<figure class="align-center">
<a class="reference internal image-reference" href="../../_images/Drought_EAP_Worklow_Step_5_1_NEW.png"><img alt="../../_images/Drought_EAP_Worklow_Step_5_1_NEW.png" src="../../_images/Drought_EAP_Worklow_Step_5_1_NEW.png" style="width: 1000px;" /></a>
</figure>
<p><strong>Purpose:</strong> The aim is to fix the <a class="reference external" href="https://giscience.github.io/gis-training-resource-center/content/Module_3/en_qgis_digitalisation.html#spatial-digitisation-errors-in-qgis">errors in the geometries</a> of each layer. Otherwise, we would receive error messages in the further steps.</p>
<div class="admonition attention">
<p class="admonition-title">Attention</p>
<p>You need to perform this step two times. One time for ML 1 and a second time for ML 2.</p>
</div>
<p><strong>Tool:</strong> Fix geometries</p>
<table class="table">
<colgroup>
<col style="width: 44%" />
<col style="width: 56%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Instruction</p></th>
<th class="head"><p>Fix geometries</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><ol class="arabic simple">
<li><p>In the <span class="xref myst">processing toolbox</span>, search for âFix geometriesâ. Click on it.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Input</span> <span class="pre">Layer</span></code>: ML1 and ML2</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Repair</span> <span class="pre">Method</span></code>: structure</p></li>
<li><p>Under <code class="docutils literal notranslate"><span class="pre">Extraced</span> <span class="pre">(Attribute)</span></code>, click on the three points <img alt="" src="../../_images/Three_points.png" /> -&gt; <code class="docutils literal notranslate"><span class="pre">Save</span> <span class="pre">to</span> <span class="pre">File</span></code> and navigate to your monitoring folder [Year_Month]. Give the output the name âIPC_Year_Month_ML1_fixedâ and click <code class="docutils literal notranslate"><span class="pre">Save</span></code>.</p></li>
<li><p>Click <code class="docutils literal notranslate"><span class="pre">Run</span></code></p></li>
</ol>
</td>
<td><figure class="align-center">
<a class="reference internal image-reference" href="../../_images/SRCS_Trigger_step_5_fix_geometries_NEW.png"><img alt="../../_images/SRCS_Trigger_step_5_fix_geometries_NEW.png" src="../../_images/SRCS_Trigger_step_5_fix_geometries_NEW.png" style="width: 450px;" /></a>
</figure>
</td>
</tr>
</tbody>
</table>
</section>
<section id="step-6-intersection-of-ml-1-ml-2-data-with-the-district-polygons">
<h2>Step 6: Intersection of ML 1 &amp; ML 2 data with the district polygons<a class="headerlink" href="#step-6-intersection-of-ml-1-ml-2-data-with-the-district-polygons" title="Permalink to this heading">#</a></h2>
<figure class="align-center">
<a class="reference internal image-reference" href="../../_images/Drought_EAP_Worklow_Step_6_1_NEW.png"><img alt="../../_images/Drought_EAP_Worklow_Step_6_1_NEW.png" src="../../_images/Drought_EAP_Worklow_Step_6_1_NEW.png" style="width: 1000px;" /></a>
</figure>
<p><strong>Purpose:</strong> The goal is to receive polygon layers which share both the borders and the attributes of both input layers.</p>
<div class="admonition attention">
<p class="admonition-title">Attention</p>
<p>You need to perform this step two times. One time for ML 1 and a second time for ML 2.</p>
</div>
<p><strong>Tool:</strong> <a class="reference external" href="https://giscience.github.io/gis-training-resource-center/content/Wiki/en_qgis_geoprocessing_wiki.html#intersection"><code class="docutils literal notranslate"><span class="pre">Intersection</span></code></a></p>
<table class="table">
<colgroup>
<col style="width: 44%" />
<col style="width: 56%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Instruction</p></th>
<th class="head"><p>Intersection</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><ol class="arabic simple">
<li><p>Click on <code class="docutils literal notranslate"><span class="pre">Vector</span></code> -&gt; <code class="docutils literal notranslate"><span class="pre">Geoprocessing</span> <span class="pre">Tools</span></code> -&gt; <a class="reference external" href="https://giscience.github.io/gis-training-resource-center/content/Wiki/en_qgis_geoprocessing_wiki.html#intersection"><code class="docutils literal notranslate"><span class="pre">Intersection</span></code></a>
2.<code class="docutils literal notranslate"><span class="pre">Input</span> <span class="pre">Layer</span></code>: ML 1 or ML 2</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Overlay</span> <span class="pre">layer</span></code>: district_pop_sum</p></li>
<li><p>Under <code class="docutils literal notranslate"><span class="pre">Intersection</span></code> click on the three points <img alt="" src="../../_images/Three_points.png" />-&gt; <code class="docutils literal notranslate"><span class="pre">Save</span> <span class="pre">to</span> <span class="pre">File</span></code> and navigate to you monitoring folder [Year_Month]. Give the output the name âML1_Intersectionâ or âML2_Intersectionâ and click <code class="docutils literal notranslate"><span class="pre">Save</span></code></p></li>
<li><p>Click <code class="docutils literal notranslate"><span class="pre">Run</span></code></p></li>
</ol>
</td>
<td><figure class="align-center">
<a class="reference internal image-reference" href="../../_images/SRCS_Trigger_step_4_Intersection.png"><img alt="../../_images/SRCS_Trigger_step_4_Intersection.png" src="../../_images/SRCS_Trigger_step_4_Intersection.png" style="width: 450px;" /></a>
</figure>
</td>
</tr>
</tbody>
</table>
<p><strong>Result:</strong> After doing this for ML1 and ML2 you should have two polygon layers, each containing all columns of ML1 (or ML2) and district_pop_sum.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The resulting layer can have more rows than the original layers.</p>
</div>
<p>The video shows the whole process on the example of ML 1.</p>
<details class="sd-sphinx-override sd-dropdown sd-card sd-mb-3">
<summary class="sd-summary-title sd-card-header">
Video: Intersection of ML 1 &amp; ML 2 data with the district polygons <div class="sd-summary-down docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-down" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M5.22 8.72a.75.75 0 000 1.06l6.25 6.25a.75.75 0 001.06 0l6.25-6.25a.75.75 0 00-1.06-1.06L12 14.44 6.28 8.72a.75.75 0 00-1.06 0z"></path></svg></div>
<div class="sd-summary-up docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-up" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M18.78 15.28a.75.75 0 000-1.06l-6.25-6.25a.75.75 0 00-1.06 0l-6.25 6.25a.75.75 0 101.06 1.06L12 9.56l5.72 5.72a.75.75 0 001.06 0z"></path></svg></div>
</summary><div class="sd-summary-content sd-card-body docutils">
<p class="sd-card-text"><video width="100%" controls muted src="https://github.com/GIScience/gis-training-resource-center/raw/main/fig/SRCS_Trigger_step_4_Intersection.mp4"></video></p>
</div>
</details></section>
<section id="step-7-calculation-of-population-per-intersection-polygon">
<h2>Step 7: Calculation of Population per Intersection Polygon<a class="headerlink" href="#step-7-calculation-of-population-per-intersection-polygon" title="Permalink to this heading">#</a></h2>
<figure class="align-center">
<a class="reference internal image-reference" href="../../_images/Drought_EAP_Worklow_Step_7_1_NEW.png"><img alt="../../_images/Drought_EAP_Worklow_Step_7_1_NEW.png" src="../../_images/Drought_EAP_Worklow_Step_7_1_NEW.png" style="width: 1000px;" /></a>
</figure>
<p><strong>Purpose:</strong> Here we calculate the population in each polygon of the intersection layer from step 4.</p>
<div class="admonition attention">
<p class="admonition-title">Attention</p>
<p>You need to perform this step two times: One time for ML 1 and a second time for ML 2.</p>
</div>
<p><strong>Tool:</strong>  <a class="reference external" href="https://giscience.github.io/gis-training-resource-center/content/Wiki/en_qgis_raster_basic_wiki.html#zonal-statistics"><code class="docutils literal notranslate"><span class="pre">Zonal</span> <span class="pre">Statistics</span></code></a></p>
<table class="table">
<colgroup>
<col style="width: 44%" />
<col style="width: 56%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Instruction</p></th>
<th class="head"><p>Zonal Statistics</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><ol class="arabic simple">
<li><p>In the <code class="docutils literal notranslate"><span class="pre">Toolbox</span></code> -&gt; Search for <a class="reference external" href="https://giscience.github.io/gis-training-resource-center/content/Wiki/en_qgis_raster_basic_wiki.html#zonal-statistics"><code class="docutils literal notranslate"><span class="pre">Zonal</span> <span class="pre">Statistics</span></code></a></p></li>
</ol>
<ul class="simple">
<li><p>Tip: If the <code class="docutils literal notranslate"><span class="pre">Toolbox</span></code> is not opne click <code class="docutils literal notranslate"><span class="pre">Processing</span></code>-&gt; <code class="docutils literal notranslate"><span class="pre">Toolbox</span></code></p></li>
</ul>
<ol class="arabic simple" start="2">
<li><p><code class="docutils literal notranslate"><span class="pre">Input</span> <span class="pre">Layer</span></code>: âML1_Intersectionâ or âML2_Intersectionâ</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Raster</span> <span class="pre">Layer</span></code>: âsom_ppp_2020_UNadj_constrained.tifâ</p></li>
<li><p>Statistics to calculate: Only <code class="docutils literal notranslate"><span class="pre">Sum</span></code></p></li>
<li><p>Under <code class="docutils literal notranslate"><span class="pre">Zonal</span> <span class="pre">Statistics</span></code> click on the three points <img alt="" src="../../_images/Three_points.png" />-&gt; <code class="docutils literal notranslate"><span class="pre">Save</span> <span class="pre">to</span> <span class="pre">File</span></code> and navigate to you monitoring folder [Year_Month]. Give the output the name âML1_zonal_statisticâ or âML2_zonal_statisticâ and click <code class="docutils literal notranslate"><span class="pre">Save</span></code></p></li>
<li><p>Click `Run</p></li>
</ol>
</td>
<td><figure class="align-center">
<a class="reference internal image-reference" href="../../_images/SRCS_Trigger_step_5_zonal_statistic.png"><img alt="../../_images/SRCS_Trigger_step_5_zonal_statistic.png" src="../../_images/SRCS_Trigger_step_5_zonal_statistic.png" style="width: 450px;" /></a>
</figure>
</td>
</tr>
</tbody>
</table>
<p><strong>Result:</strong> The result should be the âML1_zonal_statisticâ and âML2_zonal_statisticâ polygon layers. These layers should have the same columns in the attribute table <strong>plus</strong> the column â_sumâ, which is the number of people living in the single parts of the polygons.</p>
<details class="sd-sphinx-override sd-dropdown sd-card sd-mb-3">
<summary class="sd-summary-title sd-card-header">
Video:  Calculation of Population per Intersection Polygon<div class="sd-summary-down docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-down" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M5.22 8.72a.75.75 0 000 1.06l6.25 6.25a.75.75 0 001.06 0l6.25-6.25a.75.75 0 00-1.06-1.06L12 14.44 6.28 8.72a.75.75 0 00-1.06 0z"></path></svg></div>
<div class="sd-summary-up docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-up" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M18.78 15.28a.75.75 0 000-1.06l-6.25-6.25a.75.75 0 00-1.06 0l-6.25 6.25a.75.75 0 101.06 1.06L12 9.56l5.72 5.72a.75.75 0 001.06 0z"></path></svg></div>
</summary><div class="sd-summary-content sd-card-body docutils">
<p class="sd-card-text"><video width="100%" controls muted src="https://github.com/GIScience/gis-training-resource-center/raw/main/fig/SRCS_Trigger_step_5_zonal_statistic.mp4"></video></p>
</div>
</details></section>
<section id="step-8-weighting-of-the-population-based-on-ipc-phase">
<h2>Step 8: Weighting of the Population based on IPC-Phase<a class="headerlink" href="#step-8-weighting-of-the-population-based-on-ipc-phase" title="Permalink to this heading">#</a></h2>
<figure class="align-center">
<a class="reference internal image-reference" href="../../_images/Drought_EAP_Worklow_Step_8_1_NEW.png"><img alt="../../_images/Drought_EAP_Worklow_Step_8_1_NEW.png" src="../../_images/Drought_EAP_Worklow_Step_8_1_NEW.png" style="width: 1000px;" /></a>
</figure>
<p><strong>Purpose:</strong> The purpose of this step is the weighting of the population in the five IPC phases as described in <a class="reference external" href="https://giscience.github.io/gis-training-resource-center/content/GIS_AA/en_qgis_drought_trigger_somalia.html#ipc-population-weighted-index">IPC Data</a>.</p>
<div class="admonition attention">
<p class="admonition-title">Attention</p>
<p>You need to perform this step two times. One time for ML 1 and a second time for ML 2.</p>
</div>
<p><strong>Tool:</strong>  <a class="reference external" href="https://giscience.github.io/gis-training-resource-center/content/Wiki/en_qgis_table_functions_wiki.html#calculate-field"><code class="docutils literal notranslate"><span class="pre">Field</span> <span class="pre">Calculator</span></code></a></p>
<ol class="arabic simple">
<li><p>Right-click on the layer âML1_zonal_statisticâ (or âML2_zonal_statisticâ) -&gt; <code class="docutils literal notranslate"><span class="pre">Open</span> <span class="pre">Attribute</span> <span class="pre">Table</span></code>-&gt; click on <a class="reference external" href="https://giscience.github.io/gis-training-resource-center/content/Wiki/en_qgis_table_functions_wiki.html#calculate-field"><code class="docutils literal notranslate"><span class="pre">Field</span> <span class="pre">Calculator</span></code></a> <img alt="" src="../../_images/mActionCalculateField.png" /> to open the field calculator</p></li>
<li><p>Check âCreate new fieldâ</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Output</span> <span class="pre">field</span> <span class="pre">name</span></code>: Name the new column âpop_sum_weightedâ</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Result</span> <span class="pre">field</span> <span class="pre">type</span></code>: Decimal number (real)</p></li>
<li><p>Add the code block from Input into the <code class="docutils literal notranslate"><span class="pre">Expression</span></code> field and click <code class="docutils literal notranslate"><span class="pre">ok</span></code></p></li>
</ol>
<table class="table">
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>ML 1</p></th>
<th class="head"><p>ML 2</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><div class="highlight-md notranslate"><div class="highlight"><pre><span></span>CASE

WHEN &quot;value&quot; = 3 THEN &quot;_sum&quot; * 1
WHEN &quot;value&quot; = 4 THEN &quot;_sum&quot; * 3
WHEN &quot;value&quot; = 5 THEN &quot;_sum&quot; * 6
ELSE &quot;_sum&quot;

END
</pre></div>
</div>
</td>
<td><div class="highlight-md notranslate"><div class="highlight"><pre><span></span>CASE

WHEN &quot;value&quot; = 3 THEN &quot;_sum&quot; * 1
WHEN &quot;value&quot; = 4 THEN &quot;_sum&quot; * 3
WHEN &quot;value&quot; = 5 THEN &quot;_sum&quot; * 6
ELSE &quot;_sum&quot;

END
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
<ol class="arabic simple" start="6">
<li><p>Save the new column by clicking on <img alt="" src="../../_images/mActionSaveEdits.png" /> in the attribute table and end the editing mode by clicking on <img alt="" src="../../_images/mActionToggleEditing.png" /></p></li>
</ol>
<p>Here is the <code class="docutils literal notranslate"><span class="pre">Field</span> <span class="pre">Calculator</span></code> window of how it should look to calculate pop_sum_weighted for ML1.</p>
<figure class="align-center">
<a class="reference internal image-reference" href="../../_images/SRCS_Trigger_step_6_field_calculator.png"><img alt="../../_images/SRCS_Trigger_step_6_field_calculator.png" src="../../_images/SRCS_Trigger_step_6_field_calculator.png" style="width: 500px;" /></a>
</figure>
<p><strong>Result:</strong> The two layers âML1_zonal_statisticâ and âML2_zonal_statisticâ should now both have the column âpop_sum_weightedâ.</p>
<p>The video shows the whole process with the the example of ML 1.</p>
<details class="sd-sphinx-override sd-dropdown sd-card sd-mb-3">
<summary class="sd-summary-title sd-card-header">
Video: Weighting of the Population based on IPC-Phase<div class="sd-summary-down docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-down" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M5.22 8.72a.75.75 0 000 1.06l6.25 6.25a.75.75 0 001.06 0l6.25-6.25a.75.75 0 00-1.06-1.06L12 14.44 6.28 8.72a.75.75 0 00-1.06 0z"></path></svg></div>
<div class="sd-summary-up docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-up" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M18.78 15.28a.75.75 0 000-1.06l-6.25-6.25a.75.75 0 00-1.06 0l-6.25 6.25a.75.75 0 101.06 1.06L12 9.56l5.72 5.72a.75.75 0 001.06 0z"></path></svg></div>
</summary><div class="sd-summary-content sd-card-body docutils">
<p class="sd-card-text"><video width="100%" controls muted src="https://github.com/GIScience/gis-training-resource-center/raw/main/fig/SRCS_Trigger_step_6_field_calculators.mp4"></video></p>
</div>
</details></section>
<section id="step-9-adding-the-total-district-population-to-intersection-polygons">
<h2>Step 9: Adding the total district population to Intersection Polygons<a class="headerlink" href="#step-9-adding-the-total-district-population-to-intersection-polygons" title="Permalink to this heading">#</a></h2>
<figure class="align-center">
<a class="reference internal image-reference" href="../../_images/Drought_EAP_Worklow_Step_9_1_NEW.png"><img alt="../../_images/Drought_EAP_Worklow_Step_9_1_NEW.png" src="../../_images/Drought_EAP_Worklow_Step_9_1_NEW.png" style="width: 1000px;" /></a>
</figure>
<p><strong>Purpose:</strong> Now we want to add a column with the total district population to âML1_zonal_statisticâ and âML2_zonal_statisticâ.</p>
<div class="admonition attention">
<p class="admonition-title">Attention</p>
<p>You need to perform this step two times. One time for ML 1 and a second time for ML 2.</p>
</div>
<p><strong>Tool:</strong> <a class="reference external" href="https://giscience.github.io/gis-training-resource-center/content/Wiki/en_qgis_non_spatial_joins_wiki.html#join-attributes-by-field-value"><code class="docutils literal notranslate"><span class="pre">Join</span> <span class="pre">attributes</span> <span class="pre">by</span> <span class="pre">field</span> <span class="pre">value</span></code></a></p>
<table class="table">
<colgroup>
<col style="width: 44%" />
<col style="width: 56%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Instruction</p></th>
<th class="head"><p>Join attributes by field value</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><ol class="arabic simple">
<li><p>In the <code class="docutils literal notranslate"><span class="pre">Toolbox</span></code>-&gt; Search for <a class="reference external" href="https://giscience.github.io/gis-training-resource-center/content/Wiki/en_qgis_non_spatial_joins_wiki.html#join-attributes-by-field-value"><code class="docutils literal notranslate"><span class="pre">Join</span> <span class="pre">attributes</span> <span class="pre">by</span>&#160;&#160; <span class="pre">field</span> <span class="pre">value</span></code></a></p></li>
</ol>
<ul class="simple">
<li><p>Tip: If the <code class="docutils literal notranslate"><span class="pre">Toolbox</span></code> is not opne click <code class="docutils literal notranslate"><span class="pre">Processing</span></code>-&gt; <code class="docutils literal notranslate"><span class="pre">Toolbox</span></code></p></li>
</ul>
<ol class="arabic simple" start="2">
<li><p><code class="docutils literal notranslate"><span class="pre">Input</span> <span class="pre">Layer</span></code>: Select âML1_zonal_statisticâ (or âML2_zonal_statisticâ)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Table</span> <span class="pre">field</span></code>: Select âadmin2Nameâ</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Input</span> <span class="pre">Layer</span> <span class="pre">2</span></code>: Select the layer âdistrict_pop_somâ</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Table</span> <span class="pre">field</span> <span class="pre">2</span></code>: Select âadmin2Nameâ</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Layer</span> <span class="pre">2</span> <span class="pre">field</span> <span class="pre">to</span> <span class="pre">copy</span></code>: Click on the three points <img alt="" src="../../_images/Three_points.png" /> and select âadmin2Nameâ and âdistrictpoâ</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Join</span> <span class="pre">type</span></code>: Select the option âTake attributes of the first matching feature only (one-to-one)</p></li>
<li><p>Under <code class="docutils literal notranslate"><span class="pre">Join</span> <span class="pre">Layer</span> <span class="pre">[optional]</span></code> click on the three points <img alt="" src="../../_images/Three_points.png" />-&gt; <code class="docutils literal notranslate"><span class="pre">Save</span> <span class="pre">to</span> <span class="pre">File</span></code> and navigate to you monitoring folder [Year_Month]. Give the output the name âML1_joinâ or âML2_joinâ and click <code class="docutils literal notranslate"><span class="pre">Save</span></code></p></li>
<li><p>Click <code class="docutils literal notranslate"><span class="pre">Run</span></code></p></li>
</ol>
</td>
<td><figure class="align-center">
<a class="reference internal image-reference" href="../../_images/SRCS_Trigger_step_7_join.png"><img alt="../../_images/SRCS_Trigger_step_7_join.png" src="../../_images/SRCS_Trigger_step_7_join.png" style="width: 450px;" /></a>
</figure>
</td>
</tr>
</tbody>
</table>
<p><strong>Result:</strong> Now you should have to new polygon layer named âML1_joinâ and ML2_Joinâ containing the column districtpo.</p>
<details class="sd-sphinx-override sd-dropdown sd-card sd-mb-3">
<summary class="sd-summary-title sd-card-header">
Video: Adding the total district population to Intersection Polygons<div class="sd-summary-down docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-down" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M5.22 8.72a.75.75 0 000 1.06l6.25 6.25a.75.75 0 001.06 0l6.25-6.25a.75.75 0 00-1.06-1.06L12 14.44 6.28 8.72a.75.75 0 00-1.06 0z"></path></svg></div>
<div class="sd-summary-up docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-up" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M18.78 15.28a.75.75 0 000-1.06l-6.25-6.25a.75.75 0 00-1.06 0l-6.25 6.25a.75.75 0 101.06 1.06L12 9.56l5.72 5.72a.75.75 0 001.06 0z"></path></svg></div>
</summary><div class="sd-summary-content sd-card-body docutils">
<p class="sd-card-text"><video width="100%" controls muted src="https://github.com/GIScience/gis-training-resource-center/raw/main/fig/SRCS_Trigger_step_7_join.mp4"></video></p>
</div>
</details></section>
<section id="step-10-calculation-of-the-population-proportion-per-intersection-polygon">
<h2>Step 10: Calculation of the Population Proportion per Intersection Polygon<a class="headerlink" href="#step-10-calculation-of-the-population-proportion-per-intersection-polygon" title="Permalink to this heading">#</a></h2>
<figure class="align-center">
<a class="reference internal image-reference" href="../../_images/Drought_EAP_Worklow_Step_10_1_NEW.png"><img alt="../../_images/Drought_EAP_Worklow_Step_10_1_NEW.png" src="../../_images/Drought_EAP_Worklow_Step_10_1_NEW.png" style="width: 1000px;" /></a>
</figure>
<p><strong>Purpose:</strong> In this step we calculating the <a class="reference external" href="https://giscience.github.io/gis-training-resource-center/content/GIS_AA/en_qgis_drought_trigger_somalia.html#ipc-population-weighted-index">IPC-Population Weighted Index</a> for every small part of the polygon layer.</p>
<div class="admonition attention">
<p class="admonition-title">Attention</p>
<p>You need to perform this step two times. One time for ML 1 and a second time for ML 2.</p>
</div>
<p><strong>Tool:</strong><a class="reference external" href="https://giscience.github.io/gis-training-resource-center/content/Wiki/en_qgis_table_functions_wiki.html#calculate-field"><code class="docutils literal notranslate"><span class="pre">Field</span> <span class="pre">Calculator</span></code></a></p>
<ol class="arabic simple">
<li><p>Right-click on Intersection_population Polygons layer -&gt; âAttribute Tableâ-&gt; click on  <a class="reference external" href="https://giscience.github.io/gis-training-resource-center/content/Wiki/en_qgis_table_functions_wiki.html#calculate-field"><code class="docutils literal notranslate"><span class="pre">Field</span> <span class="pre">Calculator</span></code></a> <img alt="" src="../../_images/mActionCalculateField.png" />to open the field calculator</p></li>
<li><p>Check <code class="docutils literal notranslate"><span class="pre">Create</span> <span class="pre">new</span> <span class="pre">field</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Output</span> <span class="pre">field</span> <span class="pre">name</span></code>: Name the new column âIndex_per_IPCPolygon_ML1â (or âIndex_per_IPCPolygon_ML2â)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Result</span> <span class="pre">field</span> <span class="pre">type</span></code>: Decimal number (real)</p></li>
<li><p>Add the code into the <code class="docutils literal notranslate"><span class="pre">Expression</span></code> field</p></li>
</ol>
<div class="highlight-md notranslate"><div class="highlight"><pre><span></span>&quot;pop_sum_weighted&quot;/&quot;districtpo&quot;
</pre></div>
</div>
<ol class="arabic simple" start="6">
<li><p>Click <code class="docutils literal notranslate"><span class="pre">ok</span></code></p></li>
<li><p>Save the new column by clicking on <img alt="" src="../../_images/mActionSaveEdits.png" /> in the attribute table and end the editing mode by clicking on <img alt="" src="../../_images/mActionToggleEditing.png" /></p></li>
</ol>
<figure class="align-center">
<a class="reference internal image-reference" href="../../_images/SRCS_Trigger_step_8_field_calculator.png"><img alt="../../_images/SRCS_Trigger_step_8_field_calculator.png" src="../../_images/SRCS_Trigger_step_8_field_calculator.png" style="width: 500px;" /></a>
</figure>
<p><strong>Result:</strong> Both layer âML1_joinâ and ML2_Joinâ should now have the column âIndex_per_IPCPolygon_ML1â or âIndex_per_IPCPolygon_ML2â. The numbers in this column have to be smaller than in the âdistrictâ column.</p>
<p>The video shows the whole process with the the example of ML 1.</p>
<details class="sd-sphinx-override sd-dropdown sd-card sd-mb-3">
<summary class="sd-summary-title sd-card-header">
Video: Calculation of Population Proportion per Intersection Polygon<div class="sd-summary-down docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-down" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M5.22 8.72a.75.75 0 000 1.06l6.25 6.25a.75.75 0 001.06 0l6.25-6.25a.75.75 0 00-1.06-1.06L12 14.44 6.28 8.72a.75.75 0 00-1.06 0z"></path></svg></div>
<div class="sd-summary-up docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-up" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M18.78 15.28a.75.75 0 000-1.06l-6.25-6.25a.75.75 0 00-1.06 0l-6.25 6.25a.75.75 0 101.06 1.06L12 9.56l5.72 5.72a.75.75 0 001.06 0z"></path></svg></div>
</summary><div class="sd-summary-content sd-card-body docutils">
<p class="sd-card-text"><video width="100%" controls muted src="https://github.com/GIScience/gis-training-resource-center/raw/main/fig/SRCS_TRigger_step_8_field_calculator.mp4"></video></p>
</div>
</details></section>
<section id="step-11-calculate-the-ipc-index-per-district">
<h2>Step 11: Calculate the IPC Index per District<a class="headerlink" href="#step-11-calculate-the-ipc-index-per-district" title="Permalink to this heading">#</a></h2>
<figure class="align-center">
<a class="reference internal image-reference" href="../../_images/Drought_EAP_Worklow_Step_11_1_NEW.png"><img alt="../../_images/Drought_EAP_Worklow_Step_11_1_NEW.png" src="../../_images/Drought_EAP_Worklow_Step_11_1_NEW.png" style="width: 1000px;" /></a>
</figure>
<p><strong>Purpose:</strong>  The purpose of this step is to calculate a population weighted mean over the IPC classes that fall within a district, in order to give the amount of people living in a certain IPC class more importance than just the area affected by a certain IPC class. The result is a IPC Index value for each district.</p>
<p><strong>Tool:</strong> <code class="docutils literal notranslate"><span class="pre">Join</span> <span class="pre">attribute</span> <span class="pre">by</span> <span class="pre">location</span> <span class="pre">(summary)</span></code></p>
<table class="table">
<colgroup>
<col style="width: 44%" />
<col style="width: 56%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Instruction</p></th>
<th class="head"><p>Join attribute by location (summary)</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><ol class="arabic simple">
<li><p>In the <code class="docutils literal notranslate"><span class="pre">Toolbox</span></code>-&gt; Search for <code class="docutils literal notranslate"><span class="pre">Join</span> <span class="pre">attribute</span> <span class="pre">by</span> <span class="pre">location</span> <span class="pre">(summary)</span></code></p></li>
</ol>
<ul class="simple">
<li><p>Tip: If the <code class="docutils literal notranslate"><span class="pre">Toolbox</span></code> is not opne click <code class="docutils literal notranslate"><span class="pre">Processing</span></code>-&gt; <code class="docutils literal notranslate"><span class="pre">Toolbox</span></code></p></li>
</ul>
<ol class="arabic simple" start="2">
<li><p><code class="docutils literal notranslate"><span class="pre">Input</span> <span class="pre">Layer</span></code>: Select your âdistrict_pop_somâ layer</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Input</span> <span class="pre">Layer</span> <span class="pre">2</span></code>: Select âML1_joinâ (or ML2_Joinâ)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Geometric</span> <span class="pre">predicate</span></code>: Select âIntersectionâ</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Field</span> <span class="pre">to</span> <span class="pre">summarise</span></code>: Select âIndex_per_IPCPolygon_ML1â (or âIndex_per_IPCPolygon_ML2â )</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Summaries</span> <span class="pre">to</span> <span class="pre">calculate</span></code>: Chose only the option âmeanâ</p></li>
<li><p>Under <code class="docutils literal notranslate"><span class="pre">Join</span> <span class="pre">Layer</span></code> click on the three points <img alt="" src="../../_images/Three_points.png" />-&gt; <code class="docutils literal notranslate"><span class="pre">Save</span> <span class="pre">to</span> <span class="pre">File</span></code> and navigate to you monitoring folder [Year_Month]. Give the output the name âML1_join_locationâ or âML2_join_locationâ and click <code class="docutils literal notranslate"><span class="pre">Save</span></code></p></li>
<li><p>Click <code class="docutils literal notranslate"><span class="pre">Run</span></code></p></li>
</ol>
</td>
<td><figure class="align-center">
<a class="reference internal image-reference" href="../../_images/SRCS_Trigger_step_9_join_location.png"><img alt="../../_images/SRCS_Trigger_step_9_join_location.png" src="../../_images/SRCS_Trigger_step_9_join_location.png" style="width: 450px;" /></a>
</figure>
</td>
</tr>
</tbody>
</table>
<p><strong>Result:</strong> As a result, your two layers âML1_join_locationâ and âML2_join_locationâ should have the column âIndex_per_IPCPolygon_ML1_meanâ or âIndex_per_IPCPolygon_ML2_meanâ. Furthermore, the number of rows should be the exact number of districts in Somalia and the polygons should have the exact shape of the districts.</p>
<details class="sd-sphinx-override sd-dropdown sd-card sd-mb-3">
<summary class="sd-summary-title sd-card-header">
Video: Calculate IPC Index per District<div class="sd-summary-down docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-down" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M5.22 8.72a.75.75 0 000 1.06l6.25 6.25a.75.75 0 001.06 0l6.25-6.25a.75.75 0 00-1.06-1.06L12 14.44 6.28 8.72a.75.75 0 00-1.06 0z"></path></svg></div>
<div class="sd-summary-up docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-up" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M18.78 15.28a.75.75 0 000-1.06l-6.25-6.25a.75.75 0 00-1.06 0l-6.25 6.25a.75.75 0 101.06 1.06L12 9.56l5.72 5.72a.75.75 0 001.06 0z"></path></svg></div>
</summary><div class="sd-summary-content sd-card-body docutils">
<p class="sd-card-text"><video width="100%" controls muted src="https://github.com/GIScience/gis-training-resource-center/raw/main/fig/SRCS_Trigger_step_9_join_location.mp4"></video></p>
</div>
</details></section>
<section id="step-12-join-ml1-and-ml2">
<h2>Step 12.: Join ML1 and ML2<a class="headerlink" href="#step-12-join-ml1-and-ml2" title="Permalink to this heading">#</a></h2>
<figure class="align-center">
<a class="reference internal image-reference" href="../../_images/Drought_EAP_Worklow_Step_12_1_NEW.png"><img alt="../../_images/Drought_EAP_Worklow_Step_12_1_NEW.png" src="../../_images/Drought_EAP_Worklow_Step_12_1_NEW.png" style="width: 1000px;" /></a>
</figure>
<p><strong>Purpose:</strong> The purpose of this step is to merge âML1_join_locationâ and âML2_join_locationâ into one layer so we have the IPC-Index for all districts.</p>
<p><strong>Tool:</strong> <a class="reference external" href="https://giscience.github.io/gis-training-resource-center/content/Wiki/en_qgis_non_spatial_joins_wiki.html#join-attributes-by-field-value"><code class="docutils literal notranslate"><span class="pre">Join</span> <span class="pre">attributes</span> <span class="pre">by</span> <span class="pre">field</span> <span class="pre">value</span></code></a></p>
<table class="table">
<colgroup>
<col style="width: 44%" />
<col style="width: 56%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Instruction</p></th>
<th class="head"><p>Join attribute by location (summary)</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><ol class="arabic simple">
<li><p>In the <code class="docutils literal notranslate"><span class="pre">Toolbox</span></code>-&gt; Search for <a class="reference external" href="https://giscience.github.io/gis-training-resource-center/content/Wiki/en_qgis_non_spatial_joins_wiki.html#join-attributes-by-field-value"><code class="docutils literal notranslate"><span class="pre">Join</span> <span class="pre">attributes</span> <span class="pre">by</span> <span class="pre">field</span> <span class="pre">value</span></code></a></p></li>
</ol>
<ul class="simple">
<li><p>Tip: If the <code class="docutils literal notranslate"><span class="pre">Toolbox</span></code> is not opne click <code class="docutils literal notranslate"><span class="pre">Processing</span></code>-&gt; <code class="docutils literal notranslate"><span class="pre">Toolbox</span></code></p></li>
</ul>
<ol class="arabic simple" start="2">
<li><p><code class="docutils literal notranslate"><span class="pre">Input</span> <span class="pre">Layer</span></code>: Select your âML1_join_locationâ layer</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Table</span> <span class="pre">field</span></code>: Select âadmin2Nameâ</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Input</span> <span class="pre">Layer</span> <span class="pre">2</span></code>: Select your âML2_join_locationâ layer</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Table</span> <span class="pre">field</span> <span class="pre">2</span></code>: Select âadmin2Nameâ</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Layer</span> <span class="pre">2</span> <span class="pre">field</span> <span class="pre">to</span> <span class="pre">copy</span></code>: Click on the three points and  select âIndex_per_IPCPolygon_ML2_meanâ</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Join</span> <span class="pre">type</span></code>: Select the option âTake attributes of the first matching feature only (one-to-one)</p></li>
<li><p>Under <code class="docutils literal notranslate"><span class="pre">Join</span> <span class="pre">Layer</span></code> click on the three points <img alt="" src="../../_images/Three_points.png" />-&gt; <code class="docutils literal notranslate"><span class="pre">Save</span> <span class="pre">to</span> <span class="pre">File</span></code> and navigate to you monitoring folder [Year_Month]. Give the output the name âIPC_index_districtâ and click <code class="docutils literal notranslate"><span class="pre">Save</span></code></p></li>
<li><p>Click <code class="docutils literal notranslate"><span class="pre">Run</span></code></p></li>
</ol>
</td>
<td><figure class="align-center">
<a class="reference internal image-reference" href="../../_images/SRCS_Trigger_step_10_IPC_Index_district.png"><img alt="../../_images/SRCS_Trigger_step_10_IPC_Index_district.png" src="../../_images/SRCS_Trigger_step_10_IPC_Index_district.png" style="width: 450px;" /></a>
</figure>
</td>
</tr>
</tbody>
</table>
<p><strong>Result:</strong> Layer with the districts of Somalia and the IPC-Index of each district.</p>
<details class="sd-sphinx-override sd-dropdown sd-card sd-mb-3">
<summary class="sd-summary-title sd-card-header">
Video: Join ML1 and ML2 I<div class="sd-summary-down docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-down" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M5.22 8.72a.75.75 0 000 1.06l6.25 6.25a.75.75 0 001.06 0l6.25-6.25a.75.75 0 00-1.06-1.06L12 14.44 6.28 8.72a.75.75 0 00-1.06 0z"></path></svg></div>
<div class="sd-summary-up docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-up" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M18.78 15.28a.75.75 0 000-1.06l-6.25-6.25a.75.75 0 00-1.06 0l-6.25 6.25a.75.75 0 101.06 1.06L12 9.56l5.72 5.72a.75.75 0 001.06 0z"></path></svg></div>
</summary><div class="sd-summary-content sd-card-body docutils">
<p class="sd-card-text"><video width="100%" controls muted src="https://github.com/GIScience/gis-training-resource-center/raw/main/fig/SRCS_Trigger_step_10_join.mp4"></video></p>
</div>
</details></section>
<section id="step-13-calculation-of-spi-12-mean-per-district">
<h2>Step 13: Calculation of SPI-12 Mean per District<a class="headerlink" href="#step-13-calculation-of-spi-12-mean-per-district" title="Permalink to this heading">#</a></h2>
<figure class="align-center">
<a class="reference internal image-reference" href="../../_images/Drought_EAP_Worklow_Step_13_1_NEW.png"><img alt="../../_images/Drought_EAP_Worklow_Step_13_1_NEW.png" src="../../_images/Drought_EAP_Worklow_Step_13_1_NEW.png" style="width: 1000px;" /></a>
</figure>
<p><strong>Purpose:</strong> Calculate the mean value over the SPI-12 values of all pixels that fall within a scertain districts area, in order to have one SPI-12 value for each district.</p>
<p><strong>Tool:</strong> <a class="reference external" href="https://giscience.github.io/gis-training-resource-center/content/Wiki/en_qgis_raster_basic_wiki.html#zonal-statistics"><code class="docutils literal notranslate"><span class="pre">Zonal</span> <span class="pre">Statistics</span></code></a></p>
<table class="table">
<colgroup>
<col style="width: 44%" />
<col style="width: 56%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Instruction</p></th>
<th class="head"><p>Zonal Statistics</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><ol class="arabic simple">
<li><p>In the <code class="docutils literal notranslate"><span class="pre">Toolbox</span></code> -&gt; Search for <a class="reference external" href="https://giscience.github.io/gis-training-resource-center/content/Wiki/en_qgis_raster_basic_wiki.html#zonal-statistics"><code class="docutils literal notranslate"><span class="pre">Zonal</span> <span class="pre">Statistics</span></code></a></p></li>
</ol>
<ul class="simple">
<li><p>Tip: If the <code class="docutils literal notranslate"><span class="pre">Toolbox</span></code> is not open click <code class="docutils literal notranslate"><span class="pre">Processing</span></code>-&gt; <code class="docutils literal notranslate"><span class="pre">Toolbox</span></code></p></li>
</ul>
<ol class="arabic simple" start="2">
<li><p><code class="docutils literal notranslate"><span class="pre">Input</span> <span class="pre">Layer</span></code>: district_pop_som</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Raster</span> <span class="pre">Layer</span></code>: SPI Forecast</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Output</span> <span class="pre">column</span> <span class="pre">prefix</span></code>: Use  âSPI12_â</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Statistics</span> <span class="pre">to</span> <span class="pre">calculate</span></code>: âMeanâ</p></li>
<li><p>Under <code class="docutils literal notranslate"><span class="pre">Zonal</span> <span class="pre">Statistics</span></code> click on the three points <img alt="" src="../../_images/Three_points.png" />-&gt; <code class="docutils literal notranslate"><span class="pre">Save</span> <span class="pre">to</span> <span class="pre">File</span></code> and navigate to you monitoring folder [Year_Month]. Give the output the name âSPI12_districtâ and click <code class="docutils literal notranslate"><span class="pre">Save</span></code></p></li>
<li><p>Click `Run``</p></li>
</ol>
</td>
<td><figure class="align-center">
<a class="reference internal image-reference" href="../../_images/SRCS_Trigger_step_11_IPC_zonal_district.png"><img alt="../../_images/SRCS_Trigger_step_11_IPC_zonal_district.png" src="../../_images/SRCS_Trigger_step_11_IPC_zonal_district.png" style="width: 450px;" /></a>
</figure>
</td>
</tr>
</tbody>
</table>
<p><strong>Result:</strong> A layer of all districts of Somalia with the mean SPI-12.</p>
<details class="sd-sphinx-override sd-dropdown sd-card sd-mb-3">
<summary class="sd-summary-title sd-card-header">
Video: Calculation of SPI12 Mean per District<div class="sd-summary-down docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-down" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M5.22 8.72a.75.75 0 000 1.06l6.25 6.25a.75.75 0 001.06 0l6.25-6.25a.75.75 0 00-1.06-1.06L12 14.44 6.28 8.72a.75.75 0 00-1.06 0z"></path></svg></div>
<div class="sd-summary-up docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-up" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M18.78 15.28a.75.75 0 000-1.06l-6.25-6.25a.75.75 0 00-1.06 0l-6.25 6.25a.75.75 0 101.06 1.06L12 9.56l5.72 5.72a.75.75 0 001.06 0z"></path></svg></div>
</summary><div class="sd-summary-content sd-card-body docutils">
<p class="sd-card-text"><video width="100%" controls muted src="https://github.com/GIScience/gis-training-resource-center/raw/main/fig/SRCS_Trigger_step_11_zonal_staistics.mp4"></video></p>
</div>
</details></section>
<section id="step-14-join-spi-12-mean-to-the-ipc-index">
<h2>Step 14: Join SPI-12 Mean to the IPC Index<a class="headerlink" href="#step-14-join-spi-12-mean-to-the-ipc-index" title="Permalink to this heading">#</a></h2>
<figure class="align-center">
<a class="reference internal image-reference" href="../../_images/Drought_EAP_Worklow_Step_14_1_NEW.png"><img alt="../../_images/Drought_EAP_Worklow_Step_14_1_NEW.png" src="../../_images/Drought_EAP_Worklow_Step_14_1_NEW.png" style="width: 1000px;" /></a>
</figure>
<p><strong>Purpose:</strong> The purpose of this step is to merge data from two different data sources into one data frame so that it can be jointly analysed.</p>
<p><strong>Tool:</strong><a class="reference external" href="https://giscience.github.io/gis-training-resource-center/content/Wiki/en_qgis_non_spatial_joins_wiki.html#join-attributes-by-field-value"><code class="docutils literal notranslate"><span class="pre">Join</span> <span class="pre">attributes</span> <span class="pre">by</span> <span class="pre">field</span> <span class="pre">value</span></code></a></p>
<table class="table">
<colgroup>
<col style="width: 44%" />
<col style="width: 56%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Instruction</p></th>
<th class="head"><p>Join attributes by field value</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><ol class="arabic simple">
<li><p>In the <code class="docutils literal notranslate"><span class="pre">Toolbox</span></code>-&gt; Search for <a class="reference external" href="https://giscience.github.io/gis-training-resource-center/content/Wiki/en_qgis_non_spatial_joins_wiki.html#join-attributes-by-field-value"><code class="docutils literal notranslate"><span class="pre">Join</span> <span class="pre">attributes</span> <span class="pre">by</span> <span class="pre">field</span> <span class="pre">value</span></code></a></p></li>
</ol>
<ul class="simple">
<li><p>Tip: If the <code class="docutils literal notranslate"><span class="pre">Toolbox</span></code> is not opne click <code class="docutils literal notranslate"><span class="pre">Processing</span></code>-&gt; <code class="docutils literal notranslate"><span class="pre">Toolbox</span></code></p></li>
</ul>
<ol class="arabic simple" start="2">
<li><p><code class="docutils literal notranslate"><span class="pre">Input</span> <span class="pre">Layer</span></code>: Select your âIPC_index_districtâ</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Table</span> <span class="pre">field</span></code>: Select âadmin2Nameâ</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Input</span> <span class="pre">Layer</span> <span class="pre">2</span></code>: Select your âSPI12_districtâ</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Table</span> <span class="pre">field</span> <span class="pre">2</span></code>: Select âadmin2Nameâ</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Join</span> <span class="pre">type</span></code>: Select the option âTake attributes of the first matching feature only (one-to-one)â</p></li>
<li><p>Under <code class="docutils literal notranslate"><span class="pre">Join</span> <span class="pre">Layer</span></code> click on the three points <img alt="" src="../../_images/Three_points.png" />-&gt; <code class="docutils literal notranslate"><span class="pre">Save</span> <span class="pre">to</span> <span class="pre">File</span></code> and navigate to you monitoring folder [Year_Month]. Give the output the name âIPC_index_SPI_12_districtâ and click <code class="docutils literal notranslate"><span class="pre">Save</span></code></p></li>
<li><p>Click <code class="docutils literal notranslate"><span class="pre">Run</span></code></p></li>
</ol>
</td>
<td><figure class="align-center">
<a class="reference internal image-reference" href="../../_images/SRCS_Trigger_step_12_IPC_SPI12_join.png"><img alt="../../_images/SRCS_Trigger_step_12_IPC_SPI12_join.png" src="../../_images/SRCS_Trigger_step_12_IPC_SPI12_join.png" style="width: 450px;" /></a>
</figure>
</td>
</tr>
</tbody>
</table>
<p><strong>Result:</strong> The result will be a layer of all districts of Somalia with the mean SPI-12 and the IPC-Index of each district.</p>
<details class="sd-sphinx-override sd-dropdown sd-card sd-mb-3">
<summary class="sd-summary-title sd-card-header">
Video: Join SPI12 Mean to the IPC Index<div class="sd-summary-down docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-down" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M5.22 8.72a.75.75 0 000 1.06l6.25 6.25a.75.75 0 001.06 0l6.25-6.25a.75.75 0 00-1.06-1.06L12 14.44 6.28 8.72a.75.75 0 00-1.06 0z"></path></svg></div>
<div class="sd-summary-up docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-up" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M18.78 15.28a.75.75 0 000-1.06l-6.25-6.25a.75.75 0 00-1.06 0l-6.25 6.25a.75.75 0 101.06 1.06L12 9.56l5.72 5.72a.75.75 0 001.06 0z"></path></svg></div>
</summary><div class="sd-summary-content sd-card-body docutils">
<p class="sd-card-text"><video width="100%" controls muted src="https://github.com/GIScience/gis-training-resource-center/raw/main/fig/SRCS_Trigger_step_12_join_IPC_SPI12.mp4"></video></p>
</div>
</details></section>
<section id="step-15-evaluate-the-trigger-activation">
<h2>Step 15: Evaluate the Trigger Activation<a class="headerlink" href="#step-15-evaluate-the-trigger-activation" title="Permalink to this heading">#</a></h2>
<figure class="align-center">
<a class="reference internal image-reference" href="../../_images/Drought_EAP_Worklow_Step_15_1_NEW.png"><img alt="../../_images/Drought_EAP_Worklow_Step_15_1_NEW.png" src="../../_images/Drought_EAP_Worklow_Step_15_1_NEW.png" style="width: 1000px;" /></a>
</figure>
<p><strong>Purpose:</strong> The purpose of this step is to gain a quick overview of possible trigger activation without having to revise the actual data. Instead we will have a binary column with trigger = yes or trigger=no values.</p>
<p><strong>Tool:</strong> <a class="reference external" href="https://giscience.github.io/gis-training-resource-center/content/Wiki/en_qgis_table_functions_wiki.html#calculate-field"><code class="docutils literal notranslate"><span class="pre">Field</span> <span class="pre">Calculator</span></code></a></p>
<ol class="arabic simple">
<li><p>Right-click on âIPC_index_SPI_12_districtâ layer -&gt; <code class="docutils literal notranslate"><span class="pre">Attribute</span> <span class="pre">Table</span></code>-&gt; click on  <a class="reference external" href="https://giscience.github.io/gis-training-resource-center/content/Wiki/en_qgis_table_functions_wiki.html#calculate-field"><code class="docutils literal notranslate"><span class="pre">Field</span> <span class="pre">Calculator</span></code></a> <img alt="" src="../../_images/mActionCalculateField.png" /> to open the field calculator</p></li>
<li><p>Check <code class="docutils literal notranslate"><span class="pre">Create</span> <span class="pre">new</span> <span class="pre">field</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Output</span> <span class="pre">field</span> <span class="pre">name</span></code>: Name the new column âTrigger_activationâ</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Result</span> <span class="pre">field</span> <span class="pre">type</span></code>: Text (string)</p></li>
<li><p>Add the code below into the <code class="docutils literal notranslate"><span class="pre">Expression</span></code> field</p></li>
</ol>
<table class="table">
<colgroup>
<col style="width: 100%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Code</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><div class="highlight-md notranslate"><div class="highlight"><pre><span></span>CASE

WHEN &quot;Index_per_IPCPolygon_ML1_mean&quot; &gt;0.7 AND &quot;Index_per_IPCPolygon_ML2_mean&quot; &gt; 0.7
AND
&quot;SPI12_mean&quot; &lt; -1
THEN &#39;yes&#39;
ELSE &#39;no&#39;

END
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
<ol class="arabic simple" start="6">
<li><p>Click <code class="docutils literal notranslate"><span class="pre">ok</span></code></p></li>
<li><p>Save the new column by clicking on <img alt="" src="../../_images/mActionSaveEdits.png" /> in the attribute table and end the editing mode by clicking on <img alt="" src="../../_images/mActionToggleEditing.png" /></p></li>
</ol>
<p><strong>Result:</strong> A layer with all districts of Somalia with a column of âYesâ and âNoâ values indicating whether the trigger levels have been reached or not.</p>
<figure class="align-center">
<a class="reference internal image-reference" href="../../_images/SRCS_Trigger_step_13_trigger_evaluation.png"><img alt="../../_images/SRCS_Trigger_step_13_trigger_evaluation.png" src="../../_images/SRCS_Trigger_step_13_trigger_evaluation.png" style="width: 500px;" /></a>
</figure>
<details class="sd-sphinx-override sd-dropdown sd-card sd-mb-3">
<summary class="sd-summary-title sd-card-header">
Video: Evaluate Trigger Activation <div class="sd-summary-down docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-down" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M5.22 8.72a.75.75 0 000 1.06l6.25 6.25a.75.75 0 001.06 0l6.25-6.25a.75.75 0 00-1.06-1.06L12 14.44 6.28 8.72a.75.75 0 00-1.06 0z"></path></svg></div>
<div class="sd-summary-up docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-up" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M18.78 15.28a.75.75 0 000-1.06l-6.25-6.25a.75.75 0 00-1.06 0l-6.25 6.25a.75.75 0 101.06 1.06L12 9.56l5.72 5.72a.75.75 0 001.06 0z"></path></svg></div>
</summary><div class="sd-summary-content sd-card-body docutils">
<p class="sd-card-text"><video width="100%" controls muted src="https://github.com/GIScience/gis-training-resource-center/raw/main/fig/SRCS_Trigger_step_13_trigger_activation.mp4"></video></p>
</div>
</details></section>
<section id="step-16-visualisation-of-results">
<h2>Step 16: Visualisation of results<a class="headerlink" href="#step-16-visualisation-of-results" title="Permalink to this heading">#</a></h2>
<figure class="align-center">
<a class="reference internal image-reference" href="../../_images/Drought_EAP_Worklow_Step_16_1_NEW.png"><img alt="../../_images/Drought_EAP_Worklow_Step_16_1_NEW.png" src="../../_images/Drought_EAP_Worklow_Step_16_1_NEW.png" style="width: 1000px;" /></a>
</figure>
<p><strong>Purpose:</strong> Definition of how features are represented visually on the map.</p>
<p><strong>Tool:</strong> <a class="reference external" href="https://giscience.github.io/gis-training-resource-center/content/Module_4/en_qgis_map_design_I.html#symbology-for-vector-data">Symbology</a></p>
<p><strong>Trigger Activation</strong></p>
<ol class="arabic simple">
<li><p>Right cklick on the âTrigger_activationâ layer -&gt; <code class="docutils literal notranslate"><span class="pre">Properties</span></code> -&gt; <code class="docutils literal notranslate"><span class="pre">Symbology</span></code></p></li>
<li><p>In the down left corner click on <code class="docutils literal notranslate"><span class="pre">Style</span></code> -&gt; <code class="docutils literal notranslate"><span class="pre">Load</span> <span class="pre">Style</span></code></p></li>
<li><p>In the new window click on the three points <img alt="" src="../../_images/Three_points.png" />. Navigate to the âFbF_Drought_Monitoring_Trigger/layer_stylesâ folder and select the file <strong>âStyle_Trigger_Activation.qmlâ</strong>.</p></li>
<li><p>Click <code class="docutils literal notranslate"><span class="pre">Open</span></code>. Then click on <code class="docutils literal notranslate"><span class="pre">Load</span> <span class="pre">Style</span></code></p></li>
<li><p>Back in the âLayer Propertiesâ Window click <code class="docutils literal notranslate"><span class="pre">Apply</span></code> and <code class="docutils literal notranslate"><span class="pre">OK</span></code></p></li>
</ol>
<details class="sd-sphinx-override sd-dropdown sd-card sd-mb-3">
<summary class="sd-summary-title sd-card-header">
Info: Trigger Activation Layer<div class="sd-summary-down docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-down" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M5.22 8.72a.75.75 0 000 1.06l6.25 6.25a.75.75 0 001.06 0l6.25-6.25a.75.75 0 00-1.06-1.06L12 14.44 6.28 8.72a.75.75 0 00-1.06 0z"></path></svg></div>
<div class="sd-summary-up docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-up" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M18.78 15.28a.75.75 0 000-1.06l-6.25-6.25a.75.75 0 00-1.06 0l-6.25 6.25a.75.75 0 101.06 1.06L12 9.56l5.72 5.72a.75.75 0 001.06 0z"></path></svg></div>
</summary><div class="sd-summary-content sd-card-body docutils">
<p class="sd-card-text">You will now see districts where no trigger is activated in green and districts with trigger activation in pink.</p>
<p class="sd-card-text">The âStyle_Trigger_Activation.qmlâ style layer is configured to show the district names only where the trigger is actually activated. If there is no trigger activation you can activate the admin 1 boundary layer for better map orientation (see <strong>Administrative 2 Boundaries</strong> below)</p>
<figure class="align-center">
<a class="reference internal image-reference" href="../../_images/Map_yes_trigger.PNG"><img alt="../../_images/Map_yes_trigger.PNG" src="../../_images/Map_yes_trigger.PNG" style="width: 1000px;" /></a>
</figure>
</div>
</details><p><strong>Risk Assessment</strong></p>
<ol class="arabic simple" start="7">
<li><p>Right click on the ârisk_assessment_districtsâ layer -&gt; <code class="docutils literal notranslate"><span class="pre">Properties</span></code> -&gt; <code class="docutils literal notranslate"><span class="pre">Symbology</span></code></p></li>
<li><p>In the down left corner click on <code class="docutils literal notranslate"><span class="pre">Style</span></code> -&gt; <code class="docutils literal notranslate"><span class="pre">Load</span> <span class="pre">Style</span></code></p></li>
<li><p>In the new window click on the three points <img alt="" src="../../_images/Three_points.png" />. Navigate to the âFbF_Drought_Monitoring_Trigger/layer_stylesâ folder and select the file <strong>âsomalia_risk_assessment_style.qmlâ</strong> style layer.</p></li>
<li><p>Move the ârisk_assessment_districtâ layer <strong>below</strong> âTrigger_Activationâ layer (<a class="reference external" href="https://giscience.github.io/gis-training-resource-center/content/Module_2/en_qgis_geodata_concept.html?highlight=layer#layer-concept">Layer Concept</a>).</p></li>
<li><p>Back in the âLayer Propertiesâ Window click <code class="docutils literal notranslate"><span class="pre">Apply</span></code> and <code class="docutils literal notranslate"><span class="pre">OK</span></code></p></li>
</ol>
<details class="sd-sphinx-override sd-dropdown sd-card sd-mb-3">
<summary class="sd-summary-title sd-card-header">
Info: Risk Assessment Layer<div class="sd-summary-down docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-down" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M5.22 8.72a.75.75 0 000 1.06l6.25 6.25a.75.75 0 001.06 0l6.25-6.25a.75.75 0 00-1.06-1.06L12 14.44 6.28 8.72a.75.75 0 00-1.06 0z"></path></svg></div>
<div class="sd-summary-up docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-up" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M18.78 15.28a.75.75 0 000-1.06l-6.25-6.25a.75.75 0 00-1.06 0l-6.25 6.25a.75.75 0 101.06 1.06L12 9.56l5.72 5.72a.75.75 0 001.06 0z"></path></svg></div>
</summary><div class="sd-summary-content sd-card-body docutils">
<p class="sd-card-text">For the creation of an <strong>Intervention Map</strong> we will have to add the risk assessment data and the respective style file.
For this first of all load from âFbF_Drought_Monitoring_Trigger/Fixed_data/Risk_Assessmentâ the file ârisk_assessment_districts.gpkgâ. This file is the output of the conducted risk assessment and contains a risk value for each district of Simaliland and Somalia.  In order to visualize it</p>
</div>
</details><p><strong>Administrative 2 Boundaries (Regions)</strong></p>
<ol class="arabic simple" start="12">
<li><p>Right click on the âSom_Admbnda_Adm1_UNDPâ (Regiond) layer -&gt; <code class="docutils literal notranslate"><span class="pre">Properties</span></code> -&gt; <code class="docutils literal notranslate"><span class="pre">Symbology</span></code></p></li>
<li><p>In the lower right corner click on <code class="docutils literal notranslate"><span class="pre">Style</span></code> -&gt; <code class="docutils literal notranslate"><span class="pre">Load</span> <span class="pre">Style</span></code></p></li>
<li><p>In the new window, click on the three points <img alt="" src="../../_images/Three_points.png" />. Navigate to the âFbF_Drought_Monitoring_Trigger/layer_stylesâ folder and select the file <strong>âsomalia_risk_assessment_style.qmlâ</strong>.</p></li>
<li><p>Click <code class="docutils literal notranslate"><span class="pre">Open</span></code>. Then click on <code class="docutils literal notranslate"><span class="pre">Load</span> <span class="pre">Style</span></code></p></li>
<li><p>Back in the âLayer Propertiesâ Window click <code class="docutils literal notranslate"><span class="pre">Apply</span></code> and <code class="docutils literal notranslate"><span class="pre">OK</span></code></p></li>
<li><p>Add a the OpenStreetMap basemap by clicking on <code class="docutils literal notranslate"><span class="pre">Layer</span></code> -&gt; <code class="docutils literal notranslate"><span class="pre">Add</span> <span class="pre">Layer</span></code> -&gt; <code class="docutils literal notranslate"><span class="pre">Add</span> <span class="pre">XYZ</span> <span class="pre">layer...</span></code> -&gt; Select the OpenStreetMap. Click <code class="docutils literal notranslate"><span class="pre">Add</span></code>. (<a class="reference external" href="https://giscience.github.io/gis-training-resource-center/content/Wiki/en_qgis_basemaps_wiki.html?highlight=osm#basemaps">Wiki basemap</a>)</p></li>
<li><p>Place the OpenStreetMap basemap on the bottom.</p></li>
<li><p>Delet all layers exept:</p>
<ul class="simple">
<li><p>Trigger_activation</p></li>
<li><p>risk_assessment_districts</p></li>
<li><p>Som_Admbnda_Adm1_UNDP</p></li>
<li><p>OpenStreetMap</p></li>
</ul>
</li>
</ol>
<details class="sd-sphinx-override sd-dropdown sd-card sd-mb-3">
<summary class="sd-summary-title sd-card-header">
Video: Visualisation of results<div class="sd-summary-down docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-down" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M5.22 8.72a.75.75 0 000 1.06l6.25 6.25a.75.75 0 001.06 0l6.25-6.25a.75.75 0 00-1.06-1.06L12 14.44 6.28 8.72a.75.75 0 00-1.06 0z"></path></svg></div>
<div class="sd-summary-up docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-up" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M18.78 15.28a.75.75 0 000-1.06l-6.25-6.25a.75.75 0 00-1.06 0l-6.25 6.25a.75.75 0 101.06 1.06L12 9.56l5.72 5.72a.75.75 0 001.06 0z"></path></svg></div>
</summary><div class="sd-summary-content sd-card-body docutils">
<p class="sd-card-text"><video width="100%" controls muted src="https://github.com/GIScience/gis-training-resource-center/raw/main/fig/Trigger_model_style.mp4"></video></p>
</div>
</details><table class="table">
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Intervention Map <strong>without</strong> Trigger activation</p></th>
<th class="head"><p>Intervention Map <strong>with</strong> Trigger activation</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><figure class="align-center">
<a class="reference internal image-reference" href="../../_images/Map_no_trigger.PNG"><img alt="../../_images/Map_no_trigger.PNG" src="../../_images/Map_no_trigger.PNG" style="width: 1000px;" /></a>
</figure>
</td>
<td><figure class="align-center">
<a class="reference internal image-reference" href="../../_images/Map_yes_trigger.PNG"><img alt="../../_images/Map_yes_trigger.PNG" src="../../_images/Map_yes_trigger.PNG" style="width: 450px;" /></a>
</figure>
</td>
</tr>
</tbody>
</table>
<div class="admonition attention">
<p class="admonition-title">Attention</p>
<p>Remember the <a class="reference external" href="https://giscience.github.io/gis-training-resource-center/content/Module_2/en_qgis_geodata_concept.html?highlight=layer#layer-concept">layer concept</a> and make sure the basemap layer is at the bottom of your layers panel.</p>
</div>
</section>
<section id="step-17-making-the-print-map">
<h2>Step 17: Making the print map<a class="headerlink" href="#step-17-making-the-print-map" title="Permalink to this heading">#</a></h2>
<figure class="align-center">
<a class="reference internal image-reference" href="../../_images/Drought_EAP_Worklow_Step_17_1_NEW.png"><img alt="../../_images/Drought_EAP_Worklow_Step_17_1_NEW.png" src="../../_images/Drought_EAP_Worklow_Step_17_1_NEW.png" style="width: 1000px;" /></a>
</figure>
<p><strong>Purpose:</strong> Viualization of the map features in a printable map layout</p>
<p><strong>Tool:</strong>  <a class="reference external" href="https://giscience.github.io/gis-training-resource-center/content/Module_4/en_qgis_map_design_2.html?highlight=print+layout#print-layout">Print Layout</a></p>
<ol class="arabic simple">
<li><p>If not done before, delet all layers expect <strong>Trigger_activation</strong>, <strong>risk_assessment_districts</strong> and <strong>OpenStreetMap</strong></p></li>
<li><p>Open a new print layout by clicking on <code class="docutils literal notranslate"><span class="pre">Project</span></code> -&gt; <code class="docutils literal notranslate"><span class="pre">New</span> <span class="pre">Print</span> <span class="pre">Layout</span></code> -&gt; enter the name of your current Project e.g â2022_04â.</p></li>
<li><p>Go the the <strong>FbF_Drought_Monitoring_Trigger</strong><code class="docutils literal notranslate"><span class="pre">folder</span> <span class="pre">and</span> <span class="pre">drag</span> <span class="pre">and</span> <span class="pre">drop</span> <span class="pre">the</span> <span class="pre">file</span></code>Trigger_activation_Intervention_map.qpt` in the print layout</p></li>
<li><p>Change the date to the current date by clicking on âFurther map infoâ¦â in the items panel. Click on the <code class="docutils literal notranslate"><span class="pre">Item</span> <span class="pre">Properties</span></code> tab and scroll down. Here you can change the date in the <code class="docutils literal notranslate"><span class="pre">Main</span> <span class="pre">Properties</span></code> field.</p></li>
<li><p>Adjust the Lgend by clicking on the legend in the  <code class="docutils literal notranslate"><span class="pre">Item</span> <span class="pre">Properties</span></code> tab and scroll down until you see the <code class="docutils literal notranslate"><span class="pre">Legend</span> <span class="pre">items</span></code> field. If it is not there check if you have to open the dropdown. Make sure <code class="docutils literal notranslate"><span class="pre">Auto</span> <span class="pre">update</span></code> is not checked.</p>
<ul class="simple">
<li><p>Remove all itemes in the legend be clicking on the item and then on the red minus icon below.</p></li>
<li><p>Add <strong>Trigger_activation</strong> and <strong>risk_assessment_districts</strong> to the legend by clicking on the green plus and click on the layer and click <code class="docutils literal notranslate"><span class="pre">ok</span></code></p></li>
</ul>
</li>
</ol>
<details class="sd-sphinx-override sd-dropdown sd-card sd-mb-3">
<summary class="sd-summary-title sd-card-header">
Video: Making print map<div class="sd-summary-down docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-down" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M5.22 8.72a.75.75 0 000 1.06l6.25 6.25a.75.75 0 001.06 0l6.25-6.25a.75.75 0 00-1.06-1.06L12 14.44 6.28 8.72a.75.75 0 00-1.06 0z"></path></svg></div>
<div class="sd-summary-up docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-up" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M18.78 15.28a.75.75 0 000-1.06l-6.25-6.25a.75.75 0 00-1.06 0l-6.25 6.25a.75.75 0 101.06 1.06L12 9.56l5.72 5.72a.75.75 0 001.06 0z"></path></svg></div>
</summary><div class="sd-summary-content sd-card-body docutils">
<p class="sd-card-text"><video width="100%" controls muted src="https://github.com/GIScience/gis-training-resource-center/raw/main/fig/SRCS_Trigger_print_map.mp4"></video></p>
</div>
</details><div class="admonition attention">
<p class="admonition-title">Attention</p>
<p>Make sure you edit the Map Information on the template, e.g. current date. Also make sure to check the legend items: Remove unnecessary items and eventually change the names to meaning descriptions.</p>
</div>
<p>In order to easily visualize the output of the trigger analysis we provide you with a
<a class="reference external" href="https://giscience.github.io/gis-training-resource-center/content/Module_4/en_qgis_map_design_2.html#map-templates">map template</a> that can be used as a base for your visualization. You can find the template in the following directory: ââ¦/FbF_Drought_Monitoring_Trigger/maps_somalia_template_risk_assessment.qptâ.</p>
<p>You can also adapt the template to your needs and preferences. You can find help <a class="reference external" href="https://giscience.github.io/gis-training-resource-center/content/Module_4/en_qgis_map_design_2.html#print-layout">here</a>.</p>
<div class="admonition attention">
<p class="admonition-title">Attention</p>
<p>Make sure you edit the Map Information on the template, e.g. current date. Also make sure to check the legend items: Remove unnecessary items and eventually change the names to meaning descriptions.</p>
</div>
</section>
<section id="step-18-exporting-the-map">
<h2>Step 18: Exporting the Map<a class="headerlink" href="#step-18-exporting-the-map" title="Permalink to this heading">#</a></h2>
<figure class="align-center">
<a class="reference internal image-reference" href="../../_images/Drought_EAP_Worklow_Step_18_1_NEW.png"><img alt="../../_images/Drought_EAP_Worklow_Step_18_1_NEW.png" src="../../_images/Drought_EAP_Worklow_Step_18_1_NEW.png" style="width: 1000px;" /></a>
</figure>
<p><strong>Purpose:</strong> Export the designed and finalized map layout in order tp print it as a pdf or format of your choice.</p>
<p><strong>Tool:</strong> <a class="reference external" href="https://giscience.github.io/gis-training-resource-center/content/Module_4/en_qgis_map_design_2.html?highlight=print+layout#print-layout">Print Layout</a></p>
<p>When you have finished the design of you map you can export it as pdf or image file in different datafromats.</p>
<p><strong>Export as Image</strong></p>
<ol class="arabic simple">
<li><p>In the print layout click on <code class="docutils literal notranslate"><span class="pre">Layer</span></code> -&gt; <code class="docutils literal notranslate"><span class="pre">Export</span> <span class="pre">as</span> <span class="pre">Image</span></code></p></li>
<li><p>Chose the <strong>Result</strong> folder in the folder you have created in step 1. Give the file the name of the project e.g 2022_04</p></li>
<li><p>Click on <code class="docutils literal notranslate"><span class="pre">Save</span></code></p></li>
<li><p>The window âImage Export Optionsâ will appear.</p></li>
<li><p>Click <code class="docutils literal notranslate"><span class="pre">Save</span></code>.</p></li>
</ol>
<p>Now the image can be found in the result folder in the folder you created in Step 1</p>
<p><strong>Export as PDF</strong></p>
<ol class="arabic simple">
<li><p>In the print layout click on <code class="docutils literal notranslate"><span class="pre">Layer</span></code> -&gt; <code class="docutils literal notranslate"><span class="pre">Export</span> <span class="pre">as</span> <span class="pre">PDF</span></code></p></li>
<li><p>Chose the <strong>Result</strong> folder in the folder you have created in step 1. Give the file the name of the project e.g 2022_04</p></li>
<li><p>Click on <code class="docutils literal notranslate"><span class="pre">Save</span></code></p></li>
<li><p>The window âPDF Export Optionsâ will appear.  For the best results, select the <code class="docutils literal notranslate"><span class="pre">lossless</span></code> image compression.</p></li>
<li><p>Click <code class="docutils literal notranslate"><span class="pre">Save</span></code>.</p></li>
</ol>
<p>Now the image can be found in the result folder in the folder you created in Step 1.</p>
<figure class="align-center">
<a class="reference internal image-reference" href="../../_images/map_output_example2.png"><img alt="../../_images/map_output_example2.png" src="../../_images/map_output_example2.png" style="width: 1000px;" /></a>
</figure>
<details class="sd-sphinx-override sd-dropdown sd-card sd-mb-3">
<summary class="sd-summary-title sd-card-header">
Workflow for the old model (with shapefiles)<div class="sd-summary-down docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-down" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M5.22 8.72a.75.75 0 000 1.06l6.25 6.25a.75.75 0 001.06 0l6.25-6.25a.75.75 0 00-1.06-1.06L12 14.44 6.28 8.72a.75.75 0 00-1.06 0z"></path></svg></div>
<div class="sd-summary-up docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-up" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M18.78 15.28a.75.75 0 000-1.06l-6.25-6.25a.75.75 0 00-1.06 0l-6.25 6.25a.75.75 0 101.06 1.06L12 9.56l5.72 5.72a.75.75 0 001.06 0z"></path></svg></div>
</summary><div class="sd-summary-content sd-card-body docutils">
<p class="sd-card-text"><strong>Step 1 to Step 3 are the same as with the new model.</strong></p>
<p class="rubric">Step 4: Intersection of ML 1 &amp; ML 2 data with the district polygons</p>
<figure class="align-center">
<a class="reference internal image-reference" href="../../_images/Drought_EAP_Worklow_Step_4_1.png"><img alt="../../_images/Drought_EAP_Worklow_Step_4_1.png" src="../../_images/Drought_EAP_Worklow_Step_4_1.png" style="width: 1000px;" /></a>
</figure>
<p class="sd-card-text"><strong>Purpose:</strong> The goal is to receive polygon layers which share both the borders and the attributes of both input layers.</p>
<div class="admonition attention">
<p class="admonition-title">Attention</p>
<p class="sd-card-text">You need to perform this step two times. One time for ML 1 and a second time for ML 2.</p>
</div>
<p class="sd-card-text"><strong>Tool:</strong> <a class="reference external" href="https://giscience.github.io/gis-training-resource-center/content/Wiki/en_qgis_geoprocessing_wiki.html#intersection"><code class="docutils literal notranslate"><span class="pre">Intersection</span></code></a></p>
<table class="table">
<colgroup>
<col style="width: 44%" />
<col style="width: 56%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p class="sd-card-text">Instruction</p></th>
<th class="head"><p class="sd-card-text">Intersection</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><ol class="arabic simple">
<li><p class="sd-card-text">Click on <code class="docutils literal notranslate"><span class="pre">Vector</span></code> -&gt; <code class="docutils literal notranslate"><span class="pre">Geoprocessing</span> <span class="pre">Tools</span></code> -&gt; <a class="reference external" href="https://giscience.github.io/gis-training-resource-center/content/Wiki/en_qgis_geoprocessing_wiki.html#intersection"><code class="docutils literal notranslate"><span class="pre">Intersection</span></code></a>
2.<code class="docutils literal notranslate"><span class="pre">Input</span> <span class="pre">Layer</span></code>: ML 1 or ML 2</p></li>
<li><p class="sd-card-text"><code class="docutils literal notranslate"><span class="pre">Overlay</span> <span class="pre">layer</span></code>: district_pop_sum</p></li>
<li><p class="sd-card-text">Under <code class="docutils literal notranslate"><span class="pre">Intersection</span></code> click on the three points <img alt="" src="../../_images/Three_points.png" />-&gt; <code class="docutils literal notranslate"><span class="pre">Save</span> <span class="pre">to</span> <span class="pre">File</span></code> and navigate to you monitoring folder [Year_Month]. Give the output the name âML1_Intersectionâ or âML2_Intersectionâ and click <code class="docutils literal notranslate"><span class="pre">Save</span></code></p></li>
<li><p class="sd-card-text">Click <code class="docutils literal notranslate"><span class="pre">Run</span></code></p></li>
</ol>
</td>
<td><figure class="align-center">
<a class="reference internal image-reference" href="../../_images/SRCS_Trigger_step_4_Intersection.png"><img alt="../../_images/SRCS_Trigger_step_4_Intersection.png" src="../../_images/SRCS_Trigger_step_4_Intersection.png" style="width: 450px;" /></a>
</figure>
</td>
</tr>
</tbody>
</table>
<p class="sd-card-text"><strong>Result:</strong> After doing this for ML1 and ML2 you should have two polygon layers, each containing all columns of ML1 (or ML2) and district_pop_sum.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p class="sd-card-text">The resulting layer can have more rows than the original layers.</p>
</div>
<p class="sd-card-text">The video shows the whole process on the example of ML 1.</p>
<details class="sd-sphinx-override sd-dropdown sd-card sd-mb-3">
<summary class="sd-summary-title sd-card-header">
Video: Intersection of ML 1 &amp; ML 2 data with the district polygons <div class="sd-summary-down docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-down" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M5.22 8.72a.75.75 0 000 1.06l6.25 6.25a.75.75 0 001.06 0l6.25-6.25a.75.75 0 00-1.06-1.06L12 14.44 6.28 8.72a.75.75 0 00-1.06 0z"></path></svg></div>
<div class="sd-summary-up docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-up" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M18.78 15.28a.75.75 0 000-1.06l-6.25-6.25a.75.75 0 00-1.06 0l-6.25 6.25a.75.75 0 101.06 1.06L12 9.56l5.72 5.72a.75.75 0 001.06 0z"></path></svg></div>
</summary><div class="sd-summary-content sd-card-body docutils">
<p class="sd-card-text"><video width="100%" controls muted src="https://github.com/GIScience/gis-training-resource-center/raw/main/fig/SRCS_Trigger_step_4_Intersection.mp4"></video></p>
</div>
</details><p class="rubric">Step 5: Calculation of Population per Intersection Polygon</p>
<figure class="align-center">
<a class="reference internal image-reference" href="../../_images/Drought_EAP_Worklow_Step_5_1.png"><img alt="../../_images/Drought_EAP_Worklow_Step_5_1.png" src="../../_images/Drought_EAP_Worklow_Step_5_1.png" style="width: 1000px;" /></a>
</figure>
<p class="sd-card-text"><strong>Purpose:</strong> Here we calculate the population in each polygon of the intersection layer from step 4.</p>
<div class="admonition attention">
<p class="admonition-title">Attention</p>
<p class="sd-card-text">You need to perform this step two times: One time for ML 1 and a second time for ML 2.</p>
</div>
<p class="sd-card-text"><strong>Tool:</strong>  <a class="reference external" href="https://giscience.github.io/gis-training-resource-center/content/Wiki/en_qgis_raster_basic_wiki.html#zonal-statistics"><code class="docutils literal notranslate"><span class="pre">Zonal</span> <span class="pre">Statistics</span></code></a></p>
<table class="table">
<colgroup>
<col style="width: 44%" />
<col style="width: 56%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p class="sd-card-text">Instruction</p></th>
<th class="head"><p class="sd-card-text">Zonal Statistics</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><ol class="arabic simple">
<li><p class="sd-card-text">In the <code class="docutils literal notranslate"><span class="pre">Toolbox</span></code> -&gt; Search for <a class="reference external" href="https://giscience.github.io/gis-training-resource-center/content/Wiki/en_qgis_raster_basic_wiki.html#zonal-statistics"><code class="docutils literal notranslate"><span class="pre">Zonal</span> <span class="pre">Statistics</span></code></a></p></li>
</ol>
<ul class="simple">
<li><p class="sd-card-text">Tip: If the <code class="docutils literal notranslate"><span class="pre">Toolbox</span></code> is not opne click <code class="docutils literal notranslate"><span class="pre">Processing</span></code>-&gt; <code class="docutils literal notranslate"><span class="pre">Toolbox</span></code></p></li>
</ul>
<ol class="arabic simple" start="2">
<li><p class="sd-card-text"><code class="docutils literal notranslate"><span class="pre">Input</span> <span class="pre">Layer</span></code>: âML1_Intersectionâ or âML2_Intersectionâ</p></li>
<li><p class="sd-card-text"><code class="docutils literal notranslate"><span class="pre">Raster</span> <span class="pre">Layer</span></code>: âsom_ppp_2020_UNadj_constrained.tifâ</p></li>
<li><p class="sd-card-text">Statistics to calculate: Only <code class="docutils literal notranslate"><span class="pre">Sum</span></code></p></li>
<li><p class="sd-card-text">Under <code class="docutils literal notranslate"><span class="pre">Zonal</span> <span class="pre">Statistics</span></code> click on the three points <img alt="" src="../../_images/Three_points.png" />-&gt; <code class="docutils literal notranslate"><span class="pre">Save</span> <span class="pre">to</span> <span class="pre">File</span></code> and navigate to you monitoring folder [Year_Month]. Give the output the name âML1_zonal_statisticâ or âML2_zonal_statisticâ and click <code class="docutils literal notranslate"><span class="pre">Save</span></code></p></li>
<li><p class="sd-card-text">Click `Run</p></li>
</ol>
</td>
<td><figure class="align-center">
<a class="reference internal image-reference" href="../../_images/SRCS_Trigger_step_5_zonal_statistic.png"><img alt="../../_images/SRCS_Trigger_step_5_zonal_statistic.png" src="../../_images/SRCS_Trigger_step_5_zonal_statistic.png" style="width: 450px;" /></a>
</figure>
</td>
</tr>
</tbody>
</table>
<p class="sd-card-text"><strong>Result:</strong> The result should be the âML1_zonal_statisticâ and âML2_zonal_statisticâ polygon layers. These layers should have the same columns in the attribute table <strong>plus</strong> the column â_sumâ, which is the number of people living in the single parts of the polygons.</p>
<details class="sd-sphinx-override sd-dropdown sd-card sd-mb-3">
<summary class="sd-summary-title sd-card-header">
Video:  Calculation of Population per Intersection Polygon<div class="sd-summary-down docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-down" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M5.22 8.72a.75.75 0 000 1.06l6.25 6.25a.75.75 0 001.06 0l6.25-6.25a.75.75 0 00-1.06-1.06L12 14.44 6.28 8.72a.75.75 0 00-1.06 0z"></path></svg></div>
<div class="sd-summary-up docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-up" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M18.78 15.28a.75.75 0 000-1.06l-6.25-6.25a.75.75 0 00-1.06 0l-6.25 6.25a.75.75 0 101.06 1.06L12 9.56l5.72 5.72a.75.75 0 001.06 0z"></path></svg></div>
</summary><div class="sd-summary-content sd-card-body docutils">
<p class="sd-card-text"><video width="100%" controls muted src="https://github.com/GIScience/gis-training-resource-center/raw/main/fig/SRCS_Trigger_step_5_zonal_statistic.mp4"></video></p>
</div>
</details><p class="rubric">Step 6: Weighting of the Population based on IPC-Phase</p>
<figure class="align-center">
<a class="reference internal image-reference" href="../../_images/Drought_EAP_Worklow_Step_6_1.png"><img alt="../../_images/Drought_EAP_Worklow_Step_6_1.png" src="../../_images/Drought_EAP_Worklow_Step_6_1.png" style="width: 1000px;" /></a>
</figure>
<p class="sd-card-text"><strong>Purpose:</strong> The purpose of this step is the weighting of the population in the five IPC phases as described in <a class="reference external" href="https://giscience.github.io/gis-training-resource-center/content/GIS_AA/en_qgis_drought_trigger_somalia.html#ipc-population-weighted-index">IPC Data</a>.</p>
<div class="admonition attention">
<p class="admonition-title">Attention</p>
<p class="sd-card-text">You need to perform this step two times. One time for ML 1 and a second time for ML 2.</p>
</div>
<p class="sd-card-text"><strong>Tool:</strong>  <a class="reference external" href="https://giscience.github.io/gis-training-resource-center/content/Wiki/en_qgis_table_functions_wiki.html#calculate-field"><code class="docutils literal notranslate"><span class="pre">Field</span> <span class="pre">Calculator</span></code></a></p>
<ol class="arabic simple">
<li><p class="sd-card-text">Right-click on the layer âML1_zonal_statisticâ (or âML2_zonal_statisticâ) -&gt; <code class="docutils literal notranslate"><span class="pre">Open</span> <span class="pre">Attribute</span> <span class="pre">Table</span></code>-&gt; click on <a class="reference external" href="https://giscience.github.io/gis-training-resource-center/content/Wiki/en_qgis_table_functions_wiki.html#calculate-field"><code class="docutils literal notranslate"><span class="pre">Field</span> <span class="pre">Calculator</span></code></a> <img alt="" src="../../_images/mActionCalculateField.png" /> to open the field calculator</p></li>
<li><p class="sd-card-text">Check âCreate new fieldâ</p></li>
<li><p class="sd-card-text"><code class="docutils literal notranslate"><span class="pre">Output</span> <span class="pre">field</span> <span class="pre">name</span></code>: Name the new column âpop_sum_weightedâ</p></li>
<li><p class="sd-card-text"><code class="docutils literal notranslate"><span class="pre">Result</span> <span class="pre">field</span> <span class="pre">type</span></code>: Decimal number (real)</p></li>
<li><p class="sd-card-text">Add the code block from Input into the <code class="docutils literal notranslate"><span class="pre">Expression</span></code> field and click <code class="docutils literal notranslate"><span class="pre">ok</span></code></p></li>
</ol>
<table class="table">
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p class="sd-card-text">ML 1</p></th>
<th class="head"><p class="sd-card-text">ML 2</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><div class="highlight-md notranslate"><div class="highlight"><pre><span></span>CASE

WHEN &quot;ML1&quot; = 3 THEN &quot;_sum&quot; * 1
WHEN &quot;ML1&quot; = 4 THEN &quot;_sum&quot; * 3
WHEN &quot;ML1&quot; = 5 THEN &quot;_sum&quot; * 6
ELSE &quot;_sum&quot;

END
</pre></div>
</div>
</td>
<td><div class="highlight-md notranslate"><div class="highlight"><pre><span></span>CASE

WHEN &quot;ML2&quot; = 3 THEN &quot;_sum&quot; * 1
WHEN &quot;ML2&quot; = 4 THEN &quot;_sum&quot; * 3
WHEN &quot;ML2&quot; = 5 THEN &quot;_sum&quot; * 6
ELSE &quot;_sum&quot;

END
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
<ol class="arabic simple" start="6">
<li><p class="sd-card-text">Save the new column by clicking on <img alt="" src="../../_images/mActionSaveEdits.png" /> in the attribute table and end the editing mode by clicking on <img alt="" src="../../_images/mActionToggleEditing.png" /></p></li>
</ol>
<p class="sd-card-text">Here is the <code class="docutils literal notranslate"><span class="pre">Field</span> <span class="pre">Calculator</span></code> window of how it should look to calculate pop_sum_weighted for ML1.</p>
<figure class="align-center">
<a class="reference internal image-reference" href="../../_images/SRCS_Trigger_step_6_field_calculator.png"><img alt="../../_images/SRCS_Trigger_step_6_field_calculator.png" src="../../_images/SRCS_Trigger_step_6_field_calculator.png" style="width: 500px;" /></a>
</figure>
<p class="sd-card-text"><strong>Result:</strong> The two layers âML1_zonal_statisticâ and âML2_zonal_statisticâ should now both have the column âpop_sum_weightedâ.</p>
<p class="sd-card-text">The video shows the whole process with the the example of ML 1.</p>
<details class="sd-sphinx-override sd-dropdown sd-card sd-mb-3">
<summary class="sd-summary-title sd-card-header">
Video: Weighting of the Population based on IPC-Phase<div class="sd-summary-down docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-down" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M5.22 8.72a.75.75 0 000 1.06l6.25 6.25a.75.75 0 001.06 0l6.25-6.25a.75.75 0 00-1.06-1.06L12 14.44 6.28 8.72a.75.75 0 00-1.06 0z"></path></svg></div>
<div class="sd-summary-up docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-up" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M18.78 15.28a.75.75 0 000-1.06l-6.25-6.25a.75.75 0 00-1.06 0l-6.25 6.25a.75.75 0 101.06 1.06L12 9.56l5.72 5.72a.75.75 0 001.06 0z"></path></svg></div>
</summary><div class="sd-summary-content sd-card-body docutils">
<p class="sd-card-text"><video width="100%" controls muted src="https://github.com/GIScience/gis-training-resource-center/raw/main/fig/SRCS_Trigger_step_6_field_calculators.mp4"></video></p>
</div>
</details><p class="rubric">Step 7: Adding the total district population to Intersection Polygons</p>
<figure class="align-center">
<a class="reference internal image-reference" href="../../_images/Drought_EAP_Worklow_Step_7_1.png"><img alt="../../_images/Drought_EAP_Worklow_Step_7_1.png" src="../../_images/Drought_EAP_Worklow_Step_7_1.png" style="width: 1000px;" /></a>
</figure>
<p class="sd-card-text"><strong>Purpose:</strong> Now we want to add a column with the total district population to âML1_zonal_statisticâ and âML2_zonal_statisticâ.</p>
<div class="admonition attention">
<p class="admonition-title">Attention</p>
<p class="sd-card-text">You need to perform this step two times. One time for ML 1 and a second time for ML 2.</p>
</div>
<p class="sd-card-text"><strong>Tool:</strong> <a class="reference external" href="https://giscience.github.io/gis-training-resource-center/content/Wiki/en_qgis_non_spatial_joins_wiki.html#join-attributes-by-field-value"><code class="docutils literal notranslate"><span class="pre">Join</span> <span class="pre">attributes</span> <span class="pre">by</span> <span class="pre">field</span> <span class="pre">value</span></code></a></p>
<table class="table">
<colgroup>
<col style="width: 44%" />
<col style="width: 56%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p class="sd-card-text">Instruction</p></th>
<th class="head"><p class="sd-card-text">Join attributes by field value</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><ol class="arabic simple">
<li><p class="sd-card-text">In the <code class="docutils literal notranslate"><span class="pre">Toolbox</span></code>-&gt; Search for <a class="reference external" href="https://giscience.github.io/gis-training-resource-center/content/Wiki/en_qgis_non_spatial_joins_wiki.html#join-attributes-by-field-value"><code class="docutils literal notranslate"><span class="pre">Join</span> <span class="pre">attributes</span> <span class="pre">by</span>&#160;&#160; <span class="pre">field</span> <span class="pre">value</span></code></a></p></li>
</ol>
<ul class="simple">
<li><p class="sd-card-text">Tip: If the <code class="docutils literal notranslate"><span class="pre">Toolbox</span></code> is not opne click <code class="docutils literal notranslate"><span class="pre">Processing</span></code>-&gt; <code class="docutils literal notranslate"><span class="pre">Toolbox</span></code></p></li>
</ul>
<ol class="arabic simple" start="2">
<li><p class="sd-card-text"><code class="docutils literal notranslate"><span class="pre">Input</span> <span class="pre">Layer</span></code>: Select âML1_zonal_statisticâ (or âML2_zonal_statisticâ)</p></li>
<li><p class="sd-card-text"><code class="docutils literal notranslate"><span class="pre">Table</span> <span class="pre">field</span></code>: Select âadmin2Nameâ</p></li>
<li><p class="sd-card-text"><code class="docutils literal notranslate"><span class="pre">Input</span> <span class="pre">Layer</span> <span class="pre">2</span></code>: Select the layer âdistrict_pop_somâ</p></li>
<li><p class="sd-card-text"><code class="docutils literal notranslate"><span class="pre">Table</span> <span class="pre">field</span> <span class="pre">2</span></code>: Select âadmin2Nameâ</p></li>
<li><p class="sd-card-text"><code class="docutils literal notranslate"><span class="pre">Layer</span> <span class="pre">2</span> <span class="pre">field</span> <span class="pre">to</span> <span class="pre">copy</span></code>: Click on the three points <img alt="" src="../../_images/Three_points.png" /> and select âadmin2Nameâ and âdistrictpoâ</p></li>
<li><p class="sd-card-text"><code class="docutils literal notranslate"><span class="pre">Join</span> <span class="pre">type</span></code>: Select the option âTake attributes of the first matching feature only (one-to-one)</p></li>
<li><p class="sd-card-text">Under <code class="docutils literal notranslate"><span class="pre">Join</span> <span class="pre">Layer</span> <span class="pre">[optional]</span></code> click on the three points <img alt="" src="../../_images/Three_points.png" />-&gt; <code class="docutils literal notranslate"><span class="pre">Save</span> <span class="pre">to</span> <span class="pre">File</span></code> and navigate to you monitoring folder [Year_Month]. Give the output the name âML1_joinâ or âML2_joinâ and click <code class="docutils literal notranslate"><span class="pre">Save</span></code></p></li>
<li><p class="sd-card-text">Click <code class="docutils literal notranslate"><span class="pre">Run</span></code></p></li>
</ol>
</td>
<td><figure class="align-center">
<a class="reference internal image-reference" href="../../_images/SRCS_Trigger_step_7_join.png"><img alt="../../_images/SRCS_Trigger_step_7_join.png" src="../../_images/SRCS_Trigger_step_7_join.png" style="width: 450px;" /></a>
</figure>
</td>
</tr>
</tbody>
</table>
<p class="sd-card-text"><strong>Result:</strong> Now you should have to new polygon layer named âML1_joinâ and ML2_Joinâ containing the column districtpo.</p>
<details class="sd-sphinx-override sd-dropdown sd-card sd-mb-3">
<summary class="sd-summary-title sd-card-header">
Video: Adding the total district population to Intersection Polygons<div class="sd-summary-down docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-down" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M5.22 8.72a.75.75 0 000 1.06l6.25 6.25a.75.75 0 001.06 0l6.25-6.25a.75.75 0 00-1.06-1.06L12 14.44 6.28 8.72a.75.75 0 00-1.06 0z"></path></svg></div>
<div class="sd-summary-up docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-up" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M18.78 15.28a.75.75 0 000-1.06l-6.25-6.25a.75.75 0 00-1.06 0l-6.25 6.25a.75.75 0 101.06 1.06L12 9.56l5.72 5.72a.75.75 0 001.06 0z"></path></svg></div>
</summary><div class="sd-summary-content sd-card-body docutils">
<p class="sd-card-text"><video width="100%" controls muted src="https://github.com/GIScience/gis-training-resource-center/raw/main/fig/SRCS_Trigger_step_7_join.mp4"></video></p>
</div>
</details><p class="rubric">Step 8: Calculation of the Population Proportion per Intersection Polygon</p>
<figure class="align-center">
<a class="reference internal image-reference" href="../../_images/Drought_EAP_Worklow_Step_8_1.png"><img alt="../../_images/Drought_EAP_Worklow_Step_8_1.png" src="../../_images/Drought_EAP_Worklow_Step_8_1.png" style="width: 1000px;" /></a>
</figure>
<p class="sd-card-text"><strong>Purpose:</strong> In this step we calculating the <a class="reference external" href="https://giscience.github.io/gis-training-resource-center/content/GIS_AA/en_qgis_drought_trigger_somalia.html#ipc-population-weighted-index">IPC-Population Weighted Index</a> for every small part of the polygon layer.</p>
<div class="admonition attention">
<p class="admonition-title">Attention</p>
<p class="sd-card-text">You need to perform this step two times. One time for ML 1 and a second time for ML 2.</p>
</div>
<p class="sd-card-text"><strong>Tool:</strong><a class="reference external" href="https://giscience.github.io/gis-training-resource-center/content/Wiki/en_qgis_table_functions_wiki.html#calculate-field"><code class="docutils literal notranslate"><span class="pre">Field</span> <span class="pre">Calculator</span></code></a></p>
<ol class="arabic simple">
<li><p class="sd-card-text">Right-click on Intersection_population Polygons layer -&gt; âAttribute Tableâ-&gt; click on  <a class="reference external" href="https://giscience.github.io/gis-training-resource-center/content/Wiki/en_qgis_table_functions_wiki.html#calculate-field"><code class="docutils literal notranslate"><span class="pre">Field</span> <span class="pre">Calculator</span></code></a> <img alt="" src="../../_images/mActionCalculateField.png" />to open the field calculator</p></li>
<li><p class="sd-card-text">Check <code class="docutils literal notranslate"><span class="pre">Create</span> <span class="pre">new</span> <span class="pre">field</span></code></p></li>
<li><p class="sd-card-text"><code class="docutils literal notranslate"><span class="pre">Output</span> <span class="pre">field</span> <span class="pre">name</span></code>: Name the new column âIndex_per_IPCPolygon_ML1â (or âIndex_per_IPCPolygon_ML2â)</p></li>
<li><p class="sd-card-text"><code class="docutils literal notranslate"><span class="pre">Result</span> <span class="pre">field</span> <span class="pre">type</span></code>: Decimal number (real)</p></li>
<li><p class="sd-card-text">Add the code into the <code class="docutils literal notranslate"><span class="pre">Expression</span></code> field</p></li>
</ol>
<div class="highlight-md notranslate"><div class="highlight"><pre><span></span>&quot;pop_sum_weighted&quot;/&quot;districtpo&quot;
</pre></div>
</div>
<ol class="arabic simple" start="6">
<li><p class="sd-card-text">Click <code class="docutils literal notranslate"><span class="pre">ok</span></code></p></li>
<li><p class="sd-card-text">Save the new column by clicking on <img alt="" src="../../_images/mActionSaveEdits.png" /> in the attribute table and end the editing mode by clicking on <img alt="" src="../../_images/mActionToggleEditing.png" /></p></li>
</ol>
<figure class="align-center">
<a class="reference internal image-reference" href="../../_images/SRCS_Trigger_step_8_field_calculator.png"><img alt="../../_images/SRCS_Trigger_step_8_field_calculator.png" src="../../_images/SRCS_Trigger_step_8_field_calculator.png" style="width: 500px;" /></a>
</figure>
<p class="sd-card-text"><strong>Result:</strong> Both layer âML1_joinâ and ML2_Joinâ should now have the column âIndex_per_IPCPolygon_ML1â or âIndex_per_IPCPolygon_ML2â. The numbers in this column have to be smaller than in the âdistrictâ column.</p>
<p class="sd-card-text">The video shows the whole process with the the example of ML 1.</p>
<details class="sd-sphinx-override sd-dropdown sd-card sd-mb-3">
<summary class="sd-summary-title sd-card-header">
Video: Calculation of Population Proportion per Intersection Polygon<div class="sd-summary-down docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-down" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M5.22 8.72a.75.75 0 000 1.06l6.25 6.25a.75.75 0 001.06 0l6.25-6.25a.75.75 0 00-1.06-1.06L12 14.44 6.28 8.72a.75.75 0 00-1.06 0z"></path></svg></div>
<div class="sd-summary-up docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-up" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M18.78 15.28a.75.75 0 000-1.06l-6.25-6.25a.75.75 0 00-1.06 0l-6.25 6.25a.75.75 0 101.06 1.06L12 9.56l5.72 5.72a.75.75 0 001.06 0z"></path></svg></div>
</summary><div class="sd-summary-content sd-card-body docutils">
<p class="sd-card-text"><video width="100%" controls muted src="https://github.com/GIScience/gis-training-resource-center/raw/main/fig/SRCS_TRigger_step_8_field_calculator.mp4"></video></p>
</div>
</details><p class="rubric">Step 9: Calculate the IPC Index per District</p>
<figure class="align-center">
<a class="reference internal image-reference" href="../../_images/Drought_EAP_Worklow_Step_9_1.png"><img alt="../../_images/Drought_EAP_Worklow_Step_9_1.png" src="../../_images/Drought_EAP_Worklow_Step_9_1.png" style="width: 1000px;" /></a>
</figure>
<p class="sd-card-text"><strong>Purpose:</strong>  The purpose of this step is to calculate a population weighted mean over the IPC classes that fall within a district, in order to give the amount of people living in a certain IPC class more importance than just the area affected by a certain IPC class. The result is a IPC Index value for each district.</p>
<p class="sd-card-text"><strong>Tool:</strong> <code class="docutils literal notranslate"><span class="pre">Join</span> <span class="pre">attribute</span> <span class="pre">by</span> <span class="pre">location</span> <span class="pre">(summary)</span></code></p>
<table class="table">
<colgroup>
<col style="width: 44%" />
<col style="width: 56%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p class="sd-card-text">Instruction</p></th>
<th class="head"><p class="sd-card-text">Join attribute by location (summary)</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><ol class="arabic simple">
<li><p class="sd-card-text">In the <code class="docutils literal notranslate"><span class="pre">Toolbox</span></code>-&gt; Search for <code class="docutils literal notranslate"><span class="pre">Join</span> <span class="pre">attribute</span> <span class="pre">by</span> <span class="pre">location</span> <span class="pre">(summary)</span></code></p></li>
</ol>
<ul class="simple">
<li><p class="sd-card-text">Tip: If the <code class="docutils literal notranslate"><span class="pre">Toolbox</span></code> is not opne click <code class="docutils literal notranslate"><span class="pre">Processing</span></code>-&gt; <code class="docutils literal notranslate"><span class="pre">Toolbox</span></code></p></li>
</ul>
<ol class="arabic simple" start="2">
<li><p class="sd-card-text"><code class="docutils literal notranslate"><span class="pre">Input</span> <span class="pre">Layer</span></code>: Select your âdistrict_pop_somâ layer</p></li>
<li><p class="sd-card-text"><code class="docutils literal notranslate"><span class="pre">Input</span> <span class="pre">Layer</span> <span class="pre">2</span></code>: Select âML1_joinâ (or ML2_Joinâ)</p></li>
<li><p class="sd-card-text"><code class="docutils literal notranslate"><span class="pre">Geometric</span> <span class="pre">predicate</span></code>: Select âIntersectionâ</p></li>
<li><p class="sd-card-text"><code class="docutils literal notranslate"><span class="pre">Field</span> <span class="pre">to</span> <span class="pre">summarise</span></code>: Select âIndex_per_IPCPolygon_ML1â (or âIndex_per_IPCPolygon_ML2â )</p></li>
<li><p class="sd-card-text"><code class="docutils literal notranslate"><span class="pre">Summaries</span> <span class="pre">to</span> <span class="pre">calculate</span></code>: Chose only the option âmeanâ</p></li>
<li><p class="sd-card-text">Under <code class="docutils literal notranslate"><span class="pre">Join</span> <span class="pre">Layer</span></code> click on the three points <img alt="" src="../../_images/Three_points.png" />-&gt; <code class="docutils literal notranslate"><span class="pre">Save</span> <span class="pre">to</span> <span class="pre">File</span></code> and navigate to you monitoring folder [Year_Month]. Give the output the name âML1_join_locationâ or âML2_join_locationâ and click <code class="docutils literal notranslate"><span class="pre">Save</span></code></p></li>
<li><p class="sd-card-text">Click <code class="docutils literal notranslate"><span class="pre">Run</span></code></p></li>
</ol>
</td>
<td><figure class="align-center">
<a class="reference internal image-reference" href="../../_images/SRCS_Trigger_step_9_join_location.png"><img alt="../../_images/SRCS_Trigger_step_9_join_location.png" src="../../_images/SRCS_Trigger_step_9_join_location.png" style="width: 450px;" /></a>
</figure>
</td>
</tr>
</tbody>
</table>
<p class="sd-card-text"><strong>Result:</strong> As a result, your two layers âML1_join_locationâ and âML2_join_locationâ should have the column âIndex_per_IPCPolygon_ML1_meanâ or âIndex_per_IPCPolygon_ML2_meanâ. Furthermore, the number of rows should be the exact number of districts in Somalia and the polygons should have the exact shape of the districts.</p>
<details class="sd-sphinx-override sd-dropdown sd-card sd-mb-3">
<summary class="sd-summary-title sd-card-header">
Video: Calculate IPC Index per District<div class="sd-summary-down docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-down" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M5.22 8.72a.75.75 0 000 1.06l6.25 6.25a.75.75 0 001.06 0l6.25-6.25a.75.75 0 00-1.06-1.06L12 14.44 6.28 8.72a.75.75 0 00-1.06 0z"></path></svg></div>
<div class="sd-summary-up docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-up" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M18.78 15.28a.75.75 0 000-1.06l-6.25-6.25a.75.75 0 00-1.06 0l-6.25 6.25a.75.75 0 101.06 1.06L12 9.56l5.72 5.72a.75.75 0 001.06 0z"></path></svg></div>
</summary><div class="sd-summary-content sd-card-body docutils">
<p class="sd-card-text"><video width="100%" controls muted src="https://github.com/GIScience/gis-training-resource-center/raw/main/fig/SRCS_Trigger_step_9_join_location.mp4"></video></p>
</div>
</details><p class="rubric">Step 10.: Join ML1 and ML2</p>
<figure class="align-center">
<a class="reference internal image-reference" href="../../_images/Drought_EAP_Worklow_Step_10_1.png"><img alt="../../_images/Drought_EAP_Worklow_Step_10_1.png" src="../../_images/Drought_EAP_Worklow_Step_10_1.png" style="width: 1000px;" /></a>
</figure>
<p class="sd-card-text"><strong>Purpose:</strong> The purpose of this step is to merge âML1_join_locationâ and âML2_join_locationâ into one layer so we have the IPC-Index for all districts.</p>
<p class="sd-card-text"><strong>Tool:</strong> <a class="reference external" href="https://giscience.github.io/gis-training-resource-center/content/Wiki/en_qgis_non_spatial_joins_wiki.html#join-attributes-by-field-value"><code class="docutils literal notranslate"><span class="pre">Join</span> <span class="pre">attributes</span> <span class="pre">by</span> <span class="pre">field</span> <span class="pre">value</span></code></a></p>
<table class="table">
<colgroup>
<col style="width: 44%" />
<col style="width: 56%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p class="sd-card-text">Instruction</p></th>
<th class="head"><p class="sd-card-text">Join attribute by location (summary)</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><ol class="arabic simple">
<li><p class="sd-card-text">In the <code class="docutils literal notranslate"><span class="pre">Toolbox</span></code>-&gt; Search for <a class="reference external" href="https://giscience.github.io/gis-training-resource-center/content/Wiki/en_qgis_non_spatial_joins_wiki.html#join-attributes-by-field-value"><code class="docutils literal notranslate"><span class="pre">Join</span> <span class="pre">attributes</span> <span class="pre">by</span> <span class="pre">field</span> <span class="pre">value</span></code></a></p></li>
</ol>
<ul class="simple">
<li><p class="sd-card-text">Tip: If the <code class="docutils literal notranslate"><span class="pre">Toolbox</span></code> is not opne click <code class="docutils literal notranslate"><span class="pre">Processing</span></code>-&gt; <code class="docutils literal notranslate"><span class="pre">Toolbox</span></code></p></li>
</ul>
<ol class="arabic simple" start="2">
<li><p class="sd-card-text"><code class="docutils literal notranslate"><span class="pre">Input</span> <span class="pre">Layer</span></code>: Select your âML1_join_locationâ layer</p></li>
<li><p class="sd-card-text"><code class="docutils literal notranslate"><span class="pre">Table</span> <span class="pre">field</span></code>: Select âadmin2Nameâ</p></li>
<li><p class="sd-card-text"><code class="docutils literal notranslate"><span class="pre">Input</span> <span class="pre">Layer</span> <span class="pre">2</span></code>: Select your âML2_join_locationâ layer</p></li>
<li><p class="sd-card-text"><code class="docutils literal notranslate"><span class="pre">Table</span> <span class="pre">field</span> <span class="pre">2</span></code>: Select âadmin2Nameâ</p></li>
<li><p class="sd-card-text"><code class="docutils literal notranslate"><span class="pre">Layer</span> <span class="pre">2</span> <span class="pre">field</span> <span class="pre">to</span> <span class="pre">copy</span></code>: Click on the three points and  select âIndex_per_IPCPolygon_ML2_meanâ</p></li>
<li><p class="sd-card-text"><code class="docutils literal notranslate"><span class="pre">Join</span> <span class="pre">type</span></code>: Select the option âTake attributes of the first matching feature only (one-to-one)</p></li>
<li><p class="sd-card-text">Under <code class="docutils literal notranslate"><span class="pre">Join</span> <span class="pre">Layer</span></code> click on the three points <img alt="" src="../../_images/Three_points.png" />-&gt; <code class="docutils literal notranslate"><span class="pre">Save</span> <span class="pre">to</span> <span class="pre">File</span></code> and navigate to you monitoring folder [Year_Month]. Give the output the name âIPC_index_districtâ and click <code class="docutils literal notranslate"><span class="pre">Save</span></code></p></li>
<li><p class="sd-card-text">Click <code class="docutils literal notranslate"><span class="pre">Run</span></code></p></li>
</ol>
</td>
<td><figure class="align-center">
<a class="reference internal image-reference" href="../../_images/SRCS_Trigger_step_10_IPC_Index_district.png"><img alt="../../_images/SRCS_Trigger_step_10_IPC_Index_district.png" src="../../_images/SRCS_Trigger_step_10_IPC_Index_district.png" style="width: 450px;" /></a>
</figure>
</td>
</tr>
</tbody>
</table>
<p class="sd-card-text"><strong>Result:</strong> Layer with the districts of Somalia and the IPC-Index of each district.</p>
<details class="sd-sphinx-override sd-dropdown sd-card sd-mb-3">
<summary class="sd-summary-title sd-card-header">
Video: Join ML1 and ML2 I<div class="sd-summary-down docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-down" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M5.22 8.72a.75.75 0 000 1.06l6.25 6.25a.75.75 0 001.06 0l6.25-6.25a.75.75 0 00-1.06-1.06L12 14.44 6.28 8.72a.75.75 0 00-1.06 0z"></path></svg></div>
<div class="sd-summary-up docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-up" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M18.78 15.28a.75.75 0 000-1.06l-6.25-6.25a.75.75 0 00-1.06 0l-6.25 6.25a.75.75 0 101.06 1.06L12 9.56l5.72 5.72a.75.75 0 001.06 0z"></path></svg></div>
</summary><div class="sd-summary-content sd-card-body docutils">
<p class="sd-card-text"><video width="100%" controls muted src="https://github.com/GIScience/gis-training-resource-center/raw/main/fig/SRCS_Trigger_step_10_join.mp4"></video></p>
</div>
</details><p class="rubric">Step 11: Calculation of SPI-12 Mean per District</p>
<figure class="align-center">
<a class="reference internal image-reference" href="../../_images/Drought_EAP_Worklow_Step_11_1.png"><img alt="../../_images/Drought_EAP_Worklow_Step_11_1.png" src="../../_images/Drought_EAP_Worklow_Step_11_1.png" style="width: 1000px;" /></a>
</figure>
<p class="sd-card-text"><strong>Purpose:</strong> Calculate the mean value over the SPI-12 values of all pixels that fall within a scertain districts area, in order to have one SPI-12 value for each district.</p>
<p class="sd-card-text"><strong>Tool:</strong> <a class="reference external" href="https://giscience.github.io/gis-training-resource-center/content/Wiki/en_qgis_raster_basic_wiki.html#zonal-statistics"><code class="docutils literal notranslate"><span class="pre">Zonal</span> <span class="pre">Statistics</span></code></a></p>
<table class="table">
<colgroup>
<col style="width: 44%" />
<col style="width: 56%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p class="sd-card-text">Instruction</p></th>
<th class="head"><p class="sd-card-text">Zonal Statistics</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><ol class="arabic simple">
<li><p class="sd-card-text">In the <code class="docutils literal notranslate"><span class="pre">Toolbox</span></code> -&gt; Search for <a class="reference external" href="https://giscience.github.io/gis-training-resource-center/content/Wiki/en_qgis_raster_basic_wiki.html#zonal-statistics"><code class="docutils literal notranslate"><span class="pre">Zonal</span> <span class="pre">Statistics</span></code></a></p></li>
</ol>
<ul class="simple">
<li><p class="sd-card-text">Tip: If the <code class="docutils literal notranslate"><span class="pre">Toolbox</span></code> is not open click <code class="docutils literal notranslate"><span class="pre">Processing</span></code>-&gt; <code class="docutils literal notranslate"><span class="pre">Toolbox</span></code></p></li>
</ul>
<ol class="arabic simple" start="2">
<li><p class="sd-card-text"><code class="docutils literal notranslate"><span class="pre">Input</span> <span class="pre">Layer</span></code>: district_pop_som</p></li>
<li><p class="sd-card-text"><code class="docutils literal notranslate"><span class="pre">Raster</span> <span class="pre">Layer</span></code>: SPI Forecast</p></li>
<li><p class="sd-card-text"><code class="docutils literal notranslate"><span class="pre">Output</span> <span class="pre">column</span> <span class="pre">prefix</span></code>: Use  âSPI12_â</p></li>
<li><p class="sd-card-text"><code class="docutils literal notranslate"><span class="pre">Statistics</span> <span class="pre">to</span> <span class="pre">calculate</span></code>: âMeanâ</p></li>
<li><p class="sd-card-text">Under <code class="docutils literal notranslate"><span class="pre">Zonal</span> <span class="pre">Statistics</span></code> click on the three points <img alt="" src="../../_images/Three_points.png" />-&gt; <code class="docutils literal notranslate"><span class="pre">Save</span> <span class="pre">to</span> <span class="pre">File</span></code> and navigate to you monitoring folder [Year_Month]. Give the output the name âSPI12_districtâ and click <code class="docutils literal notranslate"><span class="pre">Save</span></code></p></li>
<li><p class="sd-card-text">Click `Run``</p></li>
</ol>
</td>
<td><figure class="align-center">
<a class="reference internal image-reference" href="../../_images/SRCS_Trigger_step_11_IPC_zonal_district.png"><img alt="../../_images/SRCS_Trigger_step_11_IPC_zonal_district.png" src="../../_images/SRCS_Trigger_step_11_IPC_zonal_district.png" style="width: 450px;" /></a>
</figure>
</td>
</tr>
</tbody>
</table>
<p class="sd-card-text"><strong>Result:</strong> A layer of all districts of Somalia with the mean SPI-12.</p>
<details class="sd-sphinx-override sd-dropdown sd-card sd-mb-3">
<summary class="sd-summary-title sd-card-header">
Video: Calculation of SPI12 Mean per District<div class="sd-summary-down docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-down" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M5.22 8.72a.75.75 0 000 1.06l6.25 6.25a.75.75 0 001.06 0l6.25-6.25a.75.75 0 00-1.06-1.06L12 14.44 6.28 8.72a.75.75 0 00-1.06 0z"></path></svg></div>
<div class="sd-summary-up docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-up" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M18.78 15.28a.75.75 0 000-1.06l-6.25-6.25a.75.75 0 00-1.06 0l-6.25 6.25a.75.75 0 101.06 1.06L12 9.56l5.72 5.72a.75.75 0 001.06 0z"></path></svg></div>
</summary><div class="sd-summary-content sd-card-body docutils">
<p class="sd-card-text"><video width="100%" controls muted src="https://github.com/GIScience/gis-training-resource-center/raw/main/fig/SRCS_Trigger_step_11_zonal_staistics.mp4"></video></p>
</div>
</details><p class="rubric">Step 12: Join SPI-12 Mean to the IPC Index</p>
<figure class="align-center">
<a class="reference internal image-reference" href="../../_images/Drought_EAP_Worklow_Step_12_1.png"><img alt="../../_images/Drought_EAP_Worklow_Step_12_1.png" src="../../_images/Drought_EAP_Worklow_Step_12_1.png" style="width: 1000px;" /></a>
</figure>
<p class="sd-card-text"><strong>Purpose:</strong> The purpose of this step is to merge data from two different data sources into one data frame so that it can be jointly analysed.</p>
<p class="sd-card-text"><strong>Tool:</strong><a class="reference external" href="https://giscience.github.io/gis-training-resource-center/content/Wiki/en_qgis_non_spatial_joins_wiki.html#join-attributes-by-field-value"><code class="docutils literal notranslate"><span class="pre">Join</span> <span class="pre">attributes</span> <span class="pre">by</span> <span class="pre">field</span> <span class="pre">value</span></code></a></p>
<table class="table">
<colgroup>
<col style="width: 44%" />
<col style="width: 56%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p class="sd-card-text">Instruction</p></th>
<th class="head"><p class="sd-card-text">Join attributes by field value</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><ol class="arabic simple">
<li><p class="sd-card-text">In the <code class="docutils literal notranslate"><span class="pre">Toolbox</span></code>-&gt; Search for <a class="reference external" href="https://giscience.github.io/gis-training-resource-center/content/Wiki/en_qgis_non_spatial_joins_wiki.html#join-attributes-by-field-value"><code class="docutils literal notranslate"><span class="pre">Join</span> <span class="pre">attributes</span> <span class="pre">by</span> <span class="pre">field</span> <span class="pre">value</span></code></a></p></li>
</ol>
<ul class="simple">
<li><p class="sd-card-text">Tip: If the <code class="docutils literal notranslate"><span class="pre">Toolbox</span></code> is not opne click <code class="docutils literal notranslate"><span class="pre">Processing</span></code>-&gt; <code class="docutils literal notranslate"><span class="pre">Toolbox</span></code></p></li>
</ul>
<ol class="arabic simple" start="2">
<li><p class="sd-card-text"><code class="docutils literal notranslate"><span class="pre">Input</span> <span class="pre">Layer</span></code>: Select your âIPC_index_districtâ</p></li>
<li><p class="sd-card-text"><code class="docutils literal notranslate"><span class="pre">Table</span> <span class="pre">field</span></code>: Select âadmin2Nameâ</p></li>
<li><p class="sd-card-text"><code class="docutils literal notranslate"><span class="pre">Input</span> <span class="pre">Layer</span> <span class="pre">2</span></code>: Select your âSPI12_districtâ</p></li>
<li><p class="sd-card-text"><code class="docutils literal notranslate"><span class="pre">Table</span> <span class="pre">field</span> <span class="pre">2</span></code>: Select âadmin2Nameâ</p></li>
<li><p class="sd-card-text"><code class="docutils literal notranslate"><span class="pre">Join</span> <span class="pre">type</span></code>: Select the option âTake attributes of the first matching feature only (one-to-one)â</p></li>
<li><p class="sd-card-text">Under <code class="docutils literal notranslate"><span class="pre">Join</span> <span class="pre">Layer</span></code> click on the three points <img alt="" src="../../_images/Three_points.png" />-&gt; <code class="docutils literal notranslate"><span class="pre">Save</span> <span class="pre">to</span> <span class="pre">File</span></code> and navigate to you monitoring folder [Year_Month]. Give the output the name âIPC_index_SPI_12_districtâ and click <code class="docutils literal notranslate"><span class="pre">Save</span></code></p></li>
<li><p class="sd-card-text">Click <code class="docutils literal notranslate"><span class="pre">Run</span></code></p></li>
</ol>
</td>
<td><figure class="align-center">
<a class="reference internal image-reference" href="../../_images/SRCS_Trigger_step_12_IPC_SPI12_join.png"><img alt="../../_images/SRCS_Trigger_step_12_IPC_SPI12_join.png" src="../../_images/SRCS_Trigger_step_12_IPC_SPI12_join.png" style="width: 450px;" /></a>
</figure>
</td>
</tr>
</tbody>
</table>
<p class="sd-card-text"><strong>Result:</strong> The result will be a layer of all districts of Somalia with the mean SPI-12 and the IPC-Index of each district.</p>
<details class="sd-sphinx-override sd-dropdown sd-card sd-mb-3">
<summary class="sd-summary-title sd-card-header">
Video: Join SPI12 Mean to the IPC Index<div class="sd-summary-down docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-down" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M5.22 8.72a.75.75 0 000 1.06l6.25 6.25a.75.75 0 001.06 0l6.25-6.25a.75.75 0 00-1.06-1.06L12 14.44 6.28 8.72a.75.75 0 00-1.06 0z"></path></svg></div>
<div class="sd-summary-up docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-up" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M18.78 15.28a.75.75 0 000-1.06l-6.25-6.25a.75.75 0 00-1.06 0l-6.25 6.25a.75.75 0 101.06 1.06L12 9.56l5.72 5.72a.75.75 0 001.06 0z"></path></svg></div>
</summary><div class="sd-summary-content sd-card-body docutils">
<p class="sd-card-text"><video width="100%" controls muted src="https://github.com/GIScience/gis-training-resource-center/raw/main/fig/SRCS_Trigger_step_12_join_IPC_SPI12.mp4"></video></p>
</div>
</details><p class="rubric">Step 13: Evaluate the Trigger Activation</p>
<figure class="align-center">
<a class="reference internal image-reference" href="../../_images/Drought_EAP_Worklow_Step_13_1.png"><img alt="../../_images/Drought_EAP_Worklow_Step_13_1.png" src="../../_images/Drought_EAP_Worklow_Step_13_1.png" style="width: 1000px;" /></a>
</figure>
<p class="sd-card-text"><strong>Purpose:</strong> The purpose of this step is to gain a quick overview of possible trigger activation without having to revise the actual data. Instead we will have a binary column with trigger = yes or trigger=no values.</p>
<p class="sd-card-text"><strong>Tool:</strong> <a class="reference external" href="https://giscience.github.io/gis-training-resource-center/content/Wiki/en_qgis_table_functions_wiki.html#calculate-field"><code class="docutils literal notranslate"><span class="pre">Field</span> <span class="pre">Calculator</span></code></a></p>
<ol class="arabic simple">
<li><p class="sd-card-text">Right-click on âIPC_index_SPI_12_districtâ layer -&gt; <code class="docutils literal notranslate"><span class="pre">Attribute</span> <span class="pre">Table</span></code>-&gt; click on  <a class="reference external" href="https://giscience.github.io/gis-training-resource-center/content/Wiki/en_qgis_table_functions_wiki.html#calculate-field"><code class="docutils literal notranslate"><span class="pre">Field</span> <span class="pre">Calculator</span></code></a> <img alt="" src="../../_images/mActionCalculateField.png" /> to open the field calculator</p></li>
<li><p class="sd-card-text">Check <code class="docutils literal notranslate"><span class="pre">Create</span> <span class="pre">new</span> <span class="pre">field</span></code></p></li>
<li><p class="sd-card-text"><code class="docutils literal notranslate"><span class="pre">Output</span> <span class="pre">field</span> <span class="pre">name</span></code>: Name the new column âTrigger_activationâ</p></li>
<li><p class="sd-card-text"><code class="docutils literal notranslate"><span class="pre">Result</span> <span class="pre">field</span> <span class="pre">type</span></code>: Text (string)</p></li>
<li><p class="sd-card-text">Add the code below into the <code class="docutils literal notranslate"><span class="pre">Expression</span></code> field</p></li>
</ol>
<table class="table">
<colgroup>
<col style="width: 100%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p class="sd-card-text">Code</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><div class="highlight-md notranslate"><div class="highlight"><pre><span></span>CASE

WHEN &quot;Index_per_IPCPolygon_ML1_mean&quot; &gt;0.7 AND &quot;Index_per_IPCPolygon_ML2_mean&quot; &gt; 0.7
AND
&quot;SPI12_mean&quot; &lt; -1
THEN &#39;yes&#39;
ELSE &#39;no&#39;

END
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
<ol class="arabic simple" start="6">
<li><p class="sd-card-text">Click <code class="docutils literal notranslate"><span class="pre">ok</span></code></p></li>
<li><p class="sd-card-text">Save the new column by clicking on <img alt="" src="../../_images/mActionSaveEdits.png" /> in the attribute table and end the editing mode by clicking on <img alt="" src="../../_images/mActionToggleEditing.png" /></p></li>
</ol>
<p class="sd-card-text"><strong>Result:</strong> A layer with all districts of Somalia with a column of âYesâ and âNoâ values indicating whether the trigger levels have been reached or not.</p>
<figure class="align-center">
<a class="reference internal image-reference" href="../../_images/SRCS_Trigger_step_13_trigger_evaluation.png"><img alt="../../_images/SRCS_Trigger_step_13_trigger_evaluation.png" src="../../_images/SRCS_Trigger_step_13_trigger_evaluation.png" style="width: 500px;" /></a>
</figure>
<details class="sd-sphinx-override sd-dropdown sd-card sd-mb-3">
<summary class="sd-summary-title sd-card-header">
Video: Evaluate Trigger Activation <div class="sd-summary-down docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-down" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M5.22 8.72a.75.75 0 000 1.06l6.25 6.25a.75.75 0 001.06 0l6.25-6.25a.75.75 0 00-1.06-1.06L12 14.44 6.28 8.72a.75.75 0 00-1.06 0z"></path></svg></div>
<div class="sd-summary-up docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-up" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M18.78 15.28a.75.75 0 000-1.06l-6.25-6.25a.75.75 0 00-1.06 0l-6.25 6.25a.75.75 0 101.06 1.06L12 9.56l5.72 5.72a.75.75 0 001.06 0z"></path></svg></div>
</summary><div class="sd-summary-content sd-card-body docutils">
<p class="sd-card-text"><video width="100%" controls muted src="https://github.com/GIScience/gis-training-resource-center/raw/main/fig/SRCS_Trigger_step_13_trigger_activation.mp4"></video></p>
</div>
</details><p class="rubric">Step 14: Visualisation of results</p>
<figure class="align-center">
<a class="reference internal image-reference" href="../../_images/Drought_EAP_Worklow_Step_14_1.png"><img alt="../../_images/Drought_EAP_Worklow_Step_14_1.png" src="../../_images/Drought_EAP_Worklow_Step_14_1.png" style="width: 1000px;" /></a>
</figure>
<p class="sd-card-text"><strong>Purpose:</strong> Definition of how features are represented visually on the map.</p>
<p class="sd-card-text"><strong>Tool:</strong> <a class="reference external" href="https://giscience.github.io/gis-training-resource-center/content/Module_4/en_qgis_map_design_I.html#symbology-for-vector-data">Symbology</a></p>
<p class="sd-card-text"><strong>Trigger Activation</strong></p>
<ol class="arabic simple">
<li><p class="sd-card-text">Right cklick on the âTrigger_activationâ layer -&gt; <code class="docutils literal notranslate"><span class="pre">Properties</span></code> -&gt; <code class="docutils literal notranslate"><span class="pre">Symbology</span></code></p></li>
<li><p class="sd-card-text">In the down left corner click on <code class="docutils literal notranslate"><span class="pre">Style</span></code> -&gt; <code class="docutils literal notranslate"><span class="pre">Load</span> <span class="pre">Style</span></code></p></li>
<li><p class="sd-card-text">In the new window click on the three points <img alt="" src="../../_images/Three_points.png" />. Navigate to the âFbF_Drought_Monitoring_Trigger/layer_stylesâ folder and select the file <strong>âStyle_Trigger_Activation.qmlâ</strong>.</p></li>
<li><p class="sd-card-text">Click <code class="docutils literal notranslate"><span class="pre">Open</span></code>. Then click on <code class="docutils literal notranslate"><span class="pre">Load</span> <span class="pre">Style</span></code></p></li>
<li><p class="sd-card-text">Back in the âLayer Propertiesâ Window click <code class="docutils literal notranslate"><span class="pre">Apply</span></code> and <code class="docutils literal notranslate"><span class="pre">OK</span></code></p></li>
</ol>
<details class="sd-sphinx-override sd-dropdown sd-card sd-mb-3">
<summary class="sd-summary-title sd-card-header">
Info: Trigger Activation Layer<div class="sd-summary-down docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-down" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M5.22 8.72a.75.75 0 000 1.06l6.25 6.25a.75.75 0 001.06 0l6.25-6.25a.75.75 0 00-1.06-1.06L12 14.44 6.28 8.72a.75.75 0 00-1.06 0z"></path></svg></div>
<div class="sd-summary-up docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-up" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M18.78 15.28a.75.75 0 000-1.06l-6.25-6.25a.75.75 0 00-1.06 0l-6.25 6.25a.75.75 0 101.06 1.06L12 9.56l5.72 5.72a.75.75 0 001.06 0z"></path></svg></div>
</summary><div class="sd-summary-content sd-card-body docutils">
<p class="sd-card-text">You will now see districts where no trigger is activated in green and districts with trigger activation in pink.</p>
<p class="sd-card-text">The âStyle_Trigger_Activation.qmlâ style layer is configured to show the district names only where the trigger is actually activated. If there is no trigger activation you can activate the admin 1 boundary layer for better map orientation (see <strong>Administrative 2 Boundaries</strong> below)</p>
<figure class="align-center">
<a class="reference internal image-reference" href="../../_images/Map_yes_trigger.PNG"><img alt="../../_images/Map_yes_trigger.PNG" src="../../_images/Map_yes_trigger.PNG" style="width: 1000px;" /></a>
</figure>
</div>
</details><p class="sd-card-text"><strong>Risk Assessment</strong></p>
<ol class="arabic simple" start="7">
<li><p class="sd-card-text">Right click on the ârisk_assessment_districtsâ layer -&gt; <code class="docutils literal notranslate"><span class="pre">Properties</span></code> -&gt; <code class="docutils literal notranslate"><span class="pre">Symbology</span></code></p></li>
<li><p class="sd-card-text">In the down left corner click on <code class="docutils literal notranslate"><span class="pre">Style</span></code> -&gt; <code class="docutils literal notranslate"><span class="pre">Load</span> <span class="pre">Style</span></code></p></li>
<li><p class="sd-card-text">In the new window click on the three points <img alt="" src="../../_images/Three_points.png" />. Navigate to the âFbF_Drought_Monitoring_Trigger/layer_stylesâ folder and select the file <strong>âsomalia_risk_assessment_style.qmlâ</strong> style layer.</p></li>
<li><p class="sd-card-text">Move the ârisk_assessment_districtâ layer <strong>below</strong> âTrigger_Activationâ layer (<a class="reference external" href="https://giscience.github.io/gis-training-resource-center/content/Module_2/en_qgis_geodata_concept.html?highlight=layer#layer-concept">Layer Concept</a>).</p></li>
<li><p class="sd-card-text">Back in the âLayer Propertiesâ Window click <code class="docutils literal notranslate"><span class="pre">Apply</span></code> and <code class="docutils literal notranslate"><span class="pre">OK</span></code></p></li>
</ol>
<details class="sd-sphinx-override sd-dropdown sd-card sd-mb-3">
<summary class="sd-summary-title sd-card-header">
Info: Risk Assessment Layer<div class="sd-summary-down docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-down" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M5.22 8.72a.75.75 0 000 1.06l6.25 6.25a.75.75 0 001.06 0l6.25-6.25a.75.75 0 00-1.06-1.06L12 14.44 6.28 8.72a.75.75 0 00-1.06 0z"></path></svg></div>
<div class="sd-summary-up docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-up" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M18.78 15.28a.75.75 0 000-1.06l-6.25-6.25a.75.75 0 00-1.06 0l-6.25 6.25a.75.75 0 101.06 1.06L12 9.56l5.72 5.72a.75.75 0 001.06 0z"></path></svg></div>
</summary><div class="sd-summary-content sd-card-body docutils">
<p class="sd-card-text">For the creation of an <strong>Intervention Map</strong> we will have to add the risk assessment data and the respective style file.
For this first of all load from âFbF_Drought_Monitoring_Trigger/Fixed_data/Risk_Assessmentâ the file ârisk_assessment_districts.gpkgâ. This file is the output of the conducted risk assessment and contains a risk value for each district of Simaliland and Somalia.  In order to visualize it</p>
</div>
</details><p class="sd-card-text"><strong>Administrative 2 Boundaries (Regions)</strong></p>
<ol class="arabic simple" start="12">
<li><p class="sd-card-text">Right click on the âSom_Admbnda_Adm1_UNDPâ (Regiond) layer -&gt; <code class="docutils literal notranslate"><span class="pre">Properties</span></code> -&gt; <code class="docutils literal notranslate"><span class="pre">Symbology</span></code></p></li>
<li><p class="sd-card-text">In the lower right corner click on <code class="docutils literal notranslate"><span class="pre">Style</span></code> -&gt; <code class="docutils literal notranslate"><span class="pre">Load</span> <span class="pre">Style</span></code></p></li>
<li><p class="sd-card-text">In the new window, click on the three points <img alt="" src="../../_images/Three_points.png" />. Navigate to the âFbF_Drought_Monitoring_Trigger/layer_stylesâ folder and select the file <strong>âsomalia_risk_assessment_style.qmlâ</strong>.</p></li>
<li><p class="sd-card-text">Click <code class="docutils literal notranslate"><span class="pre">Open</span></code>. Then click on <code class="docutils literal notranslate"><span class="pre">Load</span> <span class="pre">Style</span></code></p></li>
<li><p class="sd-card-text">Back in the âLayer Propertiesâ Window click <code class="docutils literal notranslate"><span class="pre">Apply</span></code> and <code class="docutils literal notranslate"><span class="pre">OK</span></code></p></li>
<li><p class="sd-card-text">Add a the OpenStreetMap basemap by clicking on <code class="docutils literal notranslate"><span class="pre">Layer</span></code> -&gt; <code class="docutils literal notranslate"><span class="pre">Add</span> <span class="pre">Layer</span></code> -&gt; <code class="docutils literal notranslate"><span class="pre">Add</span> <span class="pre">XYZ</span> <span class="pre">layer...</span></code> -&gt; Select the OpenStreetMap. Click <code class="docutils literal notranslate"><span class="pre">Add</span></code>. (<a class="reference external" href="https://giscience.github.io/gis-training-resource-center/content/Wiki/en_qgis_basemaps_wiki.html?highlight=osm#basemaps">Wiki basemap</a>)</p></li>
<li><p class="sd-card-text">Place the OpenStreetMap basemap on the bottom.</p></li>
<li><p class="sd-card-text">Delet all layers exept:</p>
<ul class="simple">
<li><p class="sd-card-text">Trigger_activation</p></li>
<li><p class="sd-card-text">risk_assessment_districts</p></li>
<li><p class="sd-card-text">Som_Admbnda_Adm1_UNDP</p></li>
<li><p class="sd-card-text">OpenStreetMap</p></li>
</ul>
</li>
</ol>
<details class="sd-sphinx-override sd-dropdown sd-card sd-mb-3">
<summary class="sd-summary-title sd-card-header">
Video: Visualisation of results<div class="sd-summary-down docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-down" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M5.22 8.72a.75.75 0 000 1.06l6.25 6.25a.75.75 0 001.06 0l6.25-6.25a.75.75 0 00-1.06-1.06L12 14.44 6.28 8.72a.75.75 0 00-1.06 0z"></path></svg></div>
<div class="sd-summary-up docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-up" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M18.78 15.28a.75.75 0 000-1.06l-6.25-6.25a.75.75 0 00-1.06 0l-6.25 6.25a.75.75 0 101.06 1.06L12 9.56l5.72 5.72a.75.75 0 001.06 0z"></path></svg></div>
</summary><div class="sd-summary-content sd-card-body docutils">
<p class="sd-card-text"><video width="100%" controls muted src="https://github.com/GIScience/gis-training-resource-center/raw/main/fig/Trigger_model_style.mp4"></video></p>
</div>
</details><table class="table">
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p class="sd-card-text">Intervention Map <strong>without</strong> Trigger activation</p></th>
<th class="head"><p class="sd-card-text">Intervention Map <strong>with</strong> Trigger activation</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><figure class="align-center">
<a class="reference internal image-reference" href="../../_images/Map_no_trigger.PNG"><img alt="../../_images/Map_no_trigger.PNG" src="../../_images/Map_no_trigger.PNG" style="width: 1000px;" /></a>
</figure>
</td>
<td><figure class="align-center">
<a class="reference internal image-reference" href="../../_images/Map_yes_trigger.PNG"><img alt="../../_images/Map_yes_trigger.PNG" src="../../_images/Map_yes_trigger.PNG" style="width: 450px;" /></a>
</figure>
</td>
</tr>
</tbody>
</table>
<div class="admonition attention">
<p class="admonition-title">Attention</p>
<p class="sd-card-text">Remember the <a class="reference external" href="https://giscience.github.io/gis-training-resource-center/content/Module_2/en_qgis_geodata_concept.html?highlight=layer#layer-concept">layer concept</a> and make sure the basemap layer is at the bottom of your layers panel.</p>
</div>
<p class="rubric">Step 15: Making the print map</p>
<figure class="align-center">
<a class="reference internal image-reference" href="../../_images/Drought_EAP_Worklow_Step_15_1.png"><img alt="../../_images/Drought_EAP_Worklow_Step_15_1.png" src="../../_images/Drought_EAP_Worklow_Step_15_1.png" style="width: 1000px;" /></a>
</figure>
<p class="sd-card-text"><strong>Purpose:</strong> Viualization of the map features in a printable map layout</p>
<p class="sd-card-text"><strong>Tool:</strong>  <a class="reference external" href="https://giscience.github.io/gis-training-resource-center/content/Module_4/en_qgis_map_design_2.html?highlight=print+layout#print-layout">Print Layout</a></p>
<ol class="arabic simple">
<li><p class="sd-card-text">If not done before, delet all layers expect <strong>Trigger_activation</strong>, <strong>risk_assessment_districts</strong> and <strong>OpenStreetMap</strong></p></li>
<li><p class="sd-card-text">Open a new print layout by clicking on <code class="docutils literal notranslate"><span class="pre">Project</span></code> -&gt; <code class="docutils literal notranslate"><span class="pre">New</span> <span class="pre">Print</span> <span class="pre">Layout</span></code> -&gt; enter the name of your current Project e.g â2022_04â.</p></li>
<li><p class="sd-card-text">Go the the <strong>FbF_Drought_Monitoring_Trigger</strong><code class="docutils literal notranslate"><span class="pre">folder</span> <span class="pre">and</span> <span class="pre">drag</span> <span class="pre">and</span> <span class="pre">drop</span> <span class="pre">the</span> <span class="pre">file</span></code>Trigger_activation_Intervention_map.qpt` in the print layout</p></li>
<li><p class="sd-card-text">Change the date to the current date by clicking on âFurther map infoâ¦â in the items panel. Click on the <code class="docutils literal notranslate"><span class="pre">Item</span> <span class="pre">Properties</span></code> tab and scroll down. Here you can change the date in the <code class="docutils literal notranslate"><span class="pre">Main</span> <span class="pre">Properties</span></code> field.</p></li>
<li><p class="sd-card-text">Adjust the Lgend by clicking on the legend in the  <code class="docutils literal notranslate"><span class="pre">Item</span> <span class="pre">Properties</span></code> tab and scroll down until you see the <code class="docutils literal notranslate"><span class="pre">Legend</span> <span class="pre">items</span></code> field. If it is not there check if you have to open the dropdown. Make sure <code class="docutils literal notranslate"><span class="pre">Auto</span> <span class="pre">update</span></code> is not checked.</p>
<ul class="simple">
<li><p class="sd-card-text">Remove all itemes in the legend be clicking on the item and then on the red minus icon below.</p></li>
<li><p class="sd-card-text">Add <strong>Trigger_activation</strong> and <strong>risk_assessment_districts</strong> to the legend by clicking on the green plus and click on the layer and click <code class="docutils literal notranslate"><span class="pre">ok</span></code></p></li>
</ul>
</li>
</ol>
<details class="sd-sphinx-override sd-dropdown sd-card sd-mb-3">
<summary class="sd-summary-title sd-card-header">
Video: Making print map<div class="sd-summary-down docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-down" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M5.22 8.72a.75.75 0 000 1.06l6.25 6.25a.75.75 0 001.06 0l6.25-6.25a.75.75 0 00-1.06-1.06L12 14.44 6.28 8.72a.75.75 0 00-1.06 0z"></path></svg></div>
<div class="sd-summary-up docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-up" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M18.78 15.28a.75.75 0 000-1.06l-6.25-6.25a.75.75 0 00-1.06 0l-6.25 6.25a.75.75 0 101.06 1.06L12 9.56l5.72 5.72a.75.75 0 001.06 0z"></path></svg></div>
</summary><div class="sd-summary-content sd-card-body docutils">
<p class="sd-card-text"><video width="100%" controls muted src="https://github.com/GIScience/gis-training-resource-center/raw/main/fig/SRCS_Trigger_print_map.mp4"></video></p>
</div>
</details><div class="admonition attention">
<p class="admonition-title">Attention</p>
<p class="sd-card-text">Make sure you edit the Map Information on the template, e.g. current date. Also make sure to check the legend items: Remove unnecessary items and eventually change the names to meaning descriptions.</p>
</div>
<p class="sd-card-text">In order to easily visualize the output of the trigger analysis we provide you with a
<a class="reference external" href="https://giscience.github.io/gis-training-resource-center/content/Module_4/en_qgis_map_design_2.html#map-templates">map template</a> that can be used as a base for your visualization. You can find the template in the following directory: ââ¦/FbF_Drought_Monitoring_Trigger/maps_somalia_template_risk_assessment.qptâ.</p>
<p class="sd-card-text">You can also adapt the template to your needs and preferences. You can find help <a class="reference external" href="https://giscience.github.io/gis-training-resource-center/content/Module_4/en_qgis_map_design_2.html#print-layout">here</a>.</p>
<div class="admonition attention">
<p class="admonition-title">Attention</p>
<p class="sd-card-text">Make sure you edit the Map Information on the template, e.g. current date. Also make sure to check the legend items: Remove unnecessary items and eventually change the names to meaning descriptions.</p>
</div>
<p class="rubric">Step 16: Exporting the Map</p>
<figure class="align-center">
<a class="reference internal image-reference" href="../../_images/Drought_EAP_Worklow_Step_16_1.png"><img alt="../../_images/Drought_EAP_Worklow_Step_16_1.png" src="../../_images/Drought_EAP_Worklow_Step_16_1.png" style="width: 1000px;" /></a>
</figure>
<p class="sd-card-text"><strong>Purpose:</strong> Export the designed and finalized map layout in order tp print it as a pdf or format of your choice.</p>
<p class="sd-card-text"><strong>Tool:</strong> <a class="reference external" href="https://giscience.github.io/gis-training-resource-center/content/Module_4/en_qgis_map_design_2.html?highlight=print+layout#print-layout">Print Layout</a></p>
<p class="sd-card-text">When you have finished the design of you map you can export it as pdf or image file in different datafromats.</p>
<p class="sd-card-text"><strong>Export as Image</strong></p>
<ol class="arabic simple">
<li><p class="sd-card-text">In the print layout click on <code class="docutils literal notranslate"><span class="pre">Layer</span></code> -&gt; <code class="docutils literal notranslate"><span class="pre">Export</span> <span class="pre">as</span> <span class="pre">Image</span></code></p></li>
<li><p class="sd-card-text">Chose the <strong>Result</strong> folder in the folder you have created in step 1. Give the file the name of the project e.g 2022_04</p></li>
<li><p class="sd-card-text">Click on <code class="docutils literal notranslate"><span class="pre">Save</span></code></p></li>
<li><p class="sd-card-text">The window âImage Export Optionsâ will appear.</p></li>
<li><p class="sd-card-text">Click <code class="docutils literal notranslate"><span class="pre">Save</span></code>.</p></li>
</ol>
<p class="sd-card-text">Now the image can be found in the result folder in the folder you created in Step 1</p>
<p class="sd-card-text"><strong>Export as PDF</strong></p>
<ol class="arabic simple">
<li><p class="sd-card-text">In the print layout click on <code class="docutils literal notranslate"><span class="pre">Layer</span></code> -&gt; <code class="docutils literal notranslate"><span class="pre">Export</span> <span class="pre">as</span> <span class="pre">PDF</span></code></p></li>
<li><p class="sd-card-text">Chose the <strong>Result</strong> folder in the folder you have created in step 1. Give the file the name of the project e.g 2022_04</p></li>
<li><p class="sd-card-text">Click on <code class="docutils literal notranslate"><span class="pre">Save</span></code></p></li>
<li><p class="sd-card-text">The window âPDF Export Optionsâ will appear.  For the best results, select the <code class="docutils literal notranslate"><span class="pre">lossless</span></code> image compression.</p></li>
<li><p class="sd-card-text">Click <code class="docutils literal notranslate"><span class="pre">Save</span></code>.</p></li>
</ol>
<p class="sd-card-text">Now the image can be found in the result folder in the folder you created in Step 1.</p>
<figure class="align-center">
<a class="reference internal image-reference" href="../../_images/map_output_example2.png"><img alt="../../_images/map_output_example2.png" src="../../_images/map_output_example2.png" style="width: 1000px;" /></a>
</figure>
</div>
</details></section>
<div class="toctree-wrapper compound">
</div>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./content/GIS_AA"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="fr_qgis_cyclone_trigger_madagascar.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Workflow de dÃ©clenchement en QGIS pour Madagascar</p>
      </div>
    </a>
    <a class="right-next"
       href="en_qgis_srcs_basic_ex.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">QGIS Basic Exercise SRCS</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#">QGIS Trigger Workflow for Somalia</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#background">Background</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#trigger-statement">Trigger Statement</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#trigger-input-data">Trigger Input Data</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#fixed-data">Fixed Data</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#monitoring-data">Monitoring Data</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#what-is-the-standarized-precipitation-index-spi-12">What is the Standarized Precipitation Index (SPI-12)?</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#what-is-ipc-food-security-projection-data">What is IPC Food Security Projection Data?</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#ipc-food-security-projection">IPC Food Security Projection:</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#ipc-population-weighted-index">IPC-Population Weighted Index</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#trigger-workflow-automated">Trigger Workflow Automated</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#step-1-setting-up-folder-structure">Step 1: Setting up folder structure</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#step-2-download-of-the-forecast-data">Step 2: Download of the forecast data</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#spi-12-data">SPI-12 Data</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ipc-data">IPC Data</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#step-3-loading-data-into-qgis">Step 3: Loading data into QGIS</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#step-4-load-the-model-in-the-qgis-model-designer">Step 4: Load the model in the QGIS Model Designer</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#step-5-run-the-model">Step 5: Run the model</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#step-6-visualisation-of-results">Step 6: Visualisation of results</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#step-7-making-the-print-map">Step 7: Making the Print Map</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#step-8-exporting-the-map">Step 8: Exporting the Map</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#troubleshooting-the-model">Troubleshooting the Model</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#trigger-workflow-manually">Trigger Workflow Manually</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id1">Step 1: Setting up folder structure</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id2">Step 2: Download of the forecast data</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id3">SPI-12 Data</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id5">IPC Data</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id7">Step 3: Loading data into QGIS</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#step-4-formatting-the-adm2-names">Step 4: Formatting the ADM2-names</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#step-5-dissolving-admin-2-polygons">Step 5: Dissolving admin 2 polygons</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#step-6-add-population-statistics-to-the-adm2-layer">Step 6: Add population statistics to the adm2 layer</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#step-4-extracting-ml1-and-ml2-from-the-geojson-layer">Step 4: Extracting ML1 and ML2 from the GeoJSON layer</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#step-5-fixing-the-geometries-for-the-ml-1-ml-2-layers">Step 5: Fixing the Geometries for the ML 1 &amp; ML 2 layers</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#step-6-intersection-of-ml-1-ml-2-data-with-the-district-polygons">Step 6: Intersection of ML 1 &amp; ML 2 data with the district polygons</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#step-7-calculation-of-population-per-intersection-polygon">Step 7: Calculation of Population per Intersection Polygon</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#step-8-weighting-of-the-population-based-on-ipc-phase">Step 8: Weighting of the Population based on IPC-Phase</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#step-9-adding-the-total-district-population-to-intersection-polygons">Step 9: Adding the total district population to Intersection Polygons</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#step-10-calculation-of-the-population-proportion-per-intersection-polygon">Step 10: Calculation of the Population Proportion per Intersection Polygon</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#step-11-calculate-the-ipc-index-per-district">Step 11: Calculate the IPC Index per District</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#step-12-join-ml1-and-ml2">Step 12.: Join ML1 and ML2</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#step-13-calculation-of-spi-12-mean-per-district">Step 13: Calculation of SPI-12 Mean per District</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#step-14-join-spi-12-mean-to-the-ipc-index">Step 14: Join SPI-12 Mean to the IPC Index</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#step-15-evaluate-the-trigger-activation">Step 15: Evaluate the Trigger Activation</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#step-16-visualisation-of-results">Step 16: Visualisation of results</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#step-17-making-the-print-map">Step 17: Making the print map</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#step-18-exporting-the-map">Step 18: Exporting the Map</a></li>
</ul>
</li>
</ul>

  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By HeiGIT gGmbH
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      Â© Copyright HeiGIT gGmbH.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
<div class="extra_footer">
  <script data-goatcounter="https://gtrc.goatcounter.com/count"
async src="//gc.zgo.at/count.js"></script>
<p>
This project is released under a <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.en">Creative Commons BY-NC-SA 4.0 license</a>, except where otherwise noted. Figures are subject to their original copyright and are not covered by this license.
</p>

</div>
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../_static/scripts/bootstrap.js?digest=5b4479735964841361fd"></script>
<script src="../../_static/scripts/pydata-sphinx-theme.js?digest=5b4479735964841361fd"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>