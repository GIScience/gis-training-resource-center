# QGIS common errors and issues

Here we are collecting common QGIS errors and issues as general QGIS training support.


- Different QGIS Versions
  - Main items (to add for example different displays)



## A layer is not displayed in QGIS. 

  - Solution: 
  1. Right click on the corresponding layer 
  2. Activate the  `Zoom to Layer` function in the pop-up window. 

```{figure} /fig/en_layer_display.png
---
width: 75%
name: en_layer_display
---
Screenshot of Zoom to Layer function
```
## A layer window has disappeared in QGIS.

  - Solution:

 1. Open in the main tab `View`, 
 2. In the pop-up window select `Panels` 
 3. In the sub-window activate `Browser`.   

```{figure} /fig/en_closed_layer_view.png
---
width: 75%
name: en_closed_layer_view
---
Screenshot of Closed Layer View
```

## Layers that should actually be in the same position are not on top of each other.

  - Solution:

These sort of problems are usually due to a) *mismatching KBS in layers and project*, or b) an *incorrect reprojection*. 

 a) 
 1. Check the layer properties (right-click on the corresponding layer
 2. Select in the pop-up window `Properties`
 3. In the next pop-up-window select `Information` and check which projection is defined there under the entry `Coordinate Reference System (CRS)` 
 4. And additionally check if the same projection is set in the status bar at the bottom right.
 5. Correct any discrepancies by reprojecting the layers or changing the setting of the KBS/CRS project. 

b) 

When reprojecting, follow exactly the procedure described in the Wiki under *Projections* (ergänzen). Errors often occur if KBS is set and no reprojection tool is used. If you suspect that your reprojection has gone wrong, delete all affected layers from GIS, reload the data and then reproject. 


```{figure} /fig/en_CRS_projection_check.png
---
width: 75%
name: en_CRS_projection_check.png
---
Screenshot of RS Projection Check
```


## Missing Processing Tools in the Panels Tool and incomplete Vector Tab.

  - Solution:
  
  1. Activate the `processing tools` by going to `Plugins` >
  `Manage and install Plugins` 
  2. Select `All` and rehook the `Processing function` in the corresponding list.
  
```{figure} /fig/en_missing_processing_tools.png
---
width: 75%
name: en_missing_processing_tools.png
---
Screenshot of Missing Processing Tools
```
 
## Missing Toolbox
  - Solution:

  1. To reactivate the `Toolbox` (small gear wheel, icon ergänzen) click on the `View Tab`
  2. Select in the pop-up window `Panels` 
  3. Set in the following pop-up window a hook for the `Processing Toolbox`.  

```{figure} /fig/en_missing_toolbox.png
---
width: 75%
name: en_missing_toolbox.png
---
Screenshot of Missing Toolbox
```

## QGIS training support 
(Will be added to Feedback Online Training: https://heigit.atlassian.net/wiki/spaces/RCARCQT/pages/322043980/Feedback+Online+Training)


### Modul 3 - Basic GIS operations
#### Nigeria Floods Exercise:

- Sometimes the reference is not really clear in the exercise text: goes it to the attribute table of the layer or to the PDF table concerning the areas affected by the flood.

- After each important exercise step a visualization of the result may be helpful, f. ex. for visualizing the mentioned point layer. 

### Modul 4 
#### (Ghana) Map making Exercise:  

- The North arrow ist not syncing with the corresponding map.

There are two places where you have to define with which map the N arrow should rotate with.

1. In the `Layout Tab` for the image under `General Settings` make sure that the reference map has the right map selected. 

2. Go to `Properties`, expand `Image Rotation`, select the `Sync with map option` and define here which map it should be.

  - (image ergänzen)

### Modul 5
#### Trigger & Intervention Map for Forecast-based-Action Exercise:

- I could make sense to place the reference to the coding a little bit earlier in the text to avoid that it is not overlooked or "forgotten" during the exercise.
- There are two variants of `Join attributes by location` in the toolbox, so may help to enter a note here. 
- When converting tables to csv, it could make sense to add a note in the text whether you are converting for Mac or Win computers and that from a multi-page Excel only the first page will be read out. 


#### Invalid Geometry

If the error message `Invalid Geometries` appears, it may be that vector files have "slipped" during the processing or downloading process (e.g. the lines of polygons no longer fit together exactly). These errors in the geometries can be corrected by selecting `Fix Geometries` in the Processing Toolbox.

